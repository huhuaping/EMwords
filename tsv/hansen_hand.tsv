Introduction	引言
What is Econometrics?	什么是计量经济学？
The term "econometrics" is believed to have been crafted by Ragnar Frisch (1895-1973) of Norway, one of the three principal founders of the Econometric Society, first editor of the journal Econometrica, and co-winner of the first Nobel Memorial Prize in Economic Sciences in 1969	“计量经济学”一词被认为是由挪威的 Ragnar Frisch (1895-1973) 创造的，他是计量经济学会的三位主要创始人之一，《计量经济学》杂志的第一任编辑，也是第一届诺贝尔纪念奖的共同获得者1969 年获得经济学博士学位
It is therefore fitting that we turn to Frisch's own words in the introduction to the first issue of Econometrica to describe the discipline	因此，我们在《计量经济学》第一期的导言中用弗里施自己的话来描述这门学科是合适的
A word of explanation regarding the term econometrics may be in order	关于计量经济学一词的解释是可以追溯的
But there are several aspects of the quantitative approach to economics, and no single one of these aspects, taken by itself, should be confounded with econometrics	但是，经济学的定量方法有几个方面，其中任何一个方面，就其本身而言，不应与计量经济学相混淆
And it is this unification that constitutes econometrics	正是这种统一构成了计量经济学
This definition remains valid today, although some terms have evolved somewhat in their usage	这个定义在今天仍然有效，尽管一些术语在使用上有所演变
Today, we would say that econometrics is the unified study of economic models, mathematical statistics, and economic data	今天，我们会说计量经济学是对经济模型、数理统计和经济数据的统一研究
Within the field of econometrics there are sub-divisions and specializations	在计量经济学领域内有其细分和门类
Applied econometrics is a term describing the development of quantitative economic models and the application of econometric methods to these models using economic data	应用计量经济学是指描述定量经济模型的发展并使用经济数据将计量经济学方法应用于这些模型
The Probability Approach to Econometrics	计量经济学的概率方法
The unifying methodology of modern econometrics was articulated by Trygve Haavelmo (1911-1999) of Norway, winner of the 1989 Nobel Memorial Prize in Economic Sciences, in his seminal paper "The probability approach in econometrics" (1944)	现代计量经济学的统一方法论，是由挪威的 Trygve Haavelmo (1911-1999) 在他的开创性论文“计量经济学中的概率方法”（1944 年）中提出的，他是 1989 年诺贝尔经济学奖得主
The appropriate method for a quantitative economic analysis follows from the probabilistic construction of the economic model	定量经济分析的合理方法来自于对经济模型的概率构建
Haavelmo's probability approach was quickly embraced by the economics profession	Haavelmo 的概率方法很快被经济学界所接受
Today no quantitative work in economics shuns its fundamental vision	今天，经济学中的任何量化工作都不会回避其基本愿景
While all economists embrace the probability approach, there has been some evolution in its implementation	虽然所有经济学家都接受概率方法，但它的运用已经发生了一些演变
The structural approach is the closest to Haavelmo's original idea	结构方法最接近 Haavelmo 最初的想法
The structural approach typically leads to likelihood-based analysis, including maximum likelihood and Bayesian estimation	结构方法通常导致基于似然的分析，包括极大似然和贝叶斯估计
A criticism of the structural approach is that it is misleading to treat an economic model as correctly specified	对结构性方法的批评是，将经济模型视为正确设定是一种误导
This theory has led to the concepts of the pseudo-true value (the parameter value defined by the estimation problem), the quasi-likelihood function, quasi-MLE, and quasi-likelihood inference	该理论导致了伪真值（由估计问题定义的参数值）、拟似然函数、拟极大似然估计和拟似然推断的概念
Closely related is the semiparametric approach	密切相关的是半参数方法
The semiparametric approach dominates contemporary econometrics, and is the main focus of this textbook	半参数方法在当代计量经济学中占主导地位，是这本教科书的主要关注点
Another branch of quantitative structural economics is the calibration approach	数量结构经济学的另一个分支是校准方法
Trygve Haavelmo	特里格维·哈维尔莫
The founding ideas of the field of econometrics are largely due to the Norweigen econometrician Trygve Haavelmo (1911-1999)	计量经济学领域的创始思想很大程度上归功于挪威计量经济学家 Trygve Haavelmo (1911-1999)
Econometric Terms	计量经济学术语
In a typical application, an econometrician has a set of repeated measurements on a set of variables	在典型应用中，计量经济学家对一组变量进行重复测量
We call this information the data, dataset, or sample	我们称这些信息为数据、数据集或样本
We use the term observations to refer to distinct repeated measurements on the variables	我们使用术语观测来指代对变量的不同重复测量
An individual observation could also be a measurement at a point in time, such as quarterly GDP or a daily interest rate	个体观测也可以是某个时间点的衡量指标，例如季度 GDP 或每日利率
We use bold in matrix algebraic expressions for compatibility with matrix notation	我们对矩阵代数表达式进行加粗，以紧凑地表示矩阵
Observational Data	观测数据
A common econometric question is to quantify the causal impact of one set of variables on another variable	一个常见的计量经济学问题是量化一组变量对另一变量的因果影响
Another issue of interest is the earnings gap between men and women	另一个有趣的问题是男女之间的收入差距
Ideally, we would use experimental data to answer these questions	理想情况下，我们会使用实验数据来回答这些问题
Knowledge of the joint distribution alone may not be able to distinguish between these explanations	仅对联合分布的了解可能无法区分这些解释
Most economic data sets are observational, not experimental	大多数经济数据集是观察性的，而不是实验性的
This means that all variables must be treated as random and possibly jointly determined	这意味着必须将所有变量视为随机变量，并可能是联合确定的
This discussion means that it is difficult to infer causality from observational data alone	这种讨论意味着仅从观测数据很难推断出因果关系
We will discuss these issues on occasion throughout the text	我们将在整本书中不时地讨论这些问题
Standard Data Structures	标准数据结构
There are five major types of economic data sets: cross-sectional, time series, panel, clustered, and spatial	经济数据集有五种主要类型：横截面数据、时间序列数据、面板数据、群组数据和空间数据
They are distinguished by the dependence structure across observations	它们的区别在于观测之间的依赖结构
Cross-sectional data sets have one observation per individual	横截面数据集中每个个体都有一个观测结果
Most of this text is devoted to the study of cross-section data	本书的大部分内容都致力于研究横截面数据
Time series data are indexed by time	时间序列数据按时间标引
An exception is financial data where data are available at a high frequency (daily, hourly, or by transaction) so sample sizes can be quite large	一个例外是财务数据，其中数据的可用频率很高（每天、每小时或按交易），因此样本量可能非常大
Panel data combines elements of cross-section and time series	面板数据结合了横截面和时间序列的元素
An important issue in econometric panel data is the treatment of error components	计量经济学面板数据中的一个重要问题是误差成分的处理
Clustered samples are increasing popular in applied economics and are related to panel data	群组样本在应用经济学中越来越流行，并且与面板数据相关
The major difference with panel data is that clustered sampling typically does not explicitly model error component structures, nor the dependence within clusters, but rather is concerned with inference which is robust to arbitrary forms of within-cluster correlation	与面板数据的主要区别在于，群组抽样通常不会显式地对误差成分结构进行建模，也不会对群组内的依赖性进行建模，而是关注对任意形式的群组内相关性具有稳健性的推断
Spatial dependence is another model of interdependence	空间依赖是相互依赖的另一种模式
Spatial dependence can also be viewed as a generalization of time series dependence	空间依赖也可以看作是时间序列依赖的概括
Data Structures	数据结构
As we mentioned above, most of this text will be devoted to cross-sectional data under the assumption of mutually independent observations	正如我们上面提到的，本文的大部分内容将在相互独立的观测假设下专门讨论横截面数据
Furthermore, if the data is randomly gathered, it is reasonable to model each observation as a draw from the same probability distribution	此外，如果数据是随机收集的，则将每个观测值建模为来自相同概率分布的一次抽取是合理的
For most of this text we will assume that our observations come from a random sample	对于本文的大部分内容，我们将假设我们的观测来自随机样本
The assumption of random sampling provides the mathematical foundation for treating economic statistics with the tools of mathematical statistics	随机抽样的假设为用数理统计工具处理经济统计提供了数学基础
The random sampling framework was a major intellectual breakthrough of the late 19th century, allowing the application of mathematical statistics to the social sciences	随机抽样框架是 19 世纪后期的一项重大智力突破，数理统计得以应用于社会科学
The random sampling framework enabled economic samples to be treated as random, a necessary precondition for the application of statistical methods	随机抽样框架使经济样本能够被视为随机样本，这是应用统计方法的必要前提
Econometric Software	计量经济学软件
Economists use a variety of econometric, statistical, and programming software	经济学家使用各种计量、统计和编程软件
Stata is a powerful statistical program with a broad set of pre-programmed econometric and statistical tools	Stata 是一个强大的统计程序，具有广泛的预编程计量经济学和统计工具
MATLAB, GAUSS, and OxMetrics are high-level matrix programming languages with a wide variety of built-in statistical functions	MATLAB、GAUSS 和 OxMetrics 是具有多种内置统计函数的高级矩阵编程语言
Of these languages, GAUSS used to be quite popular among econometricians, but currently MATLAB is more popular	在这些语言中，GAUSS 曾经在计量经济学家中非常流行，但目前 MATLAB 更流行
An intermediate choice is R	一个居中的选择是 R
For highly-intensive computational tasks, some economists write their programs in a standard programming language such as Fortran or C	对于高度密集的计算任务，一些经济学家使用标准编程语言（如 Fortran 或 C）编写程序
This can lead to major gains in computational speed, at the cost of increased time in programming and debugging	这可能会大大提高计算速度，但会增加编程和调试的时间
There are many other packages which are used by econometricians, include Eviews, Gretl, PcGive, Python, Julia, RATS, and SAS	计量经济学家还使用了许多其他软件包，包括 Eviews、Gretl、PcGive、Python、Julia、RATS 和 SAS
As the packages described above have distinct advantages many empirical economists use multiple packages	由于上述软件包具有明显的优势，许多实证经济学家使用多个软件包
My advice is that all students of econometrics should develop a basic level of familiarity with Stata, MATLAB, and R	我的建议是所有计量经济学的学生都应该对 Stata、MATLAB 和 R 有一定的了解
Replication	复现
Scientific research needs to be documented and replicable	科学研究需要编档和可复现
This package should be posted on the author(s) website, and posted at the journal website when that is an option	该文件包应发布在作者网站上，并在可以选择的情况下发布在期刊网站上
A complicating factor is that many current economic data sets have restricted access and cannot be shared without permission	一个复杂的因素是，当前许多经济数据集的访问受到限制，未经许可不得分享
The computed code, however, can and should be posted	然而，计算出的代码可以而且应该发布
Most journals in economics require authors of published papers to make their datasets generally available	大多数经济学期刊都要求已发表论文的作者公开其数据集
Econometrica states:	计量经济学指出：
Econometrica has the policy that all empirical, experimental and simulation results must be replicable	Econometrica 的规定是所有实证、实验和模拟结果都必须是可复现的
Therefore, authors of accepted papers must submit data sets, programs, and information on empirical analysis, experiments and simulations that are needed for replication and some limited sensitivity analysis	因此，被接受论文的作者必须提交数据集、程序和有关复现所需的实证分析、实验和模拟的信息以及一些有限的敏感性分析
The American Economic Review states:	美国经济评论指出：
It is the policy of the American Economic Association to publish papers only if the data and code used in the analysis are clearly and precisely documented and access to the data and code is non-exclusive to the authors	美国经济学会的规定是，只有在分析中使用的数据和代码被清晰准确地记录并且对数据和代码的访问对作者来说是非专有的时才发表论文
Authors of accepted papers that contain empirical work, simulations, or experimental work must provide, prior to acceptance, information about the data, programs, and other details of the computations sufficient to permit replication, as well as information about access to data and programs	包含实证工作、模拟或实验工作的已接受论文的作者必须在接受之前提供有关数据、程序和足以允许复现的其他计算细节的信息，以及有关访问数据和程序的信息
The Journal of Political Economy states:	《政治经济学杂志》指出：
It is the policy of the Journal of Political Economy to publish papers only if the data used in the analysis are clearly and precisely documented and are readily available to any researcher for purposes of replication	《政治经济学杂志》的规定是，只有在分析中使用的数据得到清晰准确的记录并且任何研究人员都可以随时拷贝以供复现时，才发表论文
If you are interested in using the data from a published paper, first check the journal's website, as many journals archive data and replication programs online	如果你对使用已发表论文中的数据感兴趣，请首先查看该期刊的网站，因为许多期刊在线存档数据和复现程序
You may need to be persistent	你可能需要坚持不懈
As a matter of professional etiquette, all authors absolutely have the obligation to make their data and programs available	作为职业礼节，所有作者绝对有义务提供他们的数据和程序
The irony of the situation is that it is typically in the best interests of a scholar to make as much of their work (including all data and programs) freely available, as this only increases the likelihood of their work being cited and having an impact	具有讽刺意味的是，将尽可能多的工作（包括所有数据和程序）免费提供通常符合学者的最大利益，因为这只会增加他们的成果被引用和产生影响的可能性
Keep this in mind as you start your own empirical project	当你开始自己的实证项目时，请记住这一点
In addition, public openness provides a healthy incentive for transparency and integrity in empirical analysis	此外，公共开放性为实证分析的透明度和完整性提供了健康的激励
Data Files for Textbook	教材配套数据文件
The three data files are identical in content: the observations and variables are listed in the same order in each, and all have variable labels	这三个数据文件的内容是相同的：观测值和变量在每个文件中都以相同的顺序列出，并且都有变量标签
For example, the text makes frequent reference to a wage data set extracted from the Current Population Survey	例如，文本经常引用从当前人口普查中摘取的工资数据集
The data sets currently included are	目前包含的数据集是
Reading the Manuscript	阅读手稿
I have endeavored to use a unified notation and nomenclature	我努力使用统一的记号和命名法
Nevertheless, every attempt has been made to make each chapter self-contained so readers can pick and choose topics according to their interests	尽管如此，我们已尽一切努力使每一章都自成一体，以便读者可以根据自己的兴趣选择主题
To fully understand econometric methods it is necessary to have a mathematical understanding of its mechanics, and this includes the mathematical proofs of the main results	为了充分理解计量经济学方法，有必要对其有数学机理的理解，这包括主要结果的数学证明
To understand a mathematical proof it is not sufficient to simply read the proof, you need to follow it and re-create it for yourself	要理解数学证明，仅仅阅读证明是不够的，你需要追根溯源并自己重新证明它
Nevertheless, many readers will not be interested in each mathematical detail, explanation, or proof	然而，许多读者不会对每个数学细节、解释或证明感兴趣
These sections can be skipped without any loss in exposition	可以跳过这些部分而不会丢失任何解释性
Key concepts in matrix algebra and a set of useful inequalities are reviewed in Appendices A \& B	矩阵代数中的关键概念和一系列有用的不等式在附录 A 和 B 中进行了回顾
They are intended to be reference material and some of the results are not used in this textbook	它们旨在作为参考资料，其中一些结论未在本教科书中使用
Conditional Expectation and Projection	条件预期和投影
The most commonly applied econometric tool is least squares estimation, also known as regression	最常用的计量经济学工具是最小二乘估计，也称为回归
Least squares is a tool to estimate the conditional mean of one variable (the dependent variable) given another set of variables (the regressors, conditioning variables, or covariates)	最小二乘法是一种用于在给定另一组变量（回归变量、条件变量或协变量）的情况下估计一个变量（因变量）条件均值的方法
In this chapter we abstract from estimation and focus on the probabilistic foundation of the conditional expectation model and its projection approximation	在本章中，我们从估计问题中提升上来，重点讨论条件期望模型的概率基础及其投影渐近
For a background in intermediate probability theory see Chapters 1-5 of Probability and Statistics for Economists	有关中级概率论的背景知识，请参阅《经济学家的概率与统计》第 1-5 章
The Distribution of Wages	工资分布
Suppose that we are interested in wage rates in the United States	假设我们对美国的工资率感兴趣
Treating unobserved wages as random variables and observed wages as realizations is a powerful mathematical abstraction which allows us to use the tools of mathematical probability	将未观察到的工资视为随机变量，将观察到的工资视为具体实现是一种强大的数学抽象，它允许我们使用数学概率工具
By making many such phone calls we can learn the full distribution	通过拨打许多这样的电话，我们可以了解完整的分布
The density contains the same information as the distribution function, but the density is typically easier to visually interpret	密度包含与分布函数相同的信息，但密度通常更易于直观解释
Figure 2.1: Density of Wages and Log Wages	图 2.1：工资密度和对数工资
Important measures of central tendency are the median and the mean	集中趋势的重要度量是中位数和平均值
The expectation is a convenient measure of central tendency because it is a linear operator and arises naturally in many economic models	期望是集中趋势的一种方便度量，因为它是一个线性算子，并且是许多经济模型中自然呈现出来的
For this reason, wage regressions typically use log wages as a dependent variable rather than the level of wages	出于这个原因，工资回归通常使用对数工资作为因变量，而不是工资水平
Conditional Expectation	条件期望
We saw in Figure 2.1(b) the density of log wages	我们在图 2.1(b) 中看到了对数工资的密度
We can see that the two wage densities take similar shapes but the density for men is somewhat shifted to the right	我们可以看到这两种工资密度具有相似的形状，但男性的密度稍微向右移动
We call these expectations "conditional" as they are conditioning on a fixed value of the variable gender	我们将这些期望称为“有条件的”，因为它们以性别的某种固定取值为条件
It is important to mention at this point that we in no way attribute causality or interpretation to the difference in the conditional expectation of log wages between men and women	需要提到的重要一点的是，我们绝不会将因果关系或解释归因于男女之间对数工资的条件期望的差异
There are multiple potential explanations	有多种可能的解释
As the two densities in Figure 2.2(a) appear similar, a hasty inference might be that there is not a meaningful difference between the wage distributions of men and women	由于图 2.2(a) 中的两个密度看起来相似，认为男性和女性的工资分布之间没有显著的差异是一种草率的推测
Figure 2.2: Log Wage Density by Gender and Race	图 2.2：按性别和种族划分的对数工资密度
primary difference between the two densities appears to be their means	两种密度之间的主要区别似乎是它们的平均值
Consider further splitting the male and female subpopulations by race, dividing the population into whites, Blacks, and other races	考虑进一步按种族划分男性和女性亚群，将人口分为白人、黑人和其他种族
Again we see that the primary difference between the four density functions is their central tendency	我们再次看到四个密度函数之间的主要区别在于它们的集中趋势
Table 2.1: Mean Log Wages by Gender and Race	表 2.1：按性别和种族划分的平均对数工资
Once again we stress that we in no way attribute causality or interpretation to the differences across the entries of the table	我们再次强调，我们绝不会将因果关系或解释归因于表格条目之间的差异
Conditional expectations (by themselves) can help in the documentation and description; conditional expectations by themselves are neither a model nor an explanation	条件期望（自己）在文档和描述上是有益的；条件期望本身既不是模型也不是解释
One benefit of focusing on conditional means is that they reduce complicated distributions to a single summary measure, and thereby facilitate comparisons across groups	关注条件均值的一个好处是它们可以将复杂的分布简化为单一的概括性度量，从而有助于跨组间比较
Because of this simplifying property, conditional means are the primary interest of regression analysis and are a major focus in econometrics	由于这种简化特性，条件均值是回归分析的主要兴趣点，也是计量经济学的主要关注点
Logs and Percentages	对数和百分比
In this section we want to motivate and clarify the use of the logarithm in regression analysis by making two observations	在本节中，我们希望通过两种计算情形来激发和阐明回归分析中对数的使用
We now explain these ideas and the nature of the approximations involved	我们现在解释这些想法和所涉及的渐近性质
Applying (2.3) to (2.2) and multiplying by 100 we find	将 (2.3) 应用于 (2.2) 并乘以 100，我们发现
This shows that 100 multiplied by the difference in logarithms is approximately the percentage difference	这表明 100 乘以对数差值大约是百分比差值
Now consider the difference in the expectation of log transformed random variables	现在考虑对数变换随机变量的期望差异
The difference in the expectation of the log transforms (multiplied by 100) is	对数变换的期望差异（乘以 100）为
In words, the difference between the average of the log transformed variables is (approximately) the percentage difference in the geometric means	换句话说，对数变换变量的平均值之间的差异（大约）是几何平均值的百分比差异
The reason why this latter observation is important is because many econometric equations take the semi-log form	后一种情形之所以重要，是因为许多计量经济学方程采用半对数形式
To compare different measures of percentage difference see Table 2.2	要比较不同的百分比差异度量，请参见表 2.2
Let's summarize this analysis	让我们总结一下这个分析
Conditional Expectation Function	条件期望函数
An important determinant of wages is education	工资的一个重要决定因素是教育
We will write this variable as education	我们将把这个变量写成教育
As the variables are measured in logs this implies a constant average percentage gap between men and women regardless of educational attainment	由于变量是用对数来衡量的，这意味着无论受教育程度如何，男性和女性之间的平均百分比之差都是恒定的
Figure 2.3: Expected Log Wage as a Function of Educationtion=20	图 2.3：预期对数工资与 education=20 的函数关系
Conditional expectations can be written with the generic notation	条件期望可以用通用符号来写
We call this the conditional expectation function (CEF)	我们称之为条件期望函数（CEF）
Given this notation, the CEF can be compactly written as	给定这个符号，CEF 可以紧凑地写为
Continuous Variables	连续变量
In the previous sections we implicitly assumed that the conditioning variables are discrete	在前面的部分中，我们潜在地假设条件变量是离散的
Figure 2.4: Log Wage and Experience	图 2.4：对数化工资和经验
then renormalize the slice so that it is a proper density	然后重新标准化样本切片使其具有正确的密度
We can see that the distribution of wages shifts to the right and becomes more diffuse as experience increases	我们可以看到，随着经验的增加，工资分布向右移动并变得更加离散
This definition (2.6) is appropriate when the conditional density (2.5) is well defined	当条件密度（2.5）定义明确时，这个定义（2.6）是合理的
Law of Iterated Expectations	迭代期望定理
An extremely useful tool from probability theory is the law of iterated expectations	概率论中一个非常有用的工具是迭代期望定理
This states that the expectation of the conditional expectation is the unconditional expectation	这表明有条件期望的期望是无条件期望
Going back to our investigation of average log wages for men and women, the simple law states that	回到我们对男性和女性平均对数工资的考察，简单的定理表明：
The general law of iterated expectations allows two sets of conditioning variables	广义迭代期望定理允许两组条件变量
Theorem 2.2 Law of Iterated Expectations	定理 2.2 迭代期望定理
Notice the way the law is applied	注意定理的适用方式
The general property is known as the Conditioning Theorem	一般性质称为条件定理
Theorem 2.3 Conditioning Theorem	定理 2.3 条件定理
CEF Error	CEF 误差
By construction, this yields the formula	通过构造，这产生了公式
A key property of the CEF error is that it has a conditional expectation of zero	CEF 误差的一个关键特性是它的条件期望为零
This fact can be combined with the law of iterated expectations to show that the unconditional expectation is also zero	这个事实可以结合迭代期望定理来证明无条件期望也是零
We state this and some other results formally	我们正式说明这一点和其他一些结果
Theorem 2.4 Properties of the CEF error	定理 2.4 CEF 误差的性质
These equations hold true by definition	根据定义，这些等式成立
Notice that the shape of the conditional distribution varies with the level of experience	请注意，条件分布的形状随经验水平而变化
Figure 2.5: Joint Density of Regression Error and Experience	图 2.5：回归误差和经验的联合密度
Mean independence does not imply full independence	均值独立并不意味着完全独立
Intercept-Only Model	仅含截距模型
This is useful for it unifies the notation	这对于统一符号很有用
Regression Variance	回归方差
Theorem 2.4.3 implies the following simple but useful result	定理 2.4.3 意味着以下简单但有用的结果
It turns out that there is a simple relationship	事实证明，有一个简单的关系
This relationship is monotonic in the sense that increasing the amount of information always decreases the variance of the unexplained portion	这种关系是单调的，因为增加信息量总是会降低无法解释部分的方差
Best Predictor	最优预测器
We state this formally in the following result	我们在下面的结果中正式说明了这一点
Theorem 2.7 Conditional Expectation as Best Predictor	定理 2.7 条件期望作为最优预测器
It may be helpful to consider this result in the context of the intercept-only model	在仅含截距模型的情形下考虑此结果可能会有所帮助
Conditional Variance	条件方差
While the conditional mean is a good measure of the location of a conditional distribution it does not provide information about the spread of the distribution	虽然条件均值可以很好地衡量条件分布的位置，但它不能提供有关分布分布的信息
Notice that the conditional variance is the conditional second moment, centered around the conditional first moment	请注意，条件方差是条件二阶矩，以条件一阶矩为中心
Given this definition we define the conditional variance of the regression error	给定这个定义，我们定义回归误差的条件方差
As an example of how the conditional variance depends on observables, compare the conditional log wage densities for men and women displayed in Figure 2.2	作为条件方差如何依赖于可观察值的示例，比较图 2.2 中显示的男性和女性的条件对数工资密度
So while men have higher average wages they are also somewhat more dispersed	因此，虽然男性的平均工资较高，但他们也更加分散
The unconditional variance is related to the conditional variance by the following identity	无条件方差通过以下恒等式与条件方差相关
The second term is the variance after controlling for education	第二项是控制教育后的方差
The regression error has a conditional mean of zero, so its unconditional error variance equals the expected conditional variance, or equivalently can be found by the law of iterated expectations	回归误差的条件均值为零，因此它的无条件误差方差等于期望的条件方差，或者等效地可以通过迭代期望定理得到
That is, the unconditional error variance is the average conditional variance	也就是说，无条件误差方差是平均条件方差
Given the conditional variance we can define a rescaled error	给定条件方差，我们可以定义重新调整的误差
Notice that (2.11) can be rewritten as	注意 (2.11) 可以重写为
This is an alternative (mean-variance) representation of the CEF equation	这是 CEF 方程的另一种（均值方差）表示
Conditional dispersion (variance) can be a fruitful subject for investigation	条件离散（方差）可能是一个富有成果的研究课题
The perverse consequences of a narrow-minded focus on the mean is parodied in a classic joke:	在一个经典笑话中讽刺了狭隘地关注平均值引起有悖常理的后果：
An economist was standing with one foot in a bucket of boiling water and the other foot in a bucket of ice	一位经济学家一只脚站在一桶开水里，另一只脚站在一桶冰里
Clearly, the economist in question ignored variance!	显然，有问题的经济学家忽略了方差！
Homoskedasticity and Heteroskedasticity	同方差和异方差
It is helpful to understand that the concepts homoskedasticity and heteroskedasticity concern the conditional variance, not the unconditional variance	理解同方差和异方差的概念与条件方差有关，而不是无条件方差，这是很有助益的
Older textbooks also tend to describe homoskedasticity as a component of a correct regression specification and describe heteroskedasticity as an exception or deviance	较旧的教科书也倾向于将同方差描述为正确回归设定的组成部分，并将异方差描述为例外或违背
The default in empirical work should be to assume that the errors are heteroskedastic, not the converse	实证工作的惯常设定应该是假设误差是异方差的，而不是相反的
In apparent contradiction to the above statement we will still frequently impose the homoskedasticity assumption when making theoretical investigations into the properties of estimation and inference methods	与上述陈述明显矛盾的是，在对估计和推断方法的性质进行理论研究时，我们仍然会经常强加同方差假设
It should always be remembered, however, that homoskedasticity is never imposed because it is believed to be a correct feature of an empirical model but rather because of its simplicity	然而，应该永远记住，同方差性从未被强加，是因为它被认为是实证模型的一个正确特征，而不是因为它的简单性
Homoskedastic or Heteroscedastic?	同方差还是异方差？
The spelling of the words homoskedastic and heteroskedastic have been somewhat controversial	同方差和异方差这两个词的拼写有些争议
McCulloch (1985) pointed out that the word is derived from Greek roots	McCulloch (1985) 指出这个词来源于希腊语词根
Regression Derivative	回归导数
We can unify the continuous and discrete cases with the notation	我们可以用符号统一连续和离散的情况
There are two important points to remember concerning our definition of the regression derivative	关于回归导数的定义，有两点需要记住
But it does not hold constant an individual's unobservable characteristics (such as ability), nor variables not included in the regression (such as the quality of education)	但它并不强制个体不可观察的特征（如能力）和回归中未包含的变量（如教育质量）保持不变
We return to a discussion of causal effects in Section 2.30	我们回到第 2.30 节中对因果效应的讨论
Linear CEF	线性 CEF
With this redefinition, the CEF is	通过这个重新定义，CEF 是
In the linear CEF model the regression derivative is simply the coefficient vector	在线性 CEF 模型中，回归导数就是系数向量
The coefficients have simple and natural interpretations as the marginal effects of changing one variable, holding the others constant	作为改变一个变量而保持其他变量不变的边际效应，这些系数具有简单而自然的解释
If in addition the error is homoskedastic we call this the homoskedastic linear CEF model	如果加上误差是同方差的，我们称之为同方差线性 CEF 模型
Homoskedastic Linear CEF Model	同方差线性 CEF 模型
Linear CEF with Nonlinear Effects	具有非线性效应的线性 CEF
The linear CEF model of the previous section is less restrictive than it might appear, as we can include as regressors nonlinear transformations of the original variables	上一节的线性 CEF 模型没有看起来那么严格，因为我们可以将原始变量的非线性变换作为自变量
In this sense, the linear CEF framework is flexible and can capture many nonlinear effects	从这个意义上说，线性 CEF 框架是灵活的，可以捕捉许多非线性效应
An exception is in the analysis of regression derivatives	回归导数的分析是一个例外
It is more useful to interpret them as a group	将它们解释为一个组更有用
Linear CEF with Dummy Variables	带有虚拟变量的线性 CEF
When all regressors take a finite set of values it turns out the CEF can be written as a linear function of regressors	当所有自变量都取一组有限的值时，结果证明 CEF 可以写成自变量的线性函数
This simplest example is a binary variable which takes only two distinct values	这个最简单的例子是一个二值变量，它只有两个不同的值
Binary variables are extremely common in econometric applications and are alternatively called dummy variables or indicator variables	二值变量在计量经济学应用中极为常见，也称为虚拟变量或指标变量
Consider the simple case of a single binary regressor	考虑单个二值自变量的简单情况
In this case, the regression intercept is the expectation for women (rather than for men) and the regression slope has switched signs	在这种情况下，回归截距是对女性（而不是男性）的期望，并且回归斜率具有切换符号
So while we started with two dummy variables, the number of regressors (including the intercept) is four	因此，虽然我们从两个虚拟变量开始，但自变量（包括截距）的数量是四个
which has eight regressors including the intercept	它有八个自变量，包括截距
We started this section by saying that the conditional expectation is linear whenever all regressors take only a finite number of possible values	我们在本节开始时说，只要所有自变量只取有限数量的可能值，条件期望就是线性的
Best Linear Predictor	最优线性预测器
In this section we derive a specific approximation with a simple interpretation	在本节中，我们通过简单的解释得出一个特定的近似值
By extension, we can define an approximation to the CEF by the linear function with the lowest mean squared error among all linear predictors	通过扩展，我们可以通过所有线性预测变量中均方误差最小的线性函数来定义 CEF 的近似值
For this derivation we require the following regularity condition	对于这个推导，我们需要以下正则性条件
is called the Linear Projection Coefficient	称为线性投影系数
and dividing by 2 , this equation takes the form	并除以 2 ，这个方程的形式为
We now have an explicit expression for the best linear predictor:	我们现在有一个最优线性预测器的显式表达式：
This completes the derivation of the model	这样就完成了模型的推导
We summarize some of the most important properties	我们总结了一些最重要的特征
Theorem 2.9 Properties of Linear Projection Model	定理 2.9 线性投影模型的性质
It is useful to reflect on the generality of Theorem 2.9	反思定理 2.9 的一般性是有帮助的
Invertibility and Identification	可逆性和识别
Minimization	最小化
The mean squared prediction error (2.19) is a function with vector argument of the form	均方预测误差 (2.19) 是具有向量参数形式的函数
To see that this is the unique minimizer we present two proofs	为了看到这是唯一的最小化，我们提供了两个证明
Using (2.31) and (2.32), we find	使用 (2.31) 和 (2.32)，我们发现
The first-order condition for minimization sets this derivative equal to zero	最小化的一阶条件将此导数设置为零
which is the second-order condition for minimization	这是最小化的二阶条件
Our second proof is algebraic	我们的第二个证明是代数的
Illustrations of Best Linear Predictor	最优线性预测器的说明
We illustrate the best linear predictor (projection) using three log wage equations introduced in earlier sections	我们使用前面部分介绍的三个对数工资方程来说明最优线性预测器（投影）
For our first example, we consider a model with the two dummy variables for gender and race similar to Table 2.1	对于我们的第一个示例，我们考虑一个包含性别和种族两个虚拟变量的模型，类似于表 2.1
This is a CEF as the variables are binary and all interactions are included	这是一个 CEF，因为变量是二值的并且包括所有交互
Now consider a simpler model omitting the interaction effect	现在考虑一个遗漏交互效应的更简单的模型
Notice that this is despite the fact that gender is included in (2.35)	请注意，尽管（2.35）中包含了性别这一事实
Figure 2.6: Projections of Log Wage onto Education and Experience	图 2.6：对数工资对教育和经验的预测
This equation is displayed in Figure 2.6(a) using the solid line, and appears to fit much better	这个方程用实线显示在图 2.6(a) 中，看起来拟合得更好
It is still an approximation to the conditional mean but it appears to be fairly reasonable	它仍然是条件均值的近似值，但似乎相当合理
and the second (given by the dashed line) is the linear projection on experience and its square	第二个（由虚线给出）是经验的线性投影及其平方
We can call this equation a quadratic projection because the function is quadratic in experience	我们可以称这个方程为二次投影，因为这个函数在经验上是二次的
Linear Predictor Error Variance	线性预测误差方差
Regression Coefficients	回归系数
Sometimes it is useful to separate the constant from the other regressors and write the linear projection equation in the format	有时将常数与其他自变量分开并将线性投影方程写成格式是很有用的
Taking expectations of this equation, we find	考虑这个方程的期望，我们发现
Regression Sub-Vectors	回归子向量
Let the regressors be partitioned as	让自变量被划分为
By the partitioned matrix inversion formula (A.3)	由分区矩阵求逆公式（A.3）
Coefficient Decomposition	系数分解
We now use these formulae to give a useful interpretation of the coefficients in terms of an iterated projection	我们现在使用这些公式根据迭代投影给出对系数的有用解释
Omitted Variable Bias	遗漏变量偏误
Again, let the regressors be partitioned as in (2.41)	同样，让自变量按 (2.41) 进行划分
Goldberger (1991) introduced the catchy labels long regression for (2.42) and short regression for (2.45) to emphasize the distinction	Goldberger (1991) 为 (2.42) 引入了长回归和 (2.45) 的短回归以强调区别
It is the consequence of omission of a relevant correlated variable	这是遗漏相关变量的结果
To avoid omitted variables bias the standard advice is to include all potentially relevant variables in estimated models	为避免遗漏变量偏误，标准建议是在估计模型中包含所有可能的相关变量
In this case, the possibility of omitted variables bias should be acknowledged and discussed in the course of an empirical investigation	在这种情况下，应在实证论证过程中承认和讨论遗漏变量偏误的可能性
Unfortunately, the above simple characterization of omitted variable bias does not immediately carry over to more complicated settings, as discovered by Luca, Magnus, and Peracchi (2018)	不幸的是，正如 Luca、Magnus 和 Peracchi (2018) 所发现的，上述对遗漏变量偏误的简单特征并没有立即延续到更复杂的设定
We can call them short, medium, and long regressions	我们可以称它们为短的、居中的和长的回归
Thus as a general rule it is unknown if estimation of the medium regression will be less biased than estimation of the short regression	因此，作为一般规则，居中的回归的估计是否会比短回归的估计更小偏误是未知的
Best Linear Approximation	最优线性渐近
In this section we show that one alternative approach turns out to yield the same answer as the best linear predictor	在本节中，我们展示了一种替代方法可以产生与最优线性预测器相同的结果
Similar to the best linear predictor we are measuring accuracy by expected squared error	与最优线性预测器类似，我们通过平方误差期望来测量准确性
Despite the different definitions, it turns out that the best linear predictor and the best linear approximation are identical	尽管定义不同，但事实证明最优线性预测器和最优线性渐近是相同的
Regression to the Mean	回归到均值
The term regression originated in an influential paper by Francis Galton (1886) where he examined the joint distribution of the stature (height) of parents and children	回归一词起源于弗朗西斯·高尔顿（Francis Galton）（1886 年）的一篇有影响力的论文，他在该论文中研究了父母和孩子的身高（身高）的联合分布
Galton called this phenomenon regression to the mean, and the label regression has stuck to this day to describe most conditional relationships	高尔顿将这种现象称为均值回归，而回归一词至今仍被用于描述大多数条件关系
To be more precise, take the simple linear projection	更准确地说，采用简单的线性投影
This means that on average, a child's height is more mediocre (closer to the population average) than the parent's	这意味着平均而言，孩子的身高比父母的身高更平均化（接近人口平均水平）
Another way of seeing this is to examine the conditions for convergence in the context of equation (2.49)	另一种看待这一点的方法是在方程（2.49）的情形下检查收敛条件
The regression fallacy arises in related empirical situations	回归谬误出现在有关实证情形下
Of course, there was no discovery - regression to the mean is a necessary feature of stable distributions	当然，没有任何发现——回归均值是稳定分布的必要特征
Reverse Regression	逆回归
Galton noticed another interesting feature of the bivariate distribution	高尔顿注意到二元分布的另一个有趣特征
This is sometimes called the reverse regression	这有时被称为逆回归
While this algebraic discovery is quite simple, it is counter-intuitive	虽然这个代数发现非常简单，但它是反直觉的
Instead, (2.50) is a valid projection, not (2.51)	相反，(2.50) 是有效的投影，而 (2.51)不是有效的
It is not a causal relation, but a natural feature of joint distributions	它不是因果关系，而是联合分布的自然特征
Limitations of the Best Linear Projection	最优线性投影的局限性
Let's compare the linear projection and linear CEF models	让我们比较一下线性投影和线性 CEF 模型
Furthermore, the linear projection may be a poor approximation to the CEF	此外，线性投影可能不是 CEF 的近似值
We see in this example that a projection error need not be a CEF error and a linear projection can be a poor approximation to the CEF	我们在这个例子中看到，投影误差不一定是 CEF 误差，线性投影可能不是 CEF 的近似值
Figure 2.7: Conditional Expectation and Two Linear Projections	图 2.7：条件期望和两个线性投影
Another defect of linear projection is that it is sensitive to the marginal distribution of the regressors when the conditional mean is nonlinear	线性投影的另一个缺陷是当条件均值非线性时，它对自变量的边际分布很敏感
The apparent difference is a by-product of linear approximations to a nonlinear expectation combined with different marginal distributions for the conditioning variables	明显的区别是非线性期望的线性近似与条件变量的不同边际分布相结合的副产品
Random Coefficient Model	随机系数模型
A model which is notationally similar to but conceptually distinct from the linear CEF model is the linear random coefficient model	一个在记号上与线性 CEF 模型相似但在概念上不同的模型是线性随机系数模型
It is interesting, however, to discover that the linear random coefficient model implies a linear CEF	然而，有趣的是线性随机系数模型意味着线性 CEF
Causal Effects	因果效应
So far we have avoided the concept of causality, yet often the underlying goal of an econometric analysis is to measure a causal relationship between variables	到目前为止，我们已经避开了因果关系的概念，但计量经济分析的基本目标通常是衡量变量之间的因果关系
We are not just interested in the conditional expectation or linear projection, we would like to know the actual change	我们不仅对条件期望或线性投影感兴趣，我们还想知道实际的变化
Two inherent barriers are: (1) the causal effect is typically specific to an individual; and (2) the causal effect is typically unobserved	两个内在的障碍是：（1）因果效应通常是特定于个体的； (2) 因果效应通常是无法观察到的
Consider the effect of schooling on wages	考虑学校教育对工资的影响
The causal effect is unobserved because the most we can observe is their actual level of education and their actual wage, but not the counterfactual wage if their education had been different	因果效应是不可观察到的，因为我们能观察到的最多的是他们的实际教育水平和实际工资，但不是假定他们教育不同时的反事实工资
To be concrete suppose that there are two individuals, Jennifer and George, and both have the possibility of being high-school graduates or college graduates, and both would have received different wages given their choices	具体假设有两个人，詹妮弗和乔治，他们都有可能成为高中毕业生或大学毕业生，并且根据他们的选择，他们都会得到不同的工资
The causal effects are specific to the individual and neither causal effect is observed	因果效应是特定于个体的，因果效应不能被观察到
Rubin (1974) developed the potential outcomes framework (also known as the Rubin causal model) to clarify the issues	Rubin (1974) 开发了潜在结果框架（也称为 Rubin 因果模型）来阐明这些问题
In our example these factors are summarized by the labels "Jennifer" and "George"	在我们的示例中，这些因素通过标签“Jennifer”和“George”进行了总结
In our example this means changing an individual's education while holding constant their other attributes	在我们的示例中，这意味着在保持其他属性不变的同时改变个体的教育
It may be helpful to understand that (2.53) is a definition and does not necessarily describe causality in a fundamental or experimental sense	认识到 (2.53) 是一个定义，并不一定描述基本或实验意义上的因果关系，这可能会有所助益
Perhaps it would be more appropriate to label (2.53) as a structural effect (the effect within the structural model)	也许将（2.53）标记为结构效应（结构模型内的效应）会更合适
Table 2.3: Example Distribution	表 2.3：示例分布
He defined it as follows	他定义如下
The ACE is the population average of the causal effect	ACE 是因果效应的总体平均值
To illustrate, let's return to our example of Jennifer and George	为了说明，让我们回到詹妮弗和乔治的例子
An econometrician who randomly samples 32 individuals and collects data on educational attainment and wages will find the wage distribution displayed in Table 2.3	一位计量经济学家随机抽样 32 个体并收集有关教育程度和工资的数据，会发现表 2.3 中显示的工资分布
Because most Jennifer's go to College, and most George's do not, the regression line is tilted away from the average causal effect towards the two large points	因为大多数 Jennifer 上过大学，而大多数 George 没有上过大学，所以回归线从平均因果效应向两个大点倾斜
Figure 2.8: Average Causal Effect vs Regression	图 2.8：平均因果效应与回归
Our first lesson from this analysis is that we need to be cautious about interpreting regression coefficients as causal effects	我们从这个分析中得到的第一个经验是，我们需要谨慎地将回归系数解释为因果效应
education attainment) can be interpreted as randomly assigned it is inappropriate to interpret the regression coefficients causally	除非自变量（例如教育程度）可以解释为随机分配，否则不适合将回归系数解释为因果性
Our second lesson will be that a causal interpretation can be obtained if we condition on a sufficiently rich set of covariates	我们的第二个经验是，如果我们以一组足够丰富的协变量为条件，就可以获得因果解释
We now explore this issue	我们现在探讨这个问题
Instead, the following is sufficient	相反，以下内容就足够了
Definition 2.9 Conditional Independence Assumption (CIA)	定义 2.9 条件独立假设 (CIA)
Under the CIA the treatment effect measured by the regression is	在 CIA 下，回归测度的处置效应是
This is the conditional ACE	这是条件 ACE
Thus under the CIA the regression coefficient equals the ACE	因此，在 CIA 下，回归系数等于 ACE
This is a fascinating result	这是一个令人着迷的结果
This means the CEF has causal economic meaning, giving strong justification to estimation of the CEF	这意味着 CEF 具有因果经济意义，为 CEF 的估计提供了强有力的理由
It is important to understand the critical role of the CIA	了解条件独立假设的关键作用是很重要的
In the wage/education example it means that education is not selected by individuals based on their unobserved characteristics	在工资/教育示例中，这意味着个体不会根据他们未观察到的特征来选择教育
It follows that educational attainment and type are independent once we condition on the test score	因此，一旦我们以考试成绩为条件，教育程度和类型是独立的
This means that college attendence is independent of type, conditional on the aptitude test score	这意味着大学入学率与类型无关，取决于能力倾向检验分数
The conditional ACE depends on the test score	条件 ACE 取决于考试成绩
Define a dummy highscore to indicate students who received a high test score	定义一个虚拟变量 highscore 来表示获得高分的学生
To summarize our findings, we have shown how it is possible that a simple regression will give a false measurement of a causal effect, but a more careful regression can reveal the true causal effect	为了总结我们的发现，我们已经展示了一个简单的回归如何可能对因果效应进行错误的测度，但一个更细致的回归也可以揭示真正的因果效应
The key is to condition on a suitably rich set of covariates such that the remaining unobserved factors affecting the outcome are independent of the treatment variable	关键是要以一组适当富余的协变量为条件，以使影响结果的其余不可观察因素与处置变量无关
Existence and Uniqueness of the Conditional Expectation	条件期望的存在性和唯一性
However, the conditional mean exists quite generally without appealing to the properties of either discrete or continuous random variables	然而，条件均值的存在相当普遍，而不牵涉到离散或连续随机变量的性质
To justify this claim we now present a deep result from probability theory	为了证明这一说法的合理性，我们现在提出了概率论的一个深刻结论
Theorem 2.13 Existence of the Conditional Expectation	定理 2.13 条件期望的存在性
See, for example, Ash (1972), Theorem 6.3.3	例如，参见 Ash (1972)，定理 6.3.3
This is not a practical concern for applications, so we defer such distinctions for formal theoretical treatments	这不是应用中的实际问题，因此我们将这种区别推后到正式理论讨论中
Identification	鉴别
A critical and important issue in structural econometric modeling is identification, meaning that a parameter is uniquely determined by the distribution of the observed variables	结构计量经济学建模中的一个关键和重要问题是识别，这意味着参数由观察到的变量的分布唯一确定
It is relatively straightforward in the context of the unconditional and conditional expectation, but it is worthwhile to introduce and explore the concept at this point for clarity	在无条件和条件期望的情境下，它相对简单，但为了清楚起见，在这里引入和探讨这个概念是值得的
Most parameters are identified only on a strict subset of the space of all distributions	大多数参数仅在所有分布空间的严格子集上被识别
Next, consider the conditional expectation	接下来，考虑条件期望
Theorem 2.14 Identification of the Conditional Expectation	定理 2.14 条件期望的识别
It might seem as if identification is a general property for parameters so long as we exclude degenerate cases	只要我们排除退化情况，识别似乎是参数的一般属性
A typical solution to the identification problem is to assume a parametric distribution	识别问题的典型解决方案是假定一种参数分布
In modern econometrics this is generally viewed as a second-best solution as identification has been achieved only through the use of an arbitrary and unverifiable parametric assumption	在现代计量经济学中，这通常被视为次优解决方案，因为只有通过使用任意且无法验证的参数假设才能达到识别
A pessimistic conclusion might be that it is impossible to identify parameters of interest from censored data without parametric assumptions	一个悲观的结论可能是，如果没有参数假设，就不可能从删失数据中识别出关注的参数
This is often called nonparametric identification as the parameters are identified without restriction to a parametric class	这通常称为非参数识别，因为参数的识别不受参数类的限制
What we have learned from this little exercise is that in the context of censored data moments can only be parametrically identified while non-censored quantiles are nonparametrically identified	我们从这个小练习中学到的是，在删失数据的背景下，只能通过参数化识别矩，而非删失分位数是非参数化识别
Part of the message is that a study of identification can help focus attention on what can be learned from the data distributions available	部分信息是，对识别的研究可以有助于将注意力集中在从可用数据分布中学到的东西上
Technical Proofs	技术证明
Proof of Theorem 2.2 Again assume that the variables have a joint density	定理 2.2 的证明 再次假设变量具有联合密度
Proof of Theorem 2.3	定理 2.3 的证明
Equation (2.8) follows by applying the simple law of iterated expectations (Theorem 2.1) to (2.7)	方程 (2.8) 将的简单迭代期望定律 (定理 2.1) 应用于 (2.7)
Taking unconditional expectations, this implies	采用无条件期望，这意味着
The monotonicity of the variances of the conditional expectation (2.61) applied to the variance decomposition (2.62) implies the reverse monotonicity of the variances of the differences, completing the proof	条件期望 (2.61) 的方差单调性，应用到方差分解 (2.62) ，则意味着差异方差的逆单调性，因而得证
Proof of Theorem 2.9 For part 1, by the expectation inequality (B.30), (A.17) and Assumption 2.1,	定理 2.9 的证明 对于第 1 部分，由期望不等式 (B.30)、(A.17) 和假设 2.1，
Similarly, using the expectation inequality (B.30), the Cauchy-Schwarz inequality (B.32), and Assumption 2.1,	类似地，使用期望不等式 (B.30)、Cauchy-Schwarz 不等式 (B.32) 和假设 2.1，
For part 4, first note that	对于第 4 部分，首先请注意
the final inequality by assumption	假设的最终不等式
The Algebra of Least Squares	最小二乘代数
In this chapter we introduce the popular least squares estimator	在本章中，我们将介绍流行的最小二乘估计量
Most of the discussion will be algebraic, with questions of distribution and inference deferred to later chapters	大部分讨论都是代数的，分布和推断问题推迟到后面的章节
Samples	样品
households which includes questions on employment, income, education, and demographic characteristics	一个可能的数据集是当前人口调查 (CPS)，这是一项对美国家庭的调查，其中包括有关就业、收入、教育和人口特征的问题
Notationally we wish to distinguish observations (realizations) from the underlying random variables	从记号上讲，我们希望将观测（实现）与潜在的随机变量区分开来
From the viewpoint of empirical analysis a dataset is an array of numbers	从实证分析的角度来看，数据集是一组数字
For statistical analysis we view the dataset as random, or more precisely as a realization of a random process	对于统计分析，我们将数据集视为随机的，或者更准确地说是随机过程的实现
The individual observations could be draws from a common (homogeneous) distribution or could be draws from heterogeneous distributions	个别观测可以从一个共同的（同质的）分布中提取，也可以从异质的分布中提取
We have no reason to expect anything special about either observation	我们没有理由期待这两种观测有什么特别之处
Even in this case we can view the observations as if they are random draws from an underlying infinitely-large population as this will allow us to apply the tools of statistical theory	即使在这种情况下，我们也可以将观测结果看作是从潜在的无限大总体中随机抽取的，因为这将使我们能够应用统计理论的工具
the minimizer of the expected squared error	期望平方误差的最小值
The coefficient has the explicit solution (3.1)	该系数具有显式解 (3.1)
Moment Estimators	矩估计量
Let's explain this in detail	让我们详细解释一下
Notice that we have written this using two pieces of notation	请注意，我们使用两种符号来编写它
Now suppose that we are interested in a nonlinear function of a set of moments	现在假设我们对一组矩的非线性函数感兴趣
Least Squares Estimator	最小二乘估计量
is called the sum of squared errors function	称为误差平方和函数
Solving for Least Squares with One Regressor	用一个自变量求解最小二乘
The sum of squared errors is the sum of the 20 squared lengths	误差平方和是 20 个长度的平方之和
The sum of squared errors is the function	误差平方和是函数
Figure 3.1: Regression With One Regressor	图 3.1：使用一个自变量的回归
This shows that the OLS estimator in the intercept-only model is the sample mean	这表明仅含截距模型中的 OLS 估计量是样本均值
Solving for Least Squares with Multiple Regressors	使用多个自变量求解最小二乘
The sum of squared errors is the sum of the 100 squared lengths	误差平方和是 100 个长度的平方之和
The sum of squared errors can be written as	误差平方和可以写为
Figure 3.2: Regression with Two Variables	图 3.2：具有两个变量的回归
Figure 3.3: SSE with Two Regressors	图 3.3：具有两个自变量的 SSE
which is a positive semi-definite matrix	是一个半正定矩阵
The expression (3.11) is a notationally simple generalization but requires a careful attention to vector and matrix manipulations	表达式 (3.11) 是一个简单的一般化记号，但需要仔细注意向量和矩阵操作
which is identical with (3.11)	与 (3.11) 相同
This will be discussed further in Section 3.24	这将在第 3.24 节中进一步讨论
Adrien-Marie Legendre	阿德里安·玛丽·勒让德
The method of least squares was published in 1805 by the French mathematician Adrien-Marie Legendre (1752-1833)	最小二乘法由法国数学家 Adrien-Marie Legendre (1752-1833) 于 1805 年发表
Hence the method became known as Ordinary Least Squares and to this day we still use the abbreviation OLS to refer to Legendre's estimation method	因此该方法被称为普通最小二乘法，直到今天我们仍然使用缩写 OLS 来指代勒让德的估计方法
Illustration	说明
We illustrate the least squares estimator in practice with the data set used to calculate the estimates reported in Chapter 2	我们使用用于计算第 2 章中报告估计值的数据集来说明实践中的最小二乘估计量
The bottom row are the sums of the elements in that column	底行是该列中元素的总和
Table 3.1: Observations From CPS Data Set	表 3.1：来自 CPS 数据集的观测结果
Taking the inverse we obtain	取逆我们得到
Once again, this is rarely done by applied economists because computer software is available to ease the process	再次地，应用经济学家很少这样做，因为可以使用计算机软件来简化这一过程
We often write the estimated equation using the format	我们经常使用以下形式编写估计方程
Another use of the estimated equation (3.12) is for prediction	估计方程（3.12）的另一个用途是用于预测
Equation (3.12) is called a bivariate regression as there are two variables	方程（3.12）被称为双变量回归，因为有两个变量
Least Squares Residuals	最小二乘残差
To see this by a direct calculation, using (3.14) and (3.11),	要通过直接计算看到这一点，使用 (3.14) 和 (3.11)，
Thus the residuals have a sample mean of zero and the sample correlation between the regressors and the residual is zero	因此，残差的样本均值为零，自变量和残差之间的样本相关性为零
These are algebraic results and hold true for all linear regression estimates	这些是代数结果，适用于所有线性回归估计
Demeaned Regressors	离差自变量
In this case (3.16) can be written as the equation system	在这种情况下（3.16）可以写成方程组
Subtracting from the second we obtain	从第二个做减法，我们得到
Thus the OLS estimator for the slope coefficients is OLS with demeaned data and no intercept	因此，斜率系数的 OLS 估计量是具有离差数据且没有截距的 OLS
The representation (3.18) is known as the demeaned formula for the least squares estimator	表示 (3.18) 被称为最小二乘估计量的离差公式
Model in Matrix Notation	矩阵形式模型
For many purposes, including computation, it is convenient to write the model and statistics in matrix notation	对于许多目的，包括计算，用矩阵形式编写模型和统计数据很方便
Sample sums can be written in matrix notation	样本总和可以用矩阵形式编写
Therefore the least squares estimator can be written as	因此最小二乘估计量可以写成
The matrix version of (3.15) and estimated version of (3.19) is	(3.15) 的矩阵版本和 (3.19) 的估计版本是
Equivalently the residual vector is	等价的残差向量是
Using the residual vector we can write (3.16) as	使用残差向量，我们可以将 (3.16) 写为
It can also be useful to write the sum of squared error criterion as	将误差平方和准则写为
Using matrix notation we have simple expressions for most estimators	使用矩阵表示法，我们对大多数估计量都有简单的表达式
Early Use of Matrices	早期使用矩阵
Projection Matrix	投影矩阵
This is a property of a projection matrix	这是投影矩阵的性质
For the general properties of projection matrices see Section A.11	有关投影矩阵的一般性质，请参见第 A.11 节
Note that in this case	请注意，在这种情况下
We close this section by proving the claims in Theorem 3.3	我们通过证明定理 3.3 中的观点来结束本节
See Appendix A.5 for definition and properties of the trace operator	迹算子的定义和特征见附录 A.5
Appendix A.11 shows that part 4 holds for any idempotent matrix	附录 A.11 表明第 4 部分适用于任何幂等矩阵
Annihilator Matrix	零矩阵
We can also use (3.23) to write an alternative expression for the residual vector	我们还可以使用 (3.23) 为残差向量写一个替代表达式
Estimation of Error Variance	误差方差的估计
An interesting implication is that	一个有趣的暗示是
Analysis of Variance	方差分析
Another way of writing (3.23) is	另一种写法（3.23）是
This decomposition is orthogonal, that is	这种分解是正交的，即
This is commonly called the analysis-of-variance formula for least squares regression	这通常称为最小二乘回归的方差分析公式
A commonly reported statistic is the coefficient of determination or R-squared:	一个常见的统计数据是判定系数或 R 平方：
The coefficient of determination was introduced by Wright (1921)	Wright (1921) 引入了判定系数
Projections	投影
One way to visualize least squares fitting is as a projection operation	投影操作可以作为最小二乘拟合的一种可视化方法
To visualize examine Figure 3.4	可视化检查图 3.4
Regression Components	回归成分
Examine the inner minimization problem in (3.34)	检查 (3.34) 中的内部最小化问题
By a similar argument we find	通过类似的论证，我们发现
Regression Components (Alternative Derivation)	回归成分（替代推导）
Since this is a classic derivation we present it here for completeness	由于这是一个经典的推导，为了完整起见，我们在这里展示它
Together, this is Theorem 3.4	这就是定理 3.4
Residual Regression	残差回归
We have proven the following theorem	我们已经证明了以下定理
Theorem 3.5 Frisch-Waugh-Lovell (FWL)	定理 3.5 Frisch-Waugh-Lovell (FWL)
In some contexts (such as panel data models, to be introduced in Chapter 17), the FWL theorem can be used to greatly speed computation	在某些情况下（例如面板数据模型，将在第 17 章中介绍），FWL 定理可用于大大加快计算速度
The FWL theorem is a direct analog of the coefficient representation obtained in Section 2.23	FWL 定理是 2.23 节中获得的系数形式的直接模拟
This result can be insightful when interpreting regression coefficients	在解释回归系数时，这个结果可能很有见地
A common application of the FWL theorem is the demeaning formula for regression obtained in (3.18)	FWL 定理的一个常见应用是在 (3.18) 中获得的回归离差公式
Ragnar Frisch (1895-1973) was co-winner with Jan Tinbergen of the first Nobel Memorial Prize in Economic Sciences in 1969 for their work in developing and applying dynamic models for the analysis of economic problems	Ragnar Frisch (1895-1973) 与 Jan Tinbergen 是1969年第一届诺贝尔经济学奖的共同获奖者，表彰他们在分析经济问题中发展并应用动态模型
made a number of foundational contributions to modern economics beyond the	为现代经济学做出了许多基础性贡献
Frisch-Waugh-Lovell Theorem, including formalizing consumer theory	Frisch-Waugh-Lovell 定理，包括形式化消费者理论
business cycle theory	商业周期理论
Leverage Values	杠杆价值
They appear frequently in the algebraic and statistical analysis of least squares regression, including leave-one-out regression, influential observations, robust covariance matrix estimation, and cross-validation	它们经常出现在最小二乘回归的代数和统计分析中，包括留一法回归、有影响观测、稳健协方差矩阵估计和交叉验证
A few properties of the leverage values are now listed	现在列出了杠杆值的一些特征
It is common to say that a regression design is balanced when the leverage values are all roughly equal to one another	通常说，当杠杆值都大致相等时，回归设计是平衡的
An example of complete balance is when the regressors are all orthogonal dummy variables, each of which have equal occurrance of 0's and 1's	完全平衡的一个例子是，当回归变量都是正交虚拟变量时，每个变量都有相同的 0 和 1 出现
A regression design is unbalanced if some leverage values are highly unequal from the others	如果某些杠杆值与其他杠杆值高度不相等，则回归设计是不平衡的
An example where this occurs is when there is a dummy regressor which takes the value 1 for only one observation in the sample	发生这种情况的一个示例是，当有一个虚拟自变量仅对样本中的一个观测值取值为 1 时
The maximal leverage value (3.41) will change depending on the choice of regressors	最大杠杆值 (3.41) 将根据回归变量的选择而变化
Some inference procedures (such as robust covariance matrix estimation and cross-validation) are sensitive to high leverage values	一些推断过程（例如稳健的协方差矩阵估计和交叉验证）对高杠杆值很敏感
We will return to these issues later	我们稍后会回到这些问题
We now prove Theorem 3.6	我们现在证明定理 3.6
Leave-One-Out Regression	留一法回归
There are a number of statistical procedures - residual analysis, jackknife variance estimation, crossvalidation, two-step estimation, hold-out sample evaluation - which make use of estimators constructed on sub-samples	有许多统计程序——残差分析、折刀方差估计、交叉验证、两步估计、保留样本评估——它们是利用在子样本上构建估计量
This is called leave-one-out (LOO) regression	这称为留一法 (LOO) 回归
The prediction errors are better estimators than the residuals because the former are based on authentic predictions	预测误差是比残差更好的估计量，因为前者是基于真实的预测
Theorem 3.7 The leave-one-out estimator and prediction error equal	定理 3.7 留一估计量和预测误差相等
Then (3.44) is equivalent to	那么 (3.44) 等价于
One use of the prediction errors is to estimate the out-of-sample mean squared error:	预测误差的一种用途是估计样本外均方误差：
This is known as the sample mean squared prediction error	这称为样本均方预测误差
We complete the section with a proof of Theorem 3.7	我们用定理 3.7 的证明来完成本节
Re-writing we obtain (3.44)	重写后我们得到（3.44）
Influential Observations	有影响的观测
Another use of the leave-one-out estimator is to investigate the impact of influential observations, sometimes called outliers	留一法估计量的另一个用途是审查有影响的观测个体的影响，有时称为异常值
From (3.43) we know that	从 (3.43) 我们知道
Figure 3.5: Impact of an Influential Observation on the Least-Squares Estimator	图 3.5：有影响的观测对最小二乘估计量的影响
For a general assessment, we can focus on the predicted values	作为一般性评价，我们可以关注预测值
To determine if any individual observations are influential in this sense several diagnostics have been proposed (some names include DFITS, Cook's Distance, and Welsch Distance)	为了确定任何个体观测在这个意义上是否有影响，已经提出了几种诊断方法（一些名称包括 DFITS、Cook 距离和 Welsch 距离）
This is the largest (absolute) change in the predicted value due to a single observation	这是由于单次观测导致的预测值的最大（绝对）变化
If an observation is determined to be influential what should be done? As a common cause of influential observations is data error, the influential observations should be examined for evidence that the observation was mis-recorded	如果某个观测结果被确定为有影响力，应该怎么做？由于有影响的观测的一个常见原因是数据误差，因此应检查有影响的观测，以寻找错误记录观测的证据
This latter practice is viewed skeptically by many researchers who believe it reduces the integrity of reported empirical results	许多研究人员对后一种做法持怀疑态度，他们认为这会降低报告的实证结果的完整性
For an empirical illustration consider the log wage regression (3.13) for single Asian men	作为实证说明，请考虑单身亚洲男性的对数工资回归 (3.13)
We restrict the sample to individuals with less than 45 years experience, re-estimate, and obtain the following estimates	我们将样本限定为经验不足 45 年的个体，重新估计，并获得以下估计
Comparing (3.49) with (3.13), the slope coefficient for education is essentially unchanged, but the coefficients on experience and its square have slightly increased	（3.49）与（3.13）比较，教育的斜率系数基本不变，但经验系数及其平方略有增加
By eliminating the influential observation equation (3.49) can be viewed as a more robust estimate of the conditional mean for most levels of experience	通过消除有影响的观测方程 (3.49) 可以被视为对大多数经验水平的条件均值的更稳健估计
Whether to report (3.13) or (3.49) in an application is largely a matter of judgment	在应用中是否报告 (3.13) 或 (3.49) 在很大程度上取决于判断
CPS Data Set	CPS 数据集
In this section we describe the data set used in the empirical illustrations	在本节中，我们将描述实证论述中使用的数据集
The Current Population Survey (CPS) is a monthly survey of about 57,000 U.S. households conducted by the Bureau of the Census of the Bureau of Labor Statistics	当前人口调查 (CPS) 是由美国劳工统计局人口普查局对约 57,000 个美国家庭进行的月度调查
From the March 2009 survey we extracted the individuals with non-allocated variables who were fulltime employed (defined as those who had worked at least 36 hours per week for at least 48 weeks the past year), and excluded those in the military	从 2009 年 3 月的调查中，我们提取了具有未分配变量的全职工作人员（定义为过去一年每周工作至少 36 小时、至少工作 48 周的人员），并排除了那些在军队中的人员
Numerical Computation	数值计算
Modern econometric estimation involves large samples and many covariates	现代计量经济学估计涉及大样本和许多协变量
Nevertheless it is useful to understand the underlying calculation methods as choices can occasionally make substantive differences	尽管如此，了解基本的计算方法还是很有用的，因为选择有时会产生实质性的差异
While today nearly all statistical computations are made using statistical software running on electronic computers, this was not always the case	虽然今天几乎所有的统计计算都是使用在电子计算机上运行的统计软件进行的，但情况并非总是如此
space program is described in the book and popular movie Hidden Figures, a fictional computer/astronaut is the protagonist of the novel The Calculating Stars, and the life of computer/astronomer Henrietta Swan Leavitt is dramatized in the play Silent Sky	例如，被本书和流行电影 Hidden Figures所描绘的美国太空计划中，虚构的计算机和宇航员是小说《计算之星》的主角，以及在《寂静的天空》中的计算机和天文学家 Henrietta Swan Leavitt 被戏剧化的生活
Until programmable electronic computers became available in the 1960s economics graduate students were routinely employed as computers	在 1960 年代可编程电子计算机出现之前，经济学研究生通常被聘为算数家
Statistical packages use a variety of matrix methods to solve (3.50)	统计包使用多种矩阵方法来求解（3.50）
Collinearity Errors	共线性误差
For the least squares estimator to be uniquely defined the regressors cannot be linearly dependent	对于要唯一定义的最小二乘估计量，自变量不能线性相关
This can occur for many reasons, including the following	发生这种情况的原因有很多，包括以下原因
In Stata (and in the `lm` package in R), a regression will be reported but one or more variables will be omitted	在 Stata（以及 R 中的 `lm` 包）中，将报告回归，但将省略一个或多个变量
If any of these warnings or error messages appear, the correct response is to stop and examine the regression coding and data	如果出现任何这些警告或报错消息，正确的反应是停止并检查回归的编码和数据
It is the researcher's job to understand the underlying cause and enact a suitable remedy	研究人员的工作是了解根本原因并制定合适的补救措施
There is also a possibility that the statistical package will not detect and report the matrix singularity	统计包也有可能不会检测和报告矩阵奇异性
It is therefore recommended that you perform a numerical check for matrix singularity when using explicit matrix operations in MATLAB	因此，建议你在 MATLAB 中使用显式矩阵运算时对矩阵奇异性进行数值检查
Ill-conditioned regressors have the potential problem that the numerical results (the reported coefficient estimates) will be inaccurate	病态回归变量存在数值结果（报告的系数估计）不准确的潜在问题
Nevertheless, we should try and avoid ill-conditioned regressions whenever possible	然而，我们应该尽可能避免病态回归
There are strategies which can reduce or even eliminate ill-conditioning	有一些策略可以减少甚至消除不良条件
This is often sufficient for applications	这对于应用程序来说通常是足够的
Ill-conditioning can often be completely eliminated by orthogonalization of the regressors	病态条件通常可以通过自变量的正交化完全消除
What this shows is that when a regression has a small condition number it is important to examine the specification carefully	这表明，当回归的条件数较小时，仔细检查设定很重要
These choices should be made by the researcher not by an automated software program	这些选择应该由研究人员做出，而不是由自动化软件程序做出
Programming	编程
Most packages allow both interactive programming (where you enter commands one-by-one) and batch programming (where you run a pre-written sequence of commands from a file)	大多数程序包都允许交互式编程（你一个接一个地输入命令）和批处理编程（你从文件中运行预先编写的命令序列）
This is the best way to control and document your work	这是控制和记录你的工作的最优方式
Batch programs are text files where each line executes a single command	批处理程序是文本文件，其中每一行执行一个命令
To execute a program file you type a command within the program	要执行程序文件，你在程序中键入命令
MATLAB: `run chapter3` executes the file `chapter3.m`	MATLAB：`run chapter3` 执行文件 `chapter3.m`
R: `source ('chapter3.r')` executes the file `chapter3.r`	R: `source ('chapter3.r')` 执行文件`chapter3.r`
There are similarities and differences between the commands used in these packages	这些包中使用的命令有相同点和不同点
Stata and R use a hard return	Stata 和 R 使用硬回馈
The advantage of using built-in functions is that coding is simplified and you are much less likely to make a coding error	使用内置函数的好处是简化了编码，并且你不太可能出现编码错误
Least Squares Regression	最小二乘回归
In this chapter we investigate some finite-sample properties of the least squares estimator in the linear regression model	在本章中，我们研究线性回归模型中最小二乘估计量的一些有限样本特征
In particular we calculate its finite-sample expectation and covariance matrix and propose standard errors for the coefficient estimators	特别是，我们计算其有限样本期望和协方差矩阵，并提出系数估计量的标准误差
Random Sampling	随机抽样
To derive the finitesample properties of the estimators we will need to additionally specify the dependence structure across the observations	为了导出估计量的有限样本特征，我们需要另外指定观测值之间的依赖结构
The simplest context is when the observations are mutually independent in which case we say that they are independent and identically distributed or i.i.d	最简单的情况是观测值相互独立，在这种情况下，我们说它们是独立同分布的或独立同分布的
That is, if you randomly sample 1000 people from a large country such as the United States it seems reasonable to model their responses as mutually independent	也就是说，如果你从美国等大国随机抽取 1000 人样本，那么将他们的回答建模为相互独立似乎是合理的
This assumption may be violated if individuals in the sample are connected in some way, for example if they are neighbors, members of the same village, classmates at a school, or even firms within a specific industry	如果样本中的个体以某种方式存在联系，例如，如果他们是邻居、同村成员、学校同学，甚至是特定行业内的公司，则可能会违反这一假设
We will discuss clustering in more detail in Section 4.21	我们将在 4.21 节中更详细地讨论群组
Sample Mean	样本平均值
We start with the simplest setting of the intercept-only model	我们从仅含截距模型最简单的设置开始
This shows that the expected value of the least squares estimator (the sample mean) equals the projection coefficient (the population expectation)	这表明最小二乘估计量的期望值（样本均值）等于投影系数（总体期望）
An estimator with the property that its expectation equals the parameter it is estimating is called unbiased	其期望等于其估计参数，具有这一特征的估计量称为无偏估计量
This is the familiar formula for the variance of the sample mean	这是样本均值方差的常见公式
Linear Regression Model	线性回归模型
We now consider the linear regression model	我们现在考虑线性回归模型
Throughout this chapter we maintain the following	在本章中，我们保持以下内容
Assumption 4.2 Linear Regression Model	假设4.2 线性回归模型
The variables have finite second moments and an invertible design matrix	变量具有有限的二阶矩和可逆的构造矩阵
In the latter case we add the following assumption	在后一种情况下，我们添加以下假设
Assumption 4.3 Homoskedastic Linear Regression Model	假设 4.3 同方差线性回归模型
Expectation of Least Squares Estimator	最小二乘估计量的期望
In this section we show that the OLS estimator is unbiased in the linear regression model	在本节中，我们将证明 OLS 估计量在线性回归模型中是无偏的
At the risk of belaboring the derivation, another way to calculate the same result is as follows	需要付出繁琐推导的代价，计算相同结果的另一种方法如下
We have shown the following theorem	我们已经证明了以下定理
Theorem 4.1 Expectation of Least Squares Estimator	定理4.1 最小二乘估计量的期望
Variance of Least Squares Estimator	最小二乘方差估计量
In this section we calculate the conditional variance of the OLS estimator	在本节中，我们计算 OLS 估计量的条件方差
We now derive its form	我们现在推导出它的形式
where the first equality uses independence of the observations (Assumption 4.1) and the second is (4.2)	其中第一个等式使用观测的独立性（假设 4.1），第二个等式是（4.2）
It is useful to note that	值得注意的是
Theorem 4.2 Variance of Least Squares Estimator	定理4.2最小二乘方差估计量
Unconditional Moments	无条件矩
This existence problem arises whenever there are discrete regressors	只要存在离散自变量，这种问题就会出现
This dilemma is avoided when the regressors have continuous distributions	当自变量具有连续分布时，可以避免这种困境
What is key is the assumption that the regressors are continuously distributed	关键是假设自变量是连续分布的
In both cases the expectation cannot pass through the matrix inverse because this is a nonlinear function	在这两种情况下，期望都不能通过矩阵逆，因为这是一个非线性函数
Thus there is not a simple expression for the unconditional variance, other than stating that is it the expectation of the conditional variance	因此，除了说明它是条件方差的期望之外，无条件方差没有简单的表达式
Gauss-Markov Theorem	高斯-马尔可夫定理
The Gauss-Markov Theorem is one of the most celebrated results in econometric theory	高斯-马尔可夫定理是计量经济学理论中最著名的成果之一
It provides a classical justification for the least squares estimator, showing that it is lowest variance among unbiased estimators	它为最小二乘估计量提供了经典的论证，表明它是无偏估计量中方差最低的
Write the homoskedastic linear regression model in vector format as	将同方差线性回归模型写为向量形式
The following version of the theorem is due to B. E. Hansen (2021)	该定理的以下版本来自 B. E. Hansen (2021)
Theorem 4.4 Gauss-Markov	定理4.4高斯-马尔可夫
Take the homoskedastic linear regression model (4.11)-(4.13)	采用同方差线性回归模型(4.11)-(4.13)
Consequently we describe OLS as efficient in the class of unbiased estimators	因此，我们将 OLS 描述为无偏估计类中的有效方法
Andreı̆ Andreevich Markov provided a textbook treatment of the theorem in 1912, and clarified the central role of unbiasedness, which Gauss had only assumed implicitly	安德烈·安德烈耶维奇·马尔科夫 (Andreı̆ Andreevich Markov) 在 1912 年提供了该定理的教科书式处理，并阐明了无偏性的核心作用，而高斯只是隐含地假设了这一点
The derivation of the Gauss-Markov Theorem under the restriction to linear estimators is straightforward, so we now provide this demonstration	在线性估计量约束下的高斯-马尔可夫定理的推导很简单，所以我们现在提供这一演示
the last equality using the homoskedasticity assumption (4.13)	最后一个等式使用同方差假设 (4.13)
We have shown (4.14) as required	我们已按要求显示了(4.14)
Figure 4.1: Original and Auxiliary Density	图 4.1：初始密度和辅助密度
In this example we can see how the auxiliary density has a larger expected value, because the density has been tilted to the right	在这个例子中，我们可以看到辅助密度如何具有更大的期望值，因为密度已向右倾斜
Therefore the information matrix is	因此信息矩阵为
This is the variance lower bound, completing the proof of Theorem 4.4	这是方差下界，从而完成了定理 4.4 的证明
The above argument is rather tricky	上面的论证是相当棘手的
Generalized Least Squares	广义最小二乘法
Take the linear regression model in matrix format	采用矩阵形式的线性回归模型
Consider a generalized situation where the observation errors are possibly correlated and/or heteroskedastic	考虑一种普遍情况，其中观测误差可能是相关的和/或异方差性的
Under these assumptions, by arguments similar to the previous sections we can calculate the expectation and variance of the OLS estimator:	在这些假设下，通过类似于前面部分的参数，我们可以计算 OLS 估计量的期望和方差：
Aitken (1935) established a generalization of the Gauss-Markov Theorem	Aitken (1935) 建立了高斯-马尔可夫定理的推广
We defer the proof to Section 4.24	我们将证明延后到第 4.24 节
See also Exercise 4.6	另请参见练习 4.6
This shows that the GLS estimator is unbiased and has a covariance matrix which equals the lower bound from Theorem 4.5	这表明 GLS 估计量是无偏的，并且协方差矩阵等于定理 4.5 的下界
GLS is thus efficient in the class of unbiased estimators	因此，GLS 在无偏估计类中是有效的
Residuals	残差
We can simplify this expression under the assumption of conditional homoskedasticity	我们可以在条件同方差的假设下简化这个表达式
In this case (4.25) simplifies to	在这种情况下（4.25）简化为
which simplifies under homoskedasticity to	在同方差下简化为
A residual with constant conditional variance can be obtained by rescaling	可以通过重新度量化获得具有恒定条件方差的残差
From the above calculations, under homoskedasticity,	由上述计算可知，在同方差条件下，
and thus these standardized residuals have the same bias and variance as the original errors when the latter are homoskedastic	因此，当初始误差同方差时，这些标准化残差与初始误差具有相同的偏误和方差
the final equality by (3.22)	最终等于(3.22)
Another way to see this is to use (4.27)	另一种了解这一点的方法是使用（4.27）
the last equality using Theorem 3.6	最后一个等式使用定理 3.6
Since the bias takes a scale form a classic method to obtain an unbiased estimator is by rescaling	由于偏误采用标量形式，获得无偏估计量的经典方法是重新调整标量
You can show (see Exercise 4.9) that	你可以证明（参见练习 4.9）
Consequently it is best to use one of the biascorrected variance estimators in applications	因此，最好在应用程序中使用偏误校正方差估计量之一
Mean-Square Forecast Error	均方预测误差
One use of an estimated regression is to predict out-of-sample	估计回归的一种用途是样本外预测
Under conditional homoskedasticity this simplifies to	在条件同方差下，这简化为
A simple estimator for the MSFE is obtained by averaging the squared prediction errors (3.46)	通过对预测误差平方求平均值获得 MSFE 的简单估计量 (3.46)
By a similar calculation as in (4.34) we find	通过与 (4.34) 类似的计算，我们发现
Covariance Matrix Estimation Under Homoskedasticity	同方差下的协方差矩阵估计
In this section we consider the homoskedastic regression model (Assumption 4.3)	在本节中，我们考虑同方差回归模型（假设 4.3）
Under homoskedasticity the covariance matrix takes the simple form	在同方差下，协方差矩阵采用简单形式
This was the dominant covariance matrix estimator in applied econometrics for many years and is still the default method in most regression packages	多年来，这是应用计量经济学中占主导地位的协方差矩阵估计量，并且仍然是大多数回归包中的默认方法
Covariance Matrix Estimation Under Heteroskedasticity	异方差下的协方差矩阵估计
In the previous section we showed that that the classic covariance matrix estimator can be highly biased if homoskedasticity fails	在上一节中，我们表明，如果不是同方差，经典的协方差矩阵估计量可能会出现很大的偏误
In this section we show how to construct covariance matrix estimators which do not require homoskedasticity	在本节中，我们将展示如何构造不需要同方差的协方差矩阵估计量
Recall that the general form for the covariance matrix is	回想一下，协方差矩阵的一般形式是
The label "HC" refers to "heteroskedasticity-consistent"	标签“HC”是指“异方差一致”
The label "HC0" refers to this being the baseline heteroskedasticity-consistent covariance matrix estimator	标签“HC0”指的是基准异方差一致的协方差矩阵估计量
The HC3 estimator was derived by MacKinnon and White (1985) from the jackknife principle (see Section 10.3), and by Andrews (1991a) based on the principle of leave-one-out cross-validation, and is implemented using the `vce(hc3)` option in Stata	HC3 估计量由 MacKinnon 和 White (1985) 根据折刀原理（参见第 10.3 节）推导出来，由 Andrews (1991a) 根据留一交叉验证原理推导出来，并可使用 Stata 中的 `vce(hc3)`加以实现
By a similar calculation (again under homoskedasticity) we can calculate that the HC2 estimator is unbiased	通过类似的计算（同样在同方差下），我们可以计算出 HC2 估计量是无偏的
It might seem rather odd to compare the bias of heteroskedasticity-robust estimators under the assumption of homoskedasticity but it does give us a baseline for comparison	在同方差假设下比较异方差稳健估计量的偏误可能看起来相当奇怪，但它确实为我们提供了比较的基准
Another interesting calculation shows that in general (that is, without assuming homoskedasticity) the HC3 estimator is biased away from zero	另一个有趣的计算表明，一般来说（即，在不假设同方差的情况下）HC3 估计量会向零值偏离
Standard Errors	标准误
This is so important when discussing the distribution of parameter estimators we have a special name for estimates of their standard deviation	在讨论参数估计量的分布时，这一点非常重要，我们有一个特殊的名称来表示其标准差的估计值
When the classical covariance matrix estimator (4.35) is used the standard error takes the simple form	当使用经典协方差矩阵估计量 (4.35) 时，标准误差采用简单形式
As we discussed in the previous section there are multiple possible covariance matrix estimators so standard errors are not unique	正如我们在上一节中讨论的，存在多种可能的协方差矩阵估计量，因此标准误差不是唯一的
It is also important to understand that a particular standard error may be relevant under one set of model assumptions but not under another set of assumptions	同样重要的是要理解，特定的标准误差可能在一组模型假设下相关，但在另一组假设下则不相关
To illustrate, we return to the log wage regression (3.12) of Section 3.7	为了说明这一点，我们回到第 3.7 节的对数工资回归（3.12）
Therefore the HC2 covariance matrix estimate is	因此 HC2 协方差矩阵估计为
The standard errors are the square roots of the diagonal elements of these matrices	标准误差是这些矩阵对角线元素的平方根
Alternatively, standard errors could be calculated using the other formulae	或者，可以使用其他公式计算标准误差
We report the different standard errors in the following table	我们在下表中报告了不同的标准误差
Table 4.1: Standard Errors	表 4.1：标准误
The homoskedastic standard errors are noticeably different (larger in this case) than the others	同方差标准误差与其他标准误差明显不同（在本例中更大）
The robust standard errors are reasonably close to one another though the HC3 standard errors are larger than the others	尽管 HC3 标准误差比其他标准误差大，但稳健标准误差彼此相当接近
Estimation with Sparse Dummy Variables	使用稀疏虚拟变量进行估计
The heteroskedasticity-robust covariance matrix estimators can be quite imprecise in some contexts	在某些情况下，异方差稳健协方差矩阵估计量可能非常不精确
In the regression model (4.45) we can calculate that the true covariance matrix of the least squares estimator for the coefficients under the simplifying assumption of conditional homoskedasticity is	在回归模型（4.45）中，我们可以计算出在条件同方差简化假设下系数的最小二乘估计量的真实协方差矩阵为
In particular, the variance of the estimator for the coefficient on the dummy variable is	特别是，虚拟变量系数的估计量的方差为
A large sample alone is not sufficient to ensure precise estimation	仅靠大样本不足以确保精确估计
Now let's examine the standard HC1 covariance matrix estimator (4.37)	现在让我们检查标准 HC1 协方差矩阵估计量 (4.37)
Another insight is to examine the leverage values	另一个见解是检查杠杆值
This is an extreme leverage value	这是一个极端的杠杆值
In this case unbiased covariance matrix estimation appears to be impossible	在这种情况下，无偏协方差矩阵估计似乎是不可能的
It is unclear if there is a best practice to avoid this situation	目前尚不清楚是否有一种最好的实践来避免这种情况
If it is very large calculate the standard errors using several methods to see if variation occurs	如果非常大，请使用多种方法计算标准误差以查看是否发生变化
Computation	计算
Measures of Fit	拟合测度
Empirical Example	实证例子
We again return to our wage equation but use a much larger sample of all individuals with at least 12 years of education	我们再次回到我们的工资方程，但使用了一个更大的样本，其中包括所有受过至少 12 年教育的个体
For standard errors we use the unbiased HC2 formula	对于标准误差，我们使用无偏 HC2 公式
These are useful summary measures of fit which aid readers	这些是有用的总结性测度，可以帮助读者
Standard errors are heteroskedasticity-consistent (Horn-Horn-Duncan formula)	标准误是异方差一致的（Horn-Horn-Duncan 公式）
As a general rule it is advisable to always report standard errors along with parameter estimates	作为一般规则，建议始终报告参数估计值及其标准误差
This allows readers to assess the precision of the parameter estimates, and as we will discuss in later chapters, form confidence intervals and t-tests for individual coefficients if desired	这使读者能够评估参数估计的精度，并且正如我们将在后面的章节中讨论的那样，如果需要，可以形成各个系数的置信区间和 t 检验
Multicollinearity	多重共线性
A related common situation is near multicollinearity which is often called "multicollinearity" for brevity	一种相关的常见情况是接近多重共线性，为简洁起见，通常将其称为“多重共线性”
This leads to the undesirable situation where the coefficient estimates are imprecise yet the standard errors are misleadingly small	这会导致不想看到的情形，系数估计不精确和误导性偏小的标准误差
We can see the impact of near multicollinearity on precision in a simple homoskedastic linear regression model with two regressors	我们可以在具有两个自变量的简单同方差线性回归模型中看到近多重共线性对精度的影响
Thus the more "collinear" are the regressors the worse the precision of the individual coefficient estimates	因此，自变量越“共线”，各个系数估计的精度就越差
As a consequence the precision of individual estimates are reduced	结果，个体估计的精确度降低了
Many early-generation textbooks overemphasized multicollinearity	许多早期教科书过分强调多重共线性
Among the witty remarks of his chapter are the following	他的章节中有以下诙谐的言论
Tests for the presence of micronumerosity require the judicious use of various fingers	检验是否存在微数缺测性需要机智地使用各种手法
Some researchers prefer a single finger, others use their toes, still others let their thumbs rule	一些研究人员更喜欢用一根手指，另一些人则用脚趾，还有一些人则用拇指
A generally reliable guide may be obtained by counting the number of observations	通过计算观测结果的数量可以获得普遍可靠的指导
Small sample sizes have the exact same implication	小样本量也具有完全相同的含义
Clustered Sampling	群组抽样
We now introduce the framework in more detail and extend the primary results of this chapter to encompass clustered dependence	现在，我们更详细地介绍该框架，并将本章的主要结果扩展到包含群组依赖
It might be easiest to understand the idea of clusters by considering a concrete example	通过考虑一个具体的例子可能是最容易理解群组概念的
An extract of their data set is available on the textbook webpage in the file DDK2011	他们的数据集的摘录可以在教科书网页上的文件 DDK2011 中找到
In 2005, 140 primary schools in Kenya received funding to hire an extra first grade teacher to reduce class sizes	2005年，肯尼亚140所小学获得资金聘请额外的一年级教师以缩小班级规模
For their analysis the authors restricted attention to the 121 schools which initially had a single first-grade class	在他们的分析中，作者将注意力集中在最初只有一个一年级班级的 121 所学校
and using cluster notation as	并使用群组符号记为
The standard clustering assumption is that the clusters are known to the researcher and that the observations are independent across clusters	标准的群组假设是研究人员已知群组并且观测结果在群组之间是独立的
In our example clusters are schools	在我们的示例中，群组是学校
This is the same as assuming that the individual errors are conditionally mean zero	这与假设各个误差有条件均值为零相同
In the regression (4.46) the conditional expectation is necessarily linear and satisfies (4.50) since the	在回归（4.46）中，条件期望必然是线性的并且满足（4.50），因为
Given (4.50) we can calculate the expectation of the OLS estimator	给定 (4.50)，我们可以计算 OLS 估计量的期望
The first equality holds by linearity, the second by Assumption 4.4, and the third by (4.50)	第一个等式确保线性性成立，第二个等式依据假设 4.4 成立，第三个等式依据 (4.50) 成立
This shows that OLS is unbiased under clustering if the conditional expectation is linear	这表明，如果条件期望是线性的，则 OLS 在群组下是无偏的
This differs from the formula in the independent case due to the correlation between observations within clusters	由于群组内观测值之间的相关性，这与独立情况下的公式不同
This is a substantial difference and should not be neglected	这是一个巨大的差异，不应被忽视
Arellano (1987) proposed a cluster-robust covariance matrix estimator which is an extension of the White estimator	Arellano (1987) 提出了一种群组稳健协方差矩阵估计量，它是 White 估计量的扩展
Given the expressions (4.51)-(4.52) a natural cluster covariance matrix estimator takes the form	给定表达式 (4.51)-(4.52)，群组协方差矩阵的一个自然估计量采用以下形式
We then have the robust covariance matrix estimator	然后我们就有了稳健的协方差矩阵估计量
The label "CR" refers to "cluster-robust" and "CR3" refers to the analogous formula for the HC3 estimator	标签“CR”是指“群组稳健性”，“CR3”是指 HC3 估计量的类似公式
This covariance matrix estimator is more cumbersome to implement, however, as the cluster-level prediction errors (4.57) cannot be calculated in a simple linear operation and requires a loop across clusters to calculate	然而，这种协方差矩阵估计量实现起来比较麻烦，因为群组级预测误差 (4.57) 无法通过简单的线性运算来计算，并且需要跨群组的循环来计算
To illustrate in the context of the Kenyan schooling example we present the regression of student test scores on the school-level tracking dummy with two standard errors displayed	为了在肯尼亚学校教育示例的背景下进行阐述，我们在学校级别的跟踪虚拟变量模型上展示了学生检验成绩的回归，并显示了两个标准误差
The second [in square brackets] is the clustered standard error (4.55)-(4.56) where clustering is at the level of the school	第二个[方括号中]是群组标准误差 (4.55)-(4.56)，其中群组处于学校级别
We can see that the cluster-robust standard errors are roughly three times the conventional robust standard errors	我们可以看到，群组稳健标准误大约是传统稳健标准误的三倍
Consequently, confidence intervals for the coefficients are greatly affected by the choice	因此，系数的置信区间很大程度上受到选择的影响
For illustration, we list here the commands needed to produce the regression results with clustered standard errors in Stata, R, and MATLAB	为了便于说明，我们在此列出了在 Stata、R 和 MATLAB 中生成具有群组标准误差的回归结果所需的命令
You can see that clustered standard errors are simple to calculate in Stata	你可以看到，在 Stata 中计算群组标准误差很简单
Here we see that programming clustered standard errors in MATLAB is less convenient than the other packages but still can be executed with just a few lines of code	在这里我们看到，在 MATLAB 中编程群组标准误差不如其他语言包方便，但仍然只需几行代码即可执行
Application of these commands requires care and attention	这些命令的应用需要小心和注意
Inference with Clustered Samples	使用群组样本进行推断
In this section we give some cautionary remarks and general advice about cluster-robust inference in econometric practice	在本节中，我们对计量经济学实践中的群组稳健推断给出一些警告性评论和一般性建议
There has been remarkably little theoretical research about the properties of cluster-robust methods - until quite recently - so these remarks may become dated rather quickly	直到最近，关于群组稳健性方法的特性的理论研究还非常少，因此这些言论可能很快就会过时
In many respects cluster-robust inference should be viewed similarly to heteroskedaticity-robust inference where a "cluster" in the cluster-robust case is interpreted similarly to an "observation" in the heteroskedasticity-robust case	在许多方面，群组稳健推断应该被视为类似于异方差稳健推断，其中群组稳健情形下的“群组”被解释为类似于异方差稳健情况中的“观测”
Furthermore, most cluster-robust theory (for example, the work of Chris Hansen (2007)) assumes that the clusters are homogeneous including the assumption that the cluster sizes are all identical	此外，大多数群组稳健性理论（例如 Chris Hansen (2007) 的工作）都假设群组是同质的，包括群组大小都相同的假设
When clusters are heterogeneous then cluster-robust inference is similar to heteroskedasticity-robust inference with highly heteroskedastic observations	当群组异质时，群组稳健推断类似于具有高度异方差观测的异方差稳健推断
Thus when you read empirical papers with individual-level data but clustered at the "state" level you should be cautious and recognize that this is equivalent to inference with a small number of extremely heterogeneous observations	因此，当你阅读包含个体级别数据但聚集在“状态”级别的实证论文时，你应该谨慎并认识到这相当于使用少量极其异质的观测进行推断
A further complication occurs when we are interested in treatment as in the tracking example given in the previous section	当我们对处置感兴趣时，会出现进一步的难题，如上一节给出的跟踪示例中所示
In general, reported standard errors will greatly understate the imprecision of parameter estimates	一般来说，报告的标准误差会大大低估参数估计的不精确性
At What Level to Cluster?	在什么级别进行聚类？
A practical question which arises in the context of cluster-robust inference is "At what level should we cluster?" In some examples you could cluster at a very fine level, such as families or classrooms, or at higher levels of aggregation, such as neighborhoods, schools, towns, counties, or states	在群组稳健推断的背景下出现的一个实际问题是“我们应该在什么级别进行聚类？”在某些示例中，你可以在非常精细的级别（例如家庭或教室）进行聚类，或者在更高的群组级别（例如社区、学校、城镇、县或州）进行聚类
First, suppose cluster dependence is ignored or imposed at too fine a level (e.g. clustering by households instead of villages)	首先，假设群组依赖性被忽略或施加得太细（例如，按家庭而不是村庄进行聚类）
As correlation is typically positive, this suggests that standard errors will be too small giving rise to spurious indications of significance and precision	由于相关性通常为正，这表明标准误差将太小，从而导致显著性和精度的虚假呈现
Second, suppose cluster dependence is imposed at too aggregate a measure (e.g. clustering by states rather than villages)	其次，假设群组依赖性被强加在过于聚合的操作上（例如，按州而不是村庄进行聚类）
This means that reported standard errors will be imprecise - more random - than if clustering had been less aggregate	这意味着，与群组聚合程度较低相比，报告的标准误差将不精确，更加随机
These considerations show that there is a trade-off between bias and variance in the estimation of the covariance matrix by cluster-robust methods	这些考虑表明，在通过群组稳健性方法估计协方差矩阵时，在偏误和方差之间存在权衡关系
In reality it is likely that both factors are present	事实上，这两个因素很可能都存在
In any event a researcher should be aware of the number of clusters used in the reported calculations and should treat the number of clusters as the effective sample size for assessing inference	无论如何，研究人员应了解报告计算中使用的群组数量，并应将群组数量视为评估推断的有效样本量
To illustrate the thought experiment consider the empirical example of Duflo, Dupas, and Kremer (2011)	为了说明这个思想实验，请考虑 Duflo、Dupas 和 Kremer (2011) 的实证例子
In this particular example clustering at the school level (as done by the authors) is indeed the prudent choice	在这个特定的例子中，学校层面的聚类（正如作者所做的那样）确实是谨慎的选择
Our approach is to calculate the Cramér-Rao bound for a carefully crafted parametric model	我们的方法是计算精心设计的参数模型的 Cramér-Rao 界限
This is based on an insight of Newey (1990, Appendix B) for the simpler context of a population expectation	这是基于 Newey（1990，附录 B）对总体预期更简化的见解
This assumption can be avoided through use of the Radon-Nikodym derivative	通过使用 Radon-Nikodym 导数可以避免这种假设
Define the auxiliary joint density function	定义辅助联合密度函数
The bound (4.61) implies	界限 (4.61) 意味着
where the second inequality is (4.62)	其中第二个不等式是 (4.62)
This is the variance lower bound	这是方差下界
Normal Regression	正态回归
This chapter introduces the normal regression model, which is a special case of the linear regression model	本章介绍正态回归模型，它是线性回归模型的特例
It also provides a baseline for comparison with alternative inference methods, such as asymptotic approximations and the bootstrap	它还提供了与渐近近似和自助法等替代推断方法进行比较的基础
The normal regression model is a fully parametric setting where maximum likelihood estimation is appropriate	正态回归模型是一个完全参数化的设置，其中极大似然估计是合适的
The method of maximum likelihood is a powerful statistical method for parametric models (such as the normal regression model) and is widely used in econometric practice	极大似然法是参数模型（如正态回归模型）的一种强大的统计方法，广泛应用于计量经济学实践中
We start the chapter with a review of the definition and properties of the normal distribution	本章首先回顾正态分布的定义和特征
For detail and mathematical proofs see Chapter 5 of Probability and Statistics for Economists	有关详细信息和数学证明，请参阅《经济学家的概率与统计》第五章
The Normal Distribution	正态分布
Figure 5.1: Standard Normal Density and Distribution	图 5.1：标准正态密度和分布
For convenience, we list the appropriate commands in MATLAB, R, and Stata to compute the cumulative distribution function of commonly used statistical distributions	为了方便起见，我们列出了 MATLAB、R 和 Stata 中的相应命令来计算常用统计分布的累积分布函数
Here we list the appropriate commands to compute the inverse probabilities (quantiles) of the same distributions	这里我们列出了计算相同分布的逆概率（分位数）的适当命令
Multivariate Normal Distribution	多元正态分布
An important property of normal random vectors is that affine functions are multivariate normal	正态随机向量的一个重要特征是仿射函数是多元正态的
Another useful property of the multivariate normal distribution is that uncorrelatedness is the same as independence	多元正态分布的另一个有用的特征是不相关性与独立性等价
That is, if a vector is multivariate normal, subsets of variables are independent if and only if they are uncorrelated	也就是说，如果向量是多元正态向量，则变量子集当且仅当它们不相关时才是独立的
Theorem 5.3 Properties of the Multivariate Normal Distribution	定理 5.3 多元正态分布的性质
Joint Normality and Linear Regression	联合正态性和线性回归
which are properties of a homoskedastic linear CEF	这是同方差线性 CEF 的特征
This result can also be deduced from Theorem 5.3.7	这个结果也可以从定理5.3.7推导出来
This is a classical motivation for the linear regression model	这是线性回归模型的一个经典缘由
Normal Regression Model	正态回归模型
The normal regression model is the linear regression model with an independent normal error	正态回归模型是具有独立正态误差的线性回归模型
Normal regression is a parametric model where likelihood methods can be used for estimation, testing, and distribution theory	正态回归是一种参数模型，其中似然法可用于估计、检验和分布理论
Let us now derive the likelihood of the normal regression model	现在让我们推导正态回归模型的似然度
This is called the likelihood function when evaluated at the sample data	当对样本数据进行评估时，这称为似然函数
For convenience it is typical to work with the natural logarithm	为了方便起见，通常使用自然对数
which is called the log-likelihood function	这称为对数似然函数
In most applications of maximum likelihood the MLE must be found by numerical methods	在大多数极大似然应用中，必须通过数值方法找到 MLE
The first FOC (5.4) is proportional to the first-order conditions for the least squares minimization problem of Section 3.6	第一个 FOC (5.4) 与第 3.6 节的最小二乘最小化问题的一阶条件成比例
Plugging the estimators into (5.2) we obtain the maximized log-likelihood	将估计量代入 (5.2)，我们获得最大对数似然
The log-likelihood is typically reported as a measure of fit	对数似然通常被报告为拟合度的度量
In this sense it is not surprising that the least squares estimator can be motivated as either the minimizer of a sample loss function or as the maximizer of a likelihood function	从这个意义上说，最小二乘估计量可以被视作为样本损失函数的最小化或似然函数的最大化，这并不奇怪
Distribution of OLS Coefficient Vector	OLS系数向量的分布
In the normal linear regression model we can derive exact sampling distributions for the OLS/MLE estimator, residuals, and variance estimator	在正态线性回归模型中，我们可以导出 OLS/MLE 估计量、残差和方差估计量的精确抽样分布
In this section we derive the distribution of the OLS coefficient estimator	在本节中，我们推导 OLS 系数估计量的分布
Recall that the OLS estimator satisfies	回想一下，OLS 估计量满足
This shows that under the assumption of normal errors the OLS estimator has an exact normal distribution	这表明在正态误差假设下，OLS 估计量具有精确的正态分布
Theorem 5.4 In the normal regression model,	定理5.4 在正态回归模型中，
We re-state the result here	我们在此重申结果
Distribution of OLS Residual Vector	OLS残差向量的分布
Consider the OLS residual vector	考虑 OLS 残差向量
This shows that the residual vector has an exact normal distribution	这表明残差向量具有精确的正态分布
Distribution of Variance Estimator	方差估计量的分布
Theorem 5.7 In the normal regression model,	定理5.7 在正态回归模型中，
t-statistic	t统计量
An alternative way of writing (5.7) is	(5.7) 的另一种写法是
This is sometimes called a standardized statistic as the distribution is the standard normal	有时这被称为标准化统计量，因为分布是标准正态分布
With algebraic re-scaling we can write the t-statistic as the ratio of the standardized statistic and the square root of the scaled variance estimator	通过代数重新度量化，我们可以将 t 统计量写为标准化统计量与度量化后方差估计量的平方根之比
In this context, we say that the distribution of the t-ratio is pivotal, meaning that it does not depend on unknowns	在这种情况下，我们说 t 比率的分布是关键的，这意味着它不依赖于未知数
This trick (scaling to eliminate dependence on unknowns) is known as studentization	这种技巧（通过缩放来消除对未知数的依赖）被称为学生化
Confidence Intervals for Regression Coefficients	回归系数的置信区间
There is not a unique method to construct confidence intervals	没有唯一的方法来构建置信区间
The coverage probability of this confidence interval is	该置信区间的覆盖概率为
This is a useful rule-of-thumb	这是一个有用的经验法则
Confidence intervals are a simple yet effective tool to assess estimation uncertainty	置信区间是评估估计不确定性的简单而有效的工具
Confidence Intervals for Error Variance	误差方差的置信区间
Rewriting the inequalities we find	重写我们发现的不平等
t Test	t检验
In this section and the following we give a short introduction specific to the normal regression model	在本节和下文中，我们将针对正态回归模型进行简短介绍
The main steps are to design a test statistic and to characterize its sampling distribution	主要步骤是设计检验统计量并表征其抽样分布
These t-statistics test the hypotheses that each coefficient is zero	这些 t 统计量检验每个系数为零的假设
Likelihood Ratio Test	似然比检验
In the previous section we described the t-test as the standard method to test a hypothesis on a single coefficient in a regression	在上一节中，我们将 t 检验描述为检验回归中单个系数的假设的标准方法
We call (5.17) the null model	我们将（5.17）称为零模型
We similarly calculate the maximized log-likelihood for the constrained model (5.17)	我们类似地计算约束模型的最大对数似然（5.17）
In Stata, the command to test multiple coefficients takes the form 'test X1 X2' where X1 and X2 are the names of the variables whose coefficients are tested	在 Stata 中，检验多个系数的命令采用“test X1 X2”的形式，其中 X1 和 X2 是检验其系数的变量的名称
Information Bound for Normal Regression	用于正态回归的信息
This section requires a familiarity with the theory of the Cramér-Rao Lower Bound	本节需要熟悉 Cramér-Rao 下界理论
See Chapter 10 of Probability and Statistics for Economists	请参阅《经济学家的概率与统计》第 10 章
The likelihood scores for the normal regression model are	正态回归模型的似然得分为
It follows that the information matrix is	由此可见信息矩阵为
Thus in contrast to the coefficient estimator, the variance estimator is not Cramér-Rao efficient	因此，与系数估计量相比，方差估计量不是 Cramér-Rao 有效的
A Review of Large Sample Asymptotics	大样本渐近学综述
The most widely-used tool in sampling theory is large sample asymptotics	抽样理论中最广泛使用的工具是大样本渐进
If you have not previous studied asymptotic theory in detail you should study these chapters before proceeding	如果你之前没有详细研究过渐近理论，你应该在继续之前学习这些章节
Modes of Convergence	融合模式
The above definition treats random variables and random vectors simultaneously using the vector norm	上述定义使用向量范数同时处理随机变量和随机向量
It is useful to know that for a random vector, (6.1) holds if and only if each element in the vector converges in probability to its limit	知道对于随机向量，当且仅当向量中的每个元素以概率收敛到其极限时，(6.1) 才成立
Weak Law of Large Numbers	弱大数定律
Theorem 6.1 Weak Law of Large Numbers (WLLN)	定理 6.1 弱大数定律 (WLLN)
The result applies to any transformation of a random vector with a finite mean	结果适用于具有有限均值的随机向量的任何变换
An estimator which converges in probability to the population value is called consistent	概率收敛于总体值的估计量称为一致估计量
Central Limit Theorem	中心极限定理
Theorem 6.3 Multivariate Lindeberg-Lévy Central Limit Theorem (CLT)	定理 6.3 多元 Lindeberg-Lévy 中心极限定理 (CLT)
The central limit theorem shows that the distribution of the sample mean is approximately normal in large samples	中心极限定理表明，大样本中样本均值的分布近似正态分布
The following two generalizations allow for heterogeneous random variables	以下两个概括允许异构随机变量
Continuous Mapping Theorem and Delta Method	连续映射定理和Delta方法
Continuous functions are limit-preserving	连续函数是保极限的
There are two forms of the continuous mapping theorem, for convergence in probability and convergence in distribution	连续映射定理有两种形式，概率收敛和分布收敛
Theorem 6.6 Continuous Mapping Theorem (CMT)	定理 6.6 连续映射定理（CMT）
Theorem 6.7 Continuous Mapping Theorem	定理 6.7 连续映射定理
Theorem 6.8 Delta Method	定理 6.8 Delta 法
Smooth Function Model	平滑函数模型
The smooth function model includes a broad class of estimators including sample variances and the least squares estimator	平滑函数模型包括一大类估计量，其中包括样本方差和最小二乘估计量
Stochastic Order Symbols	随机顺序符号
It is convenient to have simple symbols for random variables and vectors which converge in probability to zero or are stochastically bounded	对于概率收敛到零或随机有界的随机变量和向量使用简单的符号是很方便的
In this section we introduce some of the most common notation	在本节中，我们将介绍一些最常见的符号
A random sequence with a bounded moment is stochastically bounded	具有有界矩的随机序列是随机有界的
Convergence of Moments	矩的汇聚
The following is a uniform stochastic bound	以下是均匀随机界限
The higher the moments, the slower the rate of divergence	矩越高，发散速度越慢
Asymptotic Theory for Least Squares	最小二乘法的渐近理论
It turns out that the asymptotic theory of least squares estimation applies equally to the projection model and the linear CEF model	事实证明，最小二乘估计的渐近理论同样适用于投影模型和线性CEF模型
Maintained assumptions in this chapter will be random sampling (Assumption 1.2) and finite second moments (Assumption 2.1)	本章中保留的假设是随机采样（假设 1.2）和有限二阶矩（假设 2.1）
We restate these here for clarity	为了清楚起见，我们在此重申这些内容
The distributional results will require a strengthening of these assumptions to finite fourth moments	分布结果需要将这些假设强化到有限四阶矩
We discuss the specific conditions in Section 7.3	我们在 7.3 节中讨论具体条件
Consistency of Least Squares Estimator	最小二乘估计量的一致性
This derivation is based on three key components	这一推导基于三个关键组成部分
Second, by an application of the WLLN these sample moments converge in probability to their population expectations	其次，通过应用 WLLN，这些样本矩在概率上收敛到其总体期望
To fully understand the application of the CMT we walk through it in detail	为了充分理解 CMT 的应用，我们详细介绍一下它
This justifies the application of the CMT in (7.2)	这证明了 (7.2) 中 CMT 的应用是合理的
For a slightly different demonstration of (7.2) recall that (4.6) implies that	对于（7.2）的稍微不同的证明，回想一下（4.6）意味着
The WLLN and (2.25) imply	WLLN 和 (2.25) 意味着
To illustrate the effect of sample size on the least squares estimator consider the least squares regression	为了说明样本大小对最小二乘估计量的影响，请考虑最小二乘回归
We use the sample of 24,344 white men from the March 2009 CPS	我们使用 2009 年 3 月 CPS 中的 24,344 名白人男性样本
Figure 7.1: The Least-Squares Estimator as a Function of Sample Size	图 7.1：最小二乘估计量作为样本大小的函数
Asymptotic Normality	渐近正态性
In this section we derive an approximation typically called the asymptotic distribution	在本节中，我们得出一个通常称为渐近分布的近似值
The derivation starts by writing the estimator as a function of sample moments	推导首先将估计量编写为样本矩的函数
The steps are as follows	步骤如下
We state the required conditions here	我们在这里说明所需的条件
By two applications of the Cauchy-Schwarz inequality (B.32), this is smaller than	通过柯西-施瓦茨不等式 (B.32) 的两次应用，这小于
where the finiteness holds under Assumption 7.2.2 and 7.2.3	其中有限性在假设 7.2.2 和 7.2.3 下成立
This is a more compact argument (often described as more elegant) but such manipulations should not be done without understanding the notation and the applicability of each step of the argument	这是一个更紧凑的论证（通常被描述为更优雅），但是在不理解论证的每个步骤的符号和适用性的情况下，不应进行此类操作
Regardless, the finiteness of the covariance matrix means that we can apply the multivariate CLT (Theorem 6.3)	无论如何，协方差矩阵的有限性意味着我们可以应用多元 CLT（定理 6.3）
Putting together (7.1), (7.5), and (7.7),	将(7.1)、(7.5)和(7.7)放在一起，
The final equality follows from the property that linear combinations of normal vectors are also normal (Theorem 5.2)	最终的等式源自法向量的线性组合也是法向量的性质（定理 5.2）
We have derived the asymptotic normal approximation to the distribution of the least squares estimator	我们导出了最小二乘估计量分布的渐近正态近似
Theorem 7.3 Asymptotic Normality of Least Squares Estimator	定理7.3最小二乘估计量的渐近正态性
We will make use of both symbols and it will be advisable to adhere to this convention	我们将使用这两个符号，并且建议遵守此约定
Condition (7.10) holds in the homoskedastic linear regression model but is somewhat broader	条件（7.10）在同方差线性回归模型中成立，但范围更广
Another example is shown in Figure 7.2(b)	另一个例子如图7.2(b)所示
Figure 7.2: Density of Normalized OLS Estimator	图 7.2：归一化 OLS 估计量的密度
Joint Distribution	联合分配
This finding that the correlation of the regressors is of opposite sign of the correlation of the coefficient estimates is sensitive to the assumption of homoskedasticity	自变量的相关性与系数估计的相关性具有相反符号这一发现对于同方差性假设很敏感
If the errors are heteroskedastic then this relationship is not guaranteed	如果误差是异方差的，则无法保证这种关系
This can be seen through a simple constructed example	这可以通过一个简单的构造示例看出
Now suppose that the error is heteroskedastic	现在假设误差是异方差的
We can see how the two estimators are positively associated	我们可以看到这两个估计量是如何正相关的
What we found through this example is that in the presence of heteroskedasticity there is no simple relationship between the correlation of the regressors and the correlation of the parameter estimators	通过这个例子我们发现，在存在异方差的情况下，自变量的相关性和参数估计量的相关性之间不存在简单的关系
We can extend the above analysis to study the covariance between coefficient sub-vectors	我们可以扩展上述分析来研究系数子向量之间的协方差
which is a matrix generalization of the two-regressor case	这是二自变量情况的矩阵推广
In general you can show that (Exercise 7.5)	一般来说，你可以证明（练习 7.5）
Unfortunately, these expressions are not easily interpretable	不幸的是，这些表达方式并不容易解释
Consistency of Error Variance Estimators	误差方差估计量的一致性
Thus the squared residual equals the squared error plus a deviation	因此残差平方等于误差平方加上变差
So when we take the average of the squared residuals we obtain the average of the squared errors, plus two terms which are (hopefully) asymptotically negligible	因此，当我们取残差平方的平均值时，我们得到了平方误差的平均值，加上两项（希望）渐近可以忽略不计
Homoskedastic Covariance Matrix Estimation	同方差协方差矩阵估计
Heteroskedastic Covariance Matrix Estimation	异方差协方差矩阵估计
The standard approach is to use a plug-in estimator which replaces the unknowns with sample moments	标准方法是使用插件估计量，用样本矩替换未知数
leading to the plug-in covariance matrix estimator	导致插件协方差矩阵估计量
There are multiple ways to do this	有多种方法可以做到这一点
Then recalling the expression for the squared residual (7.17), apply the triangle inequality (B.1) and then the Schwarz inequality (B.12) twice	然后回忆残差平方的表达式 (7.17)，应用三角不等式 (B.1)，然后应用施瓦茨不等式 (B.12) 两次
Combining (7.21) and (7.22), we find	结合（7.21）和（7.22），我们发现
We have established (7.20) as desired	我们已经根据需要建立了(7.20)
For an alternative proof of this result, see Section 7.20	有关此结果的替代证明，请参阅第 7.20 节
Summary of Covariance Matrix Notation	协方差矩阵表示法总结
The notation we have introduced may be somewhat confusing so it is helpful to write it down in one place	我们引入的符号可能有些令人困惑，因此将其写在一个地方会很有帮助
The HC0 estimators of these two covariance matrices are	这两个协方差矩阵的 HC0 估计量是
Similarly, under the assumption of homoskedasticity the exact and asymptotic variances simplify to	类似地，在同方差假设下，精确方差和渐近方差简化为
The exact formula and estimators are useful when constructing test statistics and standard errors	在构建检验统计量和标准误差时，精确的公式和估计量非常有用
That is why both sets of notation are useful	这就是为什么两组符号都很有用
Alternative Covariance Matrix Estimators	替代协方差矩阵估计量
We now discuss the consistency properties of these estimators	我们现在讨论这些估计量的一致性特征
The trick is the fact that the leverage values are asymptotically negligible:	诀窍在于杠杆值渐近可以忽略不计：
Functions of Parameters	参数功能
Theorem 7.9 Asymptotic Distribution of Functions of Parameters	定理7.9参数函数的渐近分布
The derivative in (7.27) may be calculated analytically or numerically	(7.27) 中的导数可以通过分析或数值计算
Given (7.27), (7.28) and (7.29) are simple to calculate using matrix operations	给定 (7.27)、(7.28) 和 (7.29)，使用矩阵运算很容易计算
Asymptotic Standard Errors	渐近标准误差
As described in Section 4.15, a standard error is an estimator of the standard deviation of the distribution of an estimator	如第 4.15 节所述，标准误差是估计量分布的标准差的估计量
This helps users of the work (including yourself) assess the estimation precision	这有助于作品的用户（包括你自己）评估估计精度
We illustrate using the log wage regression	我们使用对数工资回归来说明
Consider the following three parameters of interest	考虑以下三个感兴趣的参数
We use the subsample of married Black women (all experience levels) which has 982 observations	我们使用已婚黑人女性（所有经验水平）的子样本，其中有 982 个观测值
The standard errors are the square roots of the HC2 covariance matrix estimate	标准误差是 HC2 协方差矩阵估计的平方根
The estimate of the experience level which maximizes expected log wages is 35 years with a standard error of 7	使预期对数工资最大化的经验水平的估计为 35 年，标准误差为 7
In Stata the nlcom command can be used after estimation to perform the same calculations	在 Stata 中，可以在估计后使用 nlcom 命令来执行相同的计算
nlcom 100*\_b[experience]+20*\_b[exp2]\\	nlcom 100*\_b[经验]+20*\_b[exp2]\\
Different writers call (7.33) a t-statistic, a t-ratio, a z-statistic, or a studentized statistic, sometimes using the different labels to distinguish between finite-sample and asymptotic inference	不同的作者将 (7.33) 称为 t 统计量、t 比值、z 统计量或学生化统计量，有时使用不同的标签来区分有限样本和渐近推断
The t-statistic is a function of the estimator, its standard error, and the parameter	t 统计量是估计量、其标准误差和参数的函数
The last equality is the property that affine functions of normal variables are normal (Theorem 5.2)	最后一个等式是正规变量的仿射函数是正规的性质（定理5.2）
Formally we add the following assumption	正式地，我们添加以下假设
Confidence Intervals	置信区间
It is useful to contrast the confidence interval (7.35) with (5.8) for the normal regression model	将正态回归模型的置信区间 (7.35) 与 (5.8) 进行对比很有用
(A practical rule of thumb is that if the sample sizes are sufficiently small that it makes a difference then neither (5.8) nor (7.35) should be trusted.) Despite these differences the coincidence of the intervals means that inference on regression coefficients is generally robust to using either the exact normal sampling assumption or the asymptotic large sample approximation, at least in large samples	）尽管存在这些差异，间隔的重合意味着对回归系数的推断通常是至少在大样本中，对于使用精确的正态采样假设或渐近大样本近似具有稳健性
This is done for all standard error methods even though it is only exact for homoskedastic standard errors and under normality	对于所有标准误差方法都这样做，即使它仅对于同方差标准误差且在正态性下是精确的
This is a useful rule-of thumb	这是一个有用的经验法则
Percentage return to experience (per year) for individuals with 10 years experience	拥有 10 年经验的个体的经验回报百分比（每年）
This is rather imprecise, indicating that the estimates are not very informative regarding this parameter	这是相当不精确的，表明有关该参数的估计信息并不丰富
Regression Intervals	回归区间
To illustrate we return to the log wage regression (3.12) of Section 3.7	为了说明这一点，我们回到第 3.7 节的对数工资回归（3.12）
The estimated regression and 95% intervals are shown in Figure 7.4(a)	估计的回归和 95% 区间如图 7.4(a) 所示
This means that the regression line is less precisely estimated for large and small values of education	这意味着对于教育的大值和小值，回归线的估计不太精确
Plots of the estimated regression line and confidence intervals are especially useful when the regression includes nonlinear terms	当回归包含非线性项时，估计回归线和置信区间图特别有用
Figure 7.4: Regression Intervals	图 7.4：回归区间
The estimated regression and 95% intervals are shown in Figure 7.4(b)	估计的回归和 95% 区间如图 7.4(b) 所示
The confidence bands take a more complicated shape than in Figure 7.4(a) due to the nonlinear specification	由于非线性设定，置信带的形状比图 7.4(a) 中的更复杂
Forecast Intervals	预测间隔
We would also like a measure of uncertainty for the forecast	我们还希望对预测的不确定性进行衡量
Notice that this is different from the standard error for the conditional expectation	请注意，这与条件期望的标准误差不同
Wald Statistic	瓦尔德统计
We are interested in its sampling distribution	我们对其样本分布感兴趣
Homoskedastic Wald Statistic	同方差 Wald 统计量
Confidence Regions	置信区域
In practice it is typically not possible to construct a region with exact coverage but we can calculate its asymptotic coverage	在实践中，通常不可能构建具有精确覆盖范围的区域，但我们可以计算其渐近覆盖范围
To illustrate the construction of a confidence region, consider the estimated regression (7.31) of	为了说明置信区域的构造，请考虑以下的估计回归 (7.31)
and have the covariance matrix estimate	并得到协方差矩阵估计
Thus the Wald statistic is	因此 Wald 统计量为
Figure 7.5: Confidence Region for Return to Experience and Return to Education	图 7.5：回归经验和回归教育的置信区域
Edgeworth Expansion	埃奇沃斯扩张
Uniformly Consistent Residuals	一致残差
Are they consistent? In this section we develop a convergence result	它们一致吗？在本节中，我们得出收敛结果
We can write the residual as	我们可以将残差写为
We can bound the difference in (7.39) using the Schwarz inequality (B.12) to find	我们可以使用 Schwarz 不等式 (B.12) 约束 (7.39) 中的差异来找到
However if the regressor does not have bounded support then we have to be more careful	但是，如果自变量没有有限支持，那么我们必须更加小心
Applied to (7.40) we obtain	应用于 (7.40) 我们得到
We have shown the following	我们已经展示了以下内容
Asymptotic Leverage	渐近杠杆
sampling the leverage values are uniformly asymptotically small	我们可以在独立同分布下证明这一点抽样杠杆值一致渐近小
Theorem (7.17) implies that under random sampling with finite variances and large samples no individual observation should have a large leverage value	定理（7.17）意味着在具有有限方差和大样本的随机抽样下，任何个体观测值都不应该具有大的杠杆值
Consequently, individual observations should not be influential unless one of these conditions is violated	因此，除非违反这些条件之一，否则个体观测不应产生影响
Restricted Estimation	受约束估计
In the linear projection model	在线性投影模型中
Sometimes we will call (8.1) a constraint and sometimes a restriction	有时我们将（8.1）称为约束，有时称为约束
They mean the same thing	他们的意思是一样的
A typical reason to impose a constraint is that we believe (or have information) that the constraint is true	施加约束的一个典型原因是我们相信（或有信息）该约束是正确的
The goal is to obtain consistent estimates with reduced variance relative to the unconstrained estimator	目标是获得一致的估计，并相对于无约束估计量减少方差
Constrained Least Squares	约束最小二乘法
The constrained least squares estimator is	约束最小二乘估计量为
One method to find the solution to (8.3) is the technique of Lagrange multipliers	求解 (8.3) 的一种方法是拉格朗日乘子技术
This is a general formula for the CLS estimator	这是 CLS 估计量的通用公式
Figure 8.1: Constrained Least Squares Criterion	图 8.1：约束最小二乘准则
In Stata constrained least squares is implemented using the cnsreg command	在 Stata 中，约束最小二乘法是使用 cnsreg 命令实现的
Exclusion Restriction	排除约束
While (8.8) is a general formula for CLS, in most cases the estimator can be found by applying least squares to a reparameterized equation	虽然 (8.8) 是 CLS 的通用公式，但在大多数情况下，可以通过将最小二乘法应用于重新参数化方程来找到估计量
It is not immediately obvious but (8.8) and (8.13) are algebraically identical	虽然不是很明显，但 (8.8) 和 (8.13) 在代数上是相同的
Using (3.39) this equals	使用 (3.39) 这等于
which is (8.13) as originally claimed	正如最初所声称的那样，它是（8.13）
Finite Sample Properties	有限样本特征
In this section we explore some of the properties of the CLS estimator in the linear regression model	在本节中，我们探讨线性回归模型中 CLS 估计量的一些特征
First, it is useful to write the estimator and the residuals as linear functions of the error vector	首先，将估计量和残差编写为误差向量的线性函数是有用的
For a proof see Exercise 8.6	证明参见练习 8.6
For a proof see Exercise 8.7	证明参见练习 8.7
First, for simplicity take the case of conditional homoskedasticity	首先，为简单起见，以条件同方差为例
For a proof see Exercise 8.8	证明参见练习 8.8
We defer the remainder of the proof to Exercise 8.9	我们将剩下的证明推迟到练习 8.9
We summarize the properties of the normal regression model	我们总结了正态回归模型的特征
An interesting relationship is that in the homoskedastic regression model	一个有趣的关系是在同方差回归模型中
This also shows that the difference between the CLS and OLS variances matrices equals	这也表明 CLS 和 OLS 方差矩阵之间的差异等于
the final equality meaning positive semi-definite	最终的等式意味着半正定
Both estimators are unbiased (in the linear regression model) and CLS has a lower covariance matrix (in the linear homoskedastic regression model)	两个估计量都是无偏的（在线性回归模型中），并且 CLS 具有较低的协方差矩阵（在线性同方差回归模型中）
The relationship (8.18) is rather interesting and will appear again	关系（8.18）相当有趣，将会再次出现
We call (8.18) the Hausman Equality as it was first pointed out in econometrics by Hausman (1978)	我们将（8.18）称为豪斯曼等式，因为它是豪斯曼（1978）在计量经济学中首次指出的
Minimum Distance	最短距离
The previous section explored the finite sample distribution theory under the assumptions of the linear regression model, homoskedastic regression model, and normal regression model	上一节探讨了线性回归模型、同方差回归模型和正态回归模型假设下的有限样本分布理论
A minimum distance estimator tries to find a parameter value satisfying the constraint which is as close as possible to the unconstrained estimator	最小距离估计量试图找到满足约束的参数值，该值尽可能接近无约束估计量
To see the equality of CLS and minimum distance rewrite the least squares criterion as follows	要查看 CLS 和最小距离的相等性，请重写最小二乘准则，如下所示
The solution to the pair of first order conditions is	这对一阶条件的解为
We will address this question after we derive the asymptotic distribution for a general weight matrix	在推导出一般权重矩阵的渐近分布后，我们将解决这个问题
Asymptotic Distribution	渐近分布
We first show that the class of minimum distance estimators are consistent for the population parameters when the constraints are valid	我们首先证明，当约束有效时，最小距离估计量的类别对于总体参数是一致的
For a proof see Exercise 8.11	证明参见练习 8.11
Similarly, the constrained estimators are asymptotically normally distributed	类似地，约束估计量呈渐近正态分布
Theorem 8.7 Asymptotic Normality	定理8.7渐近正态性
Under Assumptions 7.2, 8.1, and 8.2,	根据假设 7.2、8.1 和 8.2，
For a proof see Exercise 8.12	证明参见练习 8.12
Theorem 8.8 Asymptotic Distribution of CLS Estimator	定理8.8 CLS估计量的渐近分布
For a proof see Exercise 8.13	证明参见练习 8.13
Variance Estimation and Standard Errors	方差估计和标准误差
Earlier we introduced the covariance matrix estimator under the assumption of conditional homoskedasticity	前面我们在条件同方差的假设下介绍了协方差矩阵估计量
We now introduce an estimator which does not impose homoskedasticity	我们现在引入一个不强加同方差的估计量
Notice that we have used an adjusted degrees of freedom	请注意，我们使用了调整后的自由度
Efficient Minimum Distance Estimator	高效的最小距离估计量
Theorem 8.9 Efficient Minimum Distance Estimator	定理8.9高效的最小距离估计量
the estimator (8.25) has lower asymptotic variance than the unrestricted estimator	估计量 (8.25) 的渐近方差低于无约束估计量
so (8.25) is asymptotically efficient in the class of minimum distance estimators	所以 (8.25) 在最小距离估计类中是渐近有效的
Otherwise when the error is conditionally heteroskedastic there are asymptotic efficiency gains by using minimum distance rather than least squares	否则，当误差是条件异方差时，通过使用最小距离而不是最小二乘可以获得渐近效率增益
The fact that CLS is generally inefficient is counter-intuitive and requires some reflection	CLS 普遍效率低下这一事实是违反直觉的，需要进行一些反思
This information is relevant when the error is heteroskedastic and the excluded regressors are correlated with the included regressors	当误差是异方差且排除的自变量与包含的自变量相关时，此信息是相关的
This means that efficient estimation is attained by imposing correct restrictions when we use the minimum distance method	这意味着当我们使用最小距离方法时，可以通过施加正确的约束来实现有效的估计
Exclusion Restriction Revisited	重新审视排除约束
We return to the example of estimation with a simple exclusion restriction	我们回到带有简单排除约束的估计示例
In general the three estimators are different and they have different asymptotic variances	一般来说，这三个估计量是不同的，并且它们具有不同的渐近方差
It is instructive to compare the variances to assess whether or not the constrained estimator is more efficient than the unconstrained estimator	比较方差以评估约束估计量是否比无约束估计量更有效是有启发性的
This is consistent with our intuition that imposing a correct restriction (excluding an irrelevant regressor) improves estimation efficiency	这与我们的直觉一致，即施加正确的约束（排除不相关的自变量）可以提高估计效率
However, in the general case of conditional heteroskedasticity this ranking is not guaranteed	然而，在条件异方差的一般情况下，无法保证该排名
The CLS estimator can have a larger asymptotic variance than the unconstrained least squares estimator	CLS 估计量可以具有比无约束最小二乘估计量更大的渐近方差
To see this let's use the simple heteroskedastic example from Section 7.4	为了了解这一点，让我们使用第 7.4 节中的简单异方差示例
It seems to contradict our initial motivation for pursuing constrained estimation - to improve estimation efficiency	这似乎与我们追求约束估计的最初动机——提高估计效率相矛盾
It turns out that a more refined answer is appropriate	事实证明，更精确的答案是合适的
While least squares is asymptotically efficient for estimation of the unconstrained projection model it is not an efficient estimator of the constrained projection model	虽然最小二乘对于无约束投影模型的估计是渐近有效的，但它不是受约束投影模型的有效估计量
Variance and Standard Error Estimation	方差和标准误差估计
We have discussed covariance matrix estimation for CLS but not yet for the EMD estimator	我们已经讨论了 CLS 的协方差矩阵估计，但尚未讨论 EMD 估计量
Following the formula for CLS we recommend an adjusted degrees of freedom	根据 CLS 公式，我们建议调整自由度
Hausman Equality	豪斯曼平等
Form (8.25) we have	表格（8.25）我们有
It follows that the asymptotic variances of the estimators satisfy the relationship	由此可见，估计量的渐近方差满足以下关系
We call (8.37) the Hausman Equality: the asymptotic variance of the difference between an efficient and another estimator is the difference in the asymptotic variances	我们将（8.37）称为豪斯曼方程：有效估计量与另一个估计量之间的差异的渐近方差是渐近方差的差异
Example: Mankiw, Romer and Weil (1992)	示例：曼昆、罗默和韦尔 (1992)
We illustrate the methods by replicating some of the estimates reported in a well-known paper by Mankiw, Romer, and Weil (1992)	我们通过重复 Mankiw、Romer 和 Weil (1992) 的一篇著名论文中报告的一些估计来说明这些方法
Standard errors are heteroskedasticity-consistent	标准误是异方差一致的
The data is available on the textbook webpage in the file MRW1992	该数据可在教科书网页上的文件 MRW1992 中找到
The sample is 98 non-oil-producing countries and the data was reported in the published paper	样本为 98 个非石油生产国，数据已在已发表的论文中报告
The estimates are also consistent with the convergence hypothesis (that income levels tend towards a common mean over time) as the coefficient on intial GDP is negative	由于初始 GDP 的系数为负，这些估计值也与收敛假设（随着时间的推移，收入水平趋向于共同平均值）一致
The differences between the CLS and EMD estimates are modest	CLS 和 EMD 估计之间的差异不大
We now present Stata, R and MATLAB code which implements these estimates	我们现在提供实现这些估计的 Stata、R 和 MATLAB 代码
You may notice that the Stata code has a section which uses the Mata matrix programming language	你可能会注意到 Stata 代码有一个部分使用 Mata 矩阵编程语言
As illustrated here, the Mata language allows a Stata user to implement methods using commands which are quite similar to MATLAB	如此处所示，Mata 语言允许 Stata 用户使用与 MATLAB 非常相似的命令来实现方法
Misspecification	误设
One answer is to apply formula (8.23) to find that	一个答案是应用公式（8.23）发现
However, we can say more	然而，我们还可以说更多
For example, we can describe some characteristics of the approximating projections	例如，我们可以描述近似投影的一些特征
the best linear predictor subject to the constraint (8.1)	受约束（8.1）的最优线性预测器
These calculations show that the constrained estimators are still reasonable in the sense that they produce good approximations to the true coefficient conditional on being required to satisfy the constraint	这些计算表明，约束估计量在满足约束条件的条件下能够产生对真实系数的良好近似，从这个意义上说，它们仍然是合理的
The fact that the estimators are biased is an unavoidable consequence of misspecification	估计量存在偏误这一事实是误设不可避免的结果
An alternative approach to the asymptotic distribution theory under misspecification uses the concept of local alternatives	误设下渐近分布理论的另一种方法使用局部替代的概念
We call (8.41) local misspecification	我们称（8.41）局部误设
The best way to see this is to work through the asymptotic approximation	看到这一点的最好方法是通过渐近逼近
A difference arises for the constrained estimator	约束估计量会出现差异
The first term is asymptotically normal (from 8.42))	第一项是渐近正态的（来自 8.42））
No alternative rate would have produced this result	没有其他利率会产生这样的结果
Consequently we find that the asymptotic distribution equals	因此我们发现渐近分布等于
The asymptotic distribution (8.43) is an approximation of the sampling distribution of the restricted estimator under misspecification	渐近分布 (8.43) 是误设下受限估计量的采样分布的近似值
However, (8.43) is more convenient for some purposes such as the analysis of the power of tests as we will explore in the next chapter	然而，（8.43）对于某些目的来说更方便，例如我们将在下一章中探讨的检验功效分析
Nonlinear Constraints	非线性约束
Computationally there is no general closed-form solution so they must be found numerically	在计算上没有通用的封闭式解，因此必须通过数值方式找到它们
See Chapter 12 of Probability and Statistics for Economists	请参阅《经济学家的概率与统计》第 12 章
The asymptotic distribution is a simple generalization of the case of a linear constraint but the proof is more delicate	渐近分布是线性约束情况的简单推广，但证明更为微妙
The asymptotic covariance matrix for the efficient minimum distance estimator can be estimated by	有效最小距离估计量的渐近协方差矩阵可以通过以下方式估计
Inequality Restrictions	不等式约束
The constrained least squares and minimum distance estimators can be written as	约束最小二乘和最小距离估计量可以写为
Except in special cases the constrained estimators do not have simple algebraic solutions	除特殊情况外，约束估计量没有简单的代数解
While this method works when there is a single non-negativity constraint, it does not immediately generalize to other contexts	虽然此方法在存在单个非负约束时有效，但它不会立即推广到其他上下文
The computation problems (8.50) and (8.51) are examples of quadratic programming	计算问题 (8.50) 和 (8.51) 是二次规划的示例
Quick computer algorithms are available in programming languages including MATLAB and R	快速计算机算法可用于编程语言，包括 MATLAB 和 R
Inference on inequality-constrained estimators is unfortunately quite challenging	不幸的是，对不平等约束估计量的推断非常具有挑战性
This can be shown with more effort, but requires a deeper treatment than appropriate for this textbook	这可以通过更多的努力来展示，但需要比这本教科书更深入的处理
Hypothesis Testing	假设检验
In Chapter 5 we briefly introduced hypothesis testing in the context of the normal regression model	在第五章中，我们简要介绍了正态回归模型中的假设检验
For more detail on the foundations see Chapter 13 of Probability and Statistics for Economists	有关基础的更多详细信息，请参阅《经济学家的概率与统计》第 13 章
Hypotheses	假设
In Chapter 8 we discussed estimation subject to restrictions, including linear restrictions (8.1), nonlinear restrictions (8.44), and inequality restrictions (8.49)	在第8章中，我们讨论了受约束的估计，包括线性约束（8.1）、非线性约束（8.44）和不等式约束（8.49）
In this chapter we discuss tests of such restrictions	在本章中，我们将讨论此类约束的检验
Hypothesis tests attempt to assess whether there is evidence contrary to a proposed restriction	假设检验试图评估是否有证据与提议的约束相反
In this chapter we will focus exclusively on point hypotheses of the form (9.1) as they are the most common and relatively simple to handle	在本章中，我们将专门关注（9.1）形式的点假设，因为它们是最常见且相对容易处理的
The hypothesis to be tested is called the null hypothesis	要检验的假设称为原假设
The complement of the null hypothesis (the collection of parameter values which do not satisfy the null hypothesis) is called the alternative hypothesis	原假设的补集（不满足原假设的参数值的集合）称为备择假设
Figure 9.1(a) illustrates the division of the parameter space into null and alternative hypotheses	图 9.1(a) 说明了将参数空间划分为原假设和备择假设
Figure 9.1: Hypothesis Testing	图 9.1：假设检验
To be specific, take our example of wage determination and consider the question: Does union membership affect wages? We can turn this into a hypothesis test by specifying the null as the restriction that a coefficient on union membership is zero in a wage regression	具体来说，以我们的工资决定为例，并考虑以下问题：工会会员资格会影响工资吗？我们可以通过将零值指定为工资回归中工会成员系数为零的约束，将其转变为假设检验
Acceptance and Rejection	接受和拒绝
A hypothesis test either accepts the null hypothesis or rejects the null hypothesis in favor of the alternative hypothesis	假设检验要么接受原假设，要么拒绝原假设并支持备择假设
In the example given in the previous section the decision is either to accept the hypothesis that union membership does not affect wages, or to reject the hypothesis in favor of the alternative that union membership does affect wages	在上一节给出的示例中，决策要么接受工会成员身份不影响工资的假设，要么拒绝工会成员身份确实影响工资的假设
The decision is based on the data and so is a mapping from the sample space to the decision set	决策基于数据，因此也是基于样本空间到决策集的映射
It is convenient to express this mapping as a real-valued function called a test statistic	可以方便地将这种映射表示为称为检验统计量的实值函数
Figure 9.1(b) illustrates the division of the sample space into acceptance and rejection regions	图 9.1(b) 说明了将样本空间划分为接受区域和拒绝区域
In this chapter we will summarize the main approaches to the design of test statistics	在本章中，我们将总结检验统计量设计的主要方法
The most commonly used test statistic is the absolute value of the t-statistic	最常用的检验统计量是 t 统计量的绝对值
Type I Error	I 类错误
The probability of a Type I error is called the size of the test	发生 I 类错误的概率称为检验的大小
A primary goal of test construction is to limit the incidence of Type I error by bounding the size of the test	检验构建的主要目标是通过约束检验的规模来约束 I 类错误的发生率
For the reasons discussed in Chapter 7 , in typical econometric models the exact sampling distributions of estimators and test statistics are unknown and hence we cannot explicitly calculate (9.4)	由于第 7 章中讨论的原因，在典型的计量经济学模型中，估计量和检验统计量的精确抽样分布是未知的，因此我们无法明确计算（9.4）
This distribution does not depend on unknowns and is pivotal	这种分布不依赖于未知数并且是关键的
We define the asymptotic size of the test as the asymptotic probability of a Type I error:	我们将检验的渐近大小定义为 I 类错误的渐近概率：
t tests	t 检验
We now formally state its asymptotic null distribution, which is a simple application of Theorem 7.11	我们现在正式陈述它的渐近零分布，这是定理 7.11 的简单应用
Theorem 9.1 shows that asymptotic critical values can be taken from the normal distribution	定理 9.1 表明渐近临界值可以从正态分布中获取
In practical applications the difference is typically unimportant unless the sample size is quite small (in which case the asymptotic approximation should be questioned as well)	在实际应用中，除非样本量非常小，否则差异通常并不重要（在这种情况下，渐近近似也应该受到质疑）
There seems to be an ambiguity	似乎有歧义
Since linear regression coefficients typically do not have a priori sign restrictions, the standard convention is to use two-sided critical values	由于线性回归系数通常没有先验符号约束，因此标准惯例是使用两侧临界值
This may seem contrary to the way testing is presented in statistical textbooks which often focus on one-sided alternative hypotheses	这似乎与统计教科书中呈现检验的方式相反，统计教科书通常侧重于片面的替代假设
The latter focus is primarily for pedagogy as the one-sided theoretical problem is cleaner and easier to understand	后者主要针对教育学，因为片面的理论问题更清晰、更容易理解
Type II Error and Power	II 类错误和影响
In the dominant approach to hypothesis testing the goal of test construction is to have high power subject to the constraint that the size of the test is lower than the pre-specified significance level	在假设检验的主要方法中，检验构建的目标是在检验规模低于预先指定的显著性水平的约束下获得高功效
Table 9.1: Hypothesis Testing Decisions	表 9.1：假设检验决策
Otherwise the test will not have meaningful power	否则检验将没有有意义的力量
It is important to consider the power of a test when interpreting hypothesis tests as an overly narrow focus on size can lead to poor decisions	在解释假设检验时，重要的是要考虑检验的功效，因为过于狭隘地关注规模可能会导致错误的决策
Nothing is learned from such a test	从这样的检验中什么也学不到
Statistical Significance	统计学意义
These choices are somewhat the by-product of traditional tables of critical values and statistical software	这些选择在某种程度上是传统临界值表和统计软件的副产品
Let us return to the example about the union wage premium as measured in Table 4.1	让我们回到表 4.1 中衡量的工会工资溢价的例子
In this case we find that membership for women is not statistically significant	在这种情况下，我们发现女性成员资格在统计上并不显着
When a test accepts a null hypothesis (when a test is not statistically significant) a common misinterpretation is that this is evidence that the null hypothesis is true	当检验接受零假设（当检验不具有统计显著性时）时，常见的误解是，这是零假设为真的证据
The test has failed to reject the hypothesis that the coefficient is zero but that does not mean that the coefficient is actually zero	该检验未能拒绝系数为零的假设，但这并不意味着系数实际上为零
When a test rejects a null hypothesis (when a test is statistically significant) it is strong evidence against the hypothesis (because if the hypothesis were true then rejection is an unlikely event)	当检验拒绝零假设时（当检验具有统计显著性时），它是反对假设的有力证据（因为如果假设为真，则拒绝是不可能发生的事件）
However, we can never conclude that the null hypothesis is indeed false as we cannot exclude the possibility that we are making a Type I error	然而，我们永远不能得出零假设确实是错误的结论，因为我们不能排除犯第一类错误的可能性
Perhaps more importantly, there is an important distinction between statistical and economic significance	也许更重要的是，统计意义和经济意义之间存在重要区别
This occurs frequently in applications with very large sample sizes where standard errors can be quite small	这种情况经常发生在样本量非常大且标准误差可能非常小的应用中
The solution is to focus whenever possible on confidence intervals and the economic meaning of the coefficients	解决方案是尽可能关注置信区间和系数的经济意义
This is much more informative than the misleading statement "the effect is statistically positive"	这比“效果在统计上是积极的”这一误导性陈述提供了更多信息
P-Values	P 值
The answer is to report what is known as the asymptotic p-value	答案是报告所谓的渐近 p 值
Furthermore, the asymptotic p-value has a very convenient asymptotic null distribution	此外，渐近 p 值具有非常方便的渐近零分布
The goal is essentially the same; it is wiser to report p-values whenever possible and avoid the use of asterisks	目标本质上是相同的；明智的做法是尽可能报告 p 值并避免使用星号
The p-value is a simple statistic, easy to interpret, and contains more information than the other choices	p 值是一个简单的统计量，易于解释，并且比其他选择包含更多信息
We now summarize the main features of hypothesis testing	我们现在总结假设检验的主要特征
t-ratios and the Abuse of Testing	t 比率和滥用检验
In particular, some applied papers report coefficient estimates and t-ratios and limit their discussion of the results to describing which variables are "significant" (meaning that their t-ratios exceed 2) and the signs of the coefficient estimates	特别是，一些应用论文报告了系数估计值和 t 比率，并将结果讨论限定为描述哪些变量是“显着的”（意味着它们的 t 比率超过 2）以及系数估计值的符号
It is also a recipe for banishment of your work to lower tier economics journals	这也是导致你的作品被低级经济学期刊驱逐的原因之一
Fundamentally, the common t-ratio is a test for the hypothesis that a coefficient equals zero	从根本上说，共同 t 比率是对系数等于 0 的假设的检验
But if this is not the case it is distracting	但如果情况并非如此，那就会分散注意力
One problem is that standard packages, such as Stata, by default report t-statistics and p-values for every estimated coefficient	一个问题是标准软件包（例如 Stata）默认报告每个估计系数的 t 统计量和 p 值
Instead, a user should focus on tests of scientifically motivated hypotheses	相反，用户应该专注于对科学假设的检验
In contrast, the statement "the t-ratio is highly significant" has little interpretive value	相比之下，“t 比率非常显着”这一说法几乎没有解释价值
This is critical for good applied econometric practice	这对于良好的应用计量经济学实践至关重要
For example, consider the question about the effect of marriage status on mean log wages	例如，考虑有关婚姻状况对平均对数工资的影响的问题
These magnitudes are more informative than the results of the hypothesis tests	这些幅度比假设检验的结果提供更多信息
Wald Tests	瓦尔德检验
The t-test is appropriate when the null hypothesis is a real-valued restriction	当原假设是实值约束时，t 检验适用
Thus the inherent alternative is always two-sided	因此，固有的选择总是有两面性的
To implement a test of zero restrictions in Stata an easy method is to use the command test X1 X2 where X1 and X2 are the names of the variables whose coefficients are hypothesized to equal zero	要在 Stata 中实现零约束检验，一种简单的方法是使用命令 test X1 X2，其中 X1 和 X2 是假设系数为零的变量的名称
To illustrate, consider the empirical results presented in Table 4.1	为了说明这一点，请考虑表 4.1 中给出的实证结果
Therefore examining both the joint Wald statistic and the individual t-statistics is useful for interpretation	因此，检查联合 Wald 统计量和个体 t 统计量对于解释很有用
As a second example from the same regression, take the hypothesis that married status has no effect on mean wages for women	作为同一回归的第二个例子，假设婚姻状况对女性的平均工资没有影响
The Wald statistic was proposed by Wald (1943)	Wald 统计量由 Wald (1943) 提出
Homoskedastic Wald Tests	同方差 Wald 检验
Criterion-Based Tests	基于标准的检验
An alternative class of tests is based on the discrepancy between the criterion function minimized with and without the restriction	另一类检验是基于在有约束和没有约束的情况下最小化准则函数之间的差异
Minimum Distance Tests	最短距离检验
The minimum distance test is based on the minimum distance criterion (8.19)	最小距离检验基于最小距离标准（8.19）
Substituting into (9.10) we find	代入(9.10)我们发现
which is the Wald statistic (9.6)	这是 Wald 统计量 (9.6)
For nonlinear hypotheses, however, the Wald and minimum distance statistics are different	然而，对于非线性假设，Wald 和最小距离统计量是不同的
We now demonstrate Theorem 9.4	我们现在证明定理 9.4
Minimum Distance Tests Under Homoskedasticity	同方差下的最小距离检验
This is the homoskedastic Wald statistic (9.7)	这是同方差 Wald 统计量 (9.7)
Thus for testing linear hypotheses, homoskedastic minimum distance and Wald statistics agree	因此，对于检验线性假设，同方差最小距离和 Wald 统计是一致的
For nonlinear hypotheses they disagree, but have the same null asymptotic distribution	对于非线性假设，它们不一致，但具有相同的零渐近分布
F Tests	F 检验
An elegant feature about (9.12) or (9.13) is that they are directly computable from the standard output from two simple OLS regressions, as the sum of squared errors (or regression variance) is a typical printed output from statistical packages and is often reported in applied tables	(9.12) 或 (9.13) 的一个优雅特征是它们可以直接从两个简单 OLS 回归的标准输出计算，因为平方误差之和（或回归方差）是统计包的典型打印输出，并且经常报告在应用表中
A word of warning: In many statistical packages when an OLS regression is estimated an "F-statistic" is automatically reported even though no hypothesis test was requested	警告：在许多统计软件包中，当估计 OLS 回归时，即使没有要求假设检验，也会自动报告“F 统计量”
Hausman Tests	豪斯曼检验
Thus the Hausman statistic is	因此豪斯曼统计量是
which is precisely the Wald statistic	这正是 Wald 统计量
Theorem 9.7 For general hypotheses the Hausman test statistic is	定理 9.7 对于一般假设，Hausman 检验统计量为
Score Tests	分数检验
Score tests are traditionally derived in likelihood analysis but can more generally be constructed from first-order conditions evaluated at restricted estimates	分数检验传统上是通过似然分析得出的，但更一般地可以根据在有限估计下评估的一阶条件构建
We focus on the likelihood derivation	我们关注似然推导
The idea is that if the restriction is true then the restricted estimators should be close to the maximum of the log-likelihood where the derivative is zero	这个想法是，如果约束为真，那么受约束的估计量应该接近导数为零的对数似然的最大值
The constrained MLE under linear hypotheses is constrained least squares	线性假设下的约束 MLE 是约束最小二乘
We can calculate that the derivative and Hessian are	我们可以计算出导数和 Hessian 为
This is not a concern for linear restrictions	这不是线性约束的问题
More generally, score and score-like statistics can be constructed from first-order conditions evaluated at restricted parameter estimates	更一般地，分数和类分数统计可以根据在受限参数估计下评估的一阶条件来构造
restricted residuals) then these are often described as score tests	此外，当使用协方差矩阵估计构建检验统计量（使用受限参数估计（例如受限残差）计算）时，这些通常被描述为分数检验
An example of the latter is the Wald-type statistic	后者的一个例子是 Wald 型统计量
Problems with Tests of Nonlinear Hypotheses	非线性假设检验的问题
This is an unfortunate feature of the Wald statistic	这是沃尔德统计数据的一个不幸的特征
Through repetition, features of this distribution can be calculated	通过重复，可以计算出该分布的特征
While this is clear in this particular example, in other examples natural choices are not obvious and the best choices may be counter-intuitive	虽然这一点在这个特定示例中很明显，但在其他示例中，自然选择并不明显，并且最优选择可能是反直觉的
This point can be illustrated through an example based on Gregory and Veall (1985)	这一点可以通过 Gregory 和 Veall (1985) 的例子来说明
Rejection frequencies from 50,000 simulated random samples	50,000 个模拟随机样本的拒绝频率
An alternative statistic can be constructed through reformulating the null hypothesis as	可以通过将零假设重新表述为来构建替代统计量
A t-statistic based on this formulation of the hypothesis is	基于该假设表述的 t 统计量为
The common message from both examples is that Wald statistics are sensitive to the algebraic formulation of the null hypothesis	这两个例子的共同信息是 Wald 统计量对原假设的代数表述很敏感
Whenever possible, the Wald statistic should not be used to test nonlinear hypotheses	只要有可能，Wald 统计量就不应用于检验非线性假设
Theoretical investigations of these issues include Park and Phillips (1988) and Dufour (1997)	对这些问题的理论研究包括 Park 和 Phillips (1988) 以及 Dufour (1997)
Monte Carlo Simulation	蒙特卡罗模拟
In this section we describe the method in more detail	在本节中，我们将更详细地描述该方法
The name Monte Carlo derives from the Mediterranean gambling resort where games of chance are played	蒙特卡洛这个名字源自地中海赌博胜地，那里进行机会游戏
The method of Monte Carlo is simple to describe	蒙特卡罗方法描述起来很简单
Then the following experiment is conducted by computer simulation:	然后通过计算机模拟进行如下实验：
We will discuss this choice later	我们稍后会讨论这个选择
From a random sample we can estimate any feature of interest using (typically) a method of moments estimator	从随机样本中，我们可以使用（通常）矩估计量的方法来估计任何感兴趣的特征
We now describe some specific examples	我们现在描述一些具体的例子
Suppose we are interested in the Type I error associated with an asymptotic 5% two-sided t-test	假设我们对与渐近 5% 双边 t 检验相关的 I 类错误感兴趣
The typical purpose of a Monte Carlo simulation is to investigate the performance of a statistical procedure in realistic settings	蒙特卡罗模拟的典型目的是研究统计过程在现实环境中的性能
In particular, it is simple to make inferences about rejection probabilities from statistical tests, such as the percentage estimate reported in (9.15)	特别是，从统计检验中推断拒绝概率很简单，例如（9.15）中报告的百分比估计
In this case it is appropriate to conclude that your results "replicate" the previous study as there is no statistical evidence to reject the hypothesis that they are equivalent	在这种情况下，适当的做法是得出结论，你的结果“复现”了先前的研究，因为没有统计证据可以拒绝它们是等效的假设
Most journals have policies requiring authors to make available their data sets and computer programs required for empirical results	大多数期刊都有政策要求作者提供实证结果所需的数据集和计算机程序
This invites others to build on and use your results, leading to possible collaboration, citation, and/or advancement	这会邀请其他人以你的成果为基础并使用你的成果，从而实现可能的合作、引用和/或进步
Confidence Intervals by Test Inversion	检验反演的置信区间
There is a close relationship between hypothesis tests and confidence intervals	假设检验和置信区间之间存在密切关系
Thus inverting a test with good Type I error probabilities yields a confidence interval with good coverage probabilities	因此，对具有良好 I 类错误概率的检验进行反演会产生具有良好覆盖概率的置信区间
For example, in the wage equation	例如，在工资方程中
Multiple Tests and Bonferroni Corrections	多重检验和 Bonferroni 修正
In most applications economists examine a large number of estimates, test statistics, and p-values	在大多数应用中，经济学家都会检查大量的估计值、检验统计数据和 p 值
What does it mean (or does it mean anything) if one statistic appears to be "significant" after examining a large number of statistics? This is known as the problem of multiple testing or multiple comparisons	如果在检查大量统计数据后一项统计数据似乎“显着”，这意味着什么（或者有什么意义）？这称为多重检验或多重比较的问题
Power and Test Consistency	功率和检验一致性
The power of the test is	检验的功效为
We call this property test consistency	我们将此特征称为一致性检验
In general, t-tests and Wald tests are consistent against fixed alternatives	一般来说，t 检验和 Wald 检验与固定替代方案是一致的
Again, this implies that Wald tests are consistent	这再次表明 Wald 检验是一致的
Asymptotic Local Power	渐近局部幂
Consistency is a good property for a test but is does not provided a tool to calculate test power	一致性对于检验来说是一个很好的特征，但没有提供计算检验功效的工具
To approximate the power function we need a distributional approximation	为了近似幂函数，我们需要分布近似
The standard asymptotic method for power analysis uses what are called local alternatives	功效分析的标准渐近方法使用所谓的局部替代方法
Instead, it should be interpreted as a technical device which allows the asymptotic distribution to be continuous in the alternative hypothesis	相反，它应该被解释为一种允许渐近分布在备择假设中连续的技术手段
where the second equality is (9.17)	其中第二个等式是 (9.17)
Decreasing size induces a decrease in power, and conversely	尺寸减小会导致功率减小，反之亦然
Figure 9.3: Asymptotic Local Power Function	图 9.3：渐近局部幂函数
The difference between power functions can be measured either vertically or horizontally	幂函数之间的差异可以垂直或水平测量
This is the difference in power across tests of differing size, holding fixed the parameter in the alternative	这是不同规模的检验之间功效的差异，在替代方案中保持固定参数
A horizontal comparison can also be illuminating	横向比较也可以具有启发性
and thus the local power of a two-sided t test is	因此双边 t 检验的局部功效为
Asymptotic Local Power, Vector Case	渐近局部幂，向量情况
In this section we extend the local power analysis of the previous section to the case of vector-valued alternatives	在本节中，我们将上一节的局部功效分析扩展到向量值替代方案的情况
Applied to the Wald statistic we find	应用于 Wald 统计我们发现
Resampling Methods	重采样方法
So far in this textbook we have discussed two approaches to inference: exact and asymptotic	到目前为止，在本教科书中，我们已经讨论了两种推断方法：精确推断和渐近推断
Asymptotic theory provides a more flexible distribution theory but is an approximation with uncertain accuracy	渐近理论提供了一种更灵活的分布理论，但它是一种精度不确定的近似
In this chapter we introduce a set of alternative inference methods which are based around the concept of resampling - which means using sampling information extracted from the empirical distribution of the data	在本章中，我们介绍了一组基于重采样概念的替代推断方法，这意味着使用从数据的经验分布中提取的采样信息
A consequence of the computation requirement is that most empirical researchers use asymptotic approximations for routine calculations while resampling approximations are used for final reporting	计算要求的结果是，大多数实证研究人员使用渐近近似进行常规计算，而重采样近似用于最终报告
We will discuss two categories of resampling methods used in statistical and econometric practice: jackknife and bootstrap	我们将讨论统计和计量经济学实践中使用的两类重采样方法：折刀法和引导法
Most of our attention will be given to the bootstrap as it is the most commonly used resampling method in econometric practice	我们的大部分注意力将集中在引导程序上，因为它是计量经济学实践中最常用的重采样方法
The jackknife is most commonly used for variance estimation	折刀法最常用于方差估计
(There are other variants of bootstrap sampling, including parametric sampling and residual sampling.) The bootstrap is commonly used for variance estimation, confidence interval construction, and hypothesis testing	）引导抽样通常用于方差估计、置信区间构建和假设检验
There is a third category of resampling methods known as sub-sampling which we will not cover in this textbook	第三类重采样方法称为二次采样，我们不会在本教科书中介绍
See the excellent monograph by Politis, Romano and Wolf (1999)	请参阅 Politis、Romano 和 Wolf (1999) 撰写的优秀专着
Example	例子
To motivate our discussion we focus on the application presented in Section 3.7, which is a bivariate regression applied to the CPS subsample of married Black female wage earners with 12 years potential work experience and displayed in Table 3.1	为了激发我们的讨论，我们重点关注第 3.7 节中提出的应用程序，这是一个二元回归，适用于具有 12 年潜在工作经验的已婚黑人女性工薪者的 CPS 子样本，并显示在表 3.1 中
The estimates as reported in (4.44) are	(4.44) 中报告的估计是
We focus on four estimates constructed from this regression	我们重点关注根据该回归构建的四个估计值
We are interested in calculating standard errors and confidence intervals for the four estimates described above	我们有兴趣计算上述四个估计的标准误差和置信区间
Jackknife Estimation of Variance	方差的折刀估计
The jackknife estimates moments of estimators using the distribution of the leave-one-out estimators	Jackknife 使用留一估计量的分布来估计估计量的矩
The idea was expanded further in the monographs of Efron (1982) and Shao and Tu (1995)	这个想法在 Efron (1982) 以及 Shao 和 Tu (1995) 的专着中得到了进一步扩展
The main attractions of the jackknife estimator are that it can be used when an explicit asymptotic variance formula is not available and that it can be used as a check on the reliability of an asymptotic formula	Jackknife 估计量的主要吸引力在于，它可以在显式渐近方差公式不可用时使用，并且可以用作渐近公式可靠性的检查
The formula (10.1) is not immediately intuitive so may benefit from some motivation	公式（10.1）并不直观，因此可能会受益于一些动机
The sample mean of the leave-one-out estimators is	留一估计量的样本均值是
The jackknife estimate of variance (10.1) is then	方差的折刀估计 (10.1) 则为
We next examine the case of least squares regression coefficient estimator	接下来我们研究最小二乘回归系数估计量的情况
This is further confirmation that the jackknife is making a reasonable calculation	这进一步证实了折刀的计算是合理的
The second equality is (10.4)	第二个等式是(10.4)
This argument extends directly to any "smooth function" estimator	这个论点直接扩展到任何“平滑函数”估计量
We illustrate by reporting the asymptotic and jackknife standard errors for the four parameter estimates given earlier	我们通过报告前面给出的四个参数估计的渐近和折刀标准误差来进行说明
For comparison the asymptotic standard errors are reported in the final row	为了进行比较，最后一行报告了渐近标准误差
For all estimates the jackknife and asymptotic standard errors are quite similar	对于所有估计，折刀误差和渐近标准误差都非常相似
The take-away from our presentation is that the jackknife is a simple and flexible method for variance and standard error calculation	我们的演示的要点是，折刀法是一种简单而灵活的方差和标准误差计算方法
They can also be used as a double-check on the reasonableness of asymptotic delta-method calculations	它们还可以用作渐近 delta 方法计算合理性的双重检查
In Stata, jackknife standard errors for coefficient estimates in many models are obtained by the vce(jackknife) option	在 Stata 中，许多模型中系数估计的折刀标准误差是通过 vce(jackknife) 选项获得的
For nonlinear functions of the coefficients or other estimators the jackkn ife command can be combined with any other command to obtain jackknife standard errors	对于系数或其他估计量的非线性函数，jackkn ife 命令可以与任何其他命令组合以获得 jackknife 标准误差
To illustrate, below we list the Stata commands which calculate the jackknife standard errors listed above	为了说明这一点，下面我们列出了计算上面列出的折刀标准误差的 Stata 命令
Table 10.1: Leave-one-out Estimators and Jackknife Standard Errors	表 10.1：留一估计量和折刀标准误
Jackknife for Clustered Observations	用于群组观测的刀刀
Using the same approximations as the previous section we can show that the delete-cluster jackknife estimator is asymptotically equivalent to the cluster-robust covariance matrix estimator (4.59) calculated with the delete-cluster prediction errors	使用与上一节相同的近似，我们可以证明删除群组折刀估计量渐近等效于使用删除群组预测误差计算的群组稳健协方差矩阵估计量（4.59）
This verifies that the delete-cluster jackknife is the appropriate jackknife approach for clustered dependence	这验证了删除群组刀刀法是适用于群组依赖的刀刀法方法
This shows that the jackknife estimator is appropriate for covariance matrix estimation	这表明折刀估计量适合协方差矩阵估计
As in the context of i.i.d. samples, one advantage of the jackknife covariance matrix estimators is that they do not require the user to make a technical calculation of the asymptotic distribution	正如在 i.i.d. 的上下文中一样
In Stata, jackknife standard errors for coefficient estimates with clustered observations are obtained by using the options cluster (id) vce(jackkn ife) where id denotes the cluster variable	在 Stata 中，通过使用选项 cluster (id) vce(jackkn ife) 获得群组观测值的系数估计的杰克刀标准误差，其中 id 表示群组变量
The Bootstrap Algorithm	引导算法
The bootstrap is a powerful approach to inference and is due to the pioneering work of Efron (1979)	Bootstrap 是一种强大的推断方法，归功于 Efron (1979) 的开创性工作
There are several ways to describe or define the bootstrap and there are several forms of the bootstrap	有多种方法来描述或定义引导程序，并且引导程序有多种形式
In subsequent sections we give more formal definitions of the bootstrap as well as theoretical justifications	在后续部分中，我们给出引导程序的更正式的定义以及理论依据
sampling (sampling with replacement) from the original dataset	从原始数据集中采样（放回采样）
To understand this it is useful to start with the concept of sampling with replacement from the dataset	为了理解这一点，从数据集中替换采样的概念开始是很有用的
We call this the bootstrap sample	我们称之为引导样本
Once again, the bootstrap sample is the constructed dataset with the 20 observations drawn randomly from the original sample	同样，引导样本是构建的数据集，其中包含从原始样本中随机抽取的 20 个观测值
This is one draw from the bootstrap distribution of the estimates	这是从估计值的引导分布中得出的一项结论
Bootstrap Variance and Standard Errors	自举方差和标准误差
Given the bootstrap draws we can estimate features of the bootstrap distribution	给定引导程序绘制，我们可以估计引导程序分布的特征
This is a very simple statistic to calculate and is the most common use of the bootstrap in applied econometric practice	这是一个计算起来非常简单的统计数据，也是应用计量经济学实践中引导程序最常见的用途
A caveat (discussed in more detail in Section 10.15) is that in many cases it is better to use a trimmed estimator	需要注意的是（在第 10.15 节中更详细地讨论），在许多情况下最好使用修剪估计量
Standard errors are conventionally reported to convey the precision of the estimator	通常报告标准误差来传达估计量的精度
In general, bootstrap standard errors should be used as estimates of precision rather than as tools to construct confidence intervals	一般来说，引导标准误差应用作精度估计，而不是用作构建置信区间的工具
They should be similar (up to simulation sampling error) but not precisely the same	它们应该相似（取决于模拟采样误差）但不完全相同
We also report four bootstrap confidence intervals which will be introduced in subsequent sections	我们还报告了四个引导置信区间，将在后续部分中介绍
For these four estimators we can see that the bootstrap standard errors are quite similar to the asymptotic and jackknife standard errors	对于这四个估计量，我们可以看到引导标准误差与渐近标准误差和折刀标准误差非常相似
Table 10.2: Comparison of Methods	表 10.2：方法比较
In Stata, bootstrap standard errors for coefficient estimates in many models are obtained by the vce(bootstrap, reps(\#)) option, where \# is the number of bootstrap replications	在 Stata 中，许多模型中系数估计的引导标准误差是通过 vce(bootstrap,reps(\#)) 选项获得的，其中 \# 是引导复制的数量
Synonyms for bootstrap are bstrap and bs	bootstrap 的同义词是 bstrap 和 bs
Percentile Interval	百分位数区间
The second most common use of bootstrap methods is for confidence intervals	引导方法的第二个最常见用途是置信区间
It is based on the quantiles of the bootstrap distribution	它基于引导分布的分位数
The percentile interval has the convenience that it does not require calculation of a standard error	百分位数区间的优点是不需要计算标准误差
The percentile interval has the useful property that it is transformation-respecting	百分位数区间具有一个有用的特征，即它尊重变换
The bootstrap percentile intervals for the four estimators are reported in Table 13.2	表 13.2 报告了四个估计量的自举百分位数区间
In Stata, percentile confidence intervals can be obtained by using the command estat bootstrap, percentile or the command estat bootstrap, all after an estimation command which calculates standard errors via the bootstrap	在 Stata 中，可以使用命令 estat bootstrap、percentile 或命令 estat bootstrap 获得百分位数置信区间，所有这些都在通过 bootstrap 计算标准误差的估计命令之后
The Bootstrap Distribution	Bootstrap 分布
For applications it is often sufficient if one understands the bootstrap as an algorithm	对于应用程序来说，如果将引导程序理解为一种算法，通常就足够了
For this it is useful to introduce some additional notation	为此，引入一些附加符号很有用
The key is that the distribution of any estimator or statistic is determined by the distribution of the data	关键是任何估计量或统计量的分布都是由数据的分布决定的
This is what the bootstrap does	这就是引导程序的作用
For example, we want to know its variance to calculate a standard error or its quantiles to calculate a percentile interval	例如，我们想知道其方差以计算标准误差或其分位数以计算百分位数间隔
The bootstrap simultaneously circumvents these two barriers by two clever ideas	引导程序通过两个巧妙的想法同时规避了这两个障碍
Only by considering these steps together do we obtain a feasible method	只有综合考虑这些步骤，我们才能得到可行的方法
We now carefully explain the connection with the bootstrap algorithm as previously described	我们现在仔细解释与前面描述的引导算法的连接
Third, observe that the distribution of these bootstrap estimators is the bootstrap distribution (10.9)	第三，观察这些自举估计量的分布是自举分布（10.9）
In the next several sections we develop an asymptotic distribution theory for the bootstrap distribution based on extending asymptotic theory to the case of conditional distributions	在接下来的几节中，我们基于将渐近理论扩展到条件分布的情况，开发了自举分布的渐近分布理论
The Distribution of the Bootstrap Observations	Bootstrap 观测值的分布
Notationally, the starred distribution and expectation are conditional given the data	从符号上讲，加星号的分布和期望是条件给定数据
Thus even if the original data come from a continuous distribution, the bootstrap data distribution is discrete	因此，即使原始数据来自连续分布，引导数据分布也是离散的
The Distribution of the Bootstrap Sample Mean	Bootstrap 样本均值的分布
The bootstrap sample mean is	自举样本均值是
We can calculate its (conditional) mean and variance	我们可以计算它的（条件）均值和方差
The (conditional) variance of the bootstrap sample mean is	自举样本均值的（条件）方差为
The moments (10.14) are exact, not approximations	矩 (10.14) 是精确的，而不是近似值
Bootstrap Asymptotics	自举渐进
Indeed, this is the case, but we have to be a bit careful since the bootstrap mean has a conditional distribution (given the data) so we need to define convergence in probability for conditional distributions	确实如此，但我们必须小心一点，因为引导均值具有条件分布（给定数据），因此我们需要定义条件分布的概率收敛
Note that there are two uses of probability - both unconditional and conditional	请注意，概率有两种用途：无条件概率和有条件概率
Our label "convergence in bootstrap probability" is a bit unusual	我们的标签“引导概率收敛”有点不寻常
We do not use this concept in this chapter as it is an unnecessary complication	我们在本章中不使用这个概念，因为它是不必要的复杂化
The following may seem obvious but it is useful to state for clarity	以下内容可能看起来很明显，但为了清楚起见，进行说明很有用
Given Definition 10.1, we can establish a law of large numbers for the bootstrap sample mean	给定定义 10.1，我们可以为引导样本均值建立大数定律
The proof (presented in Section 10.31) is somewhat different from the classical case as it is based on the Marcinkiewicz WLLN (Theorem 10.20, presented in Section 10.31)	该证明（第 10.31 节中介绍）与经典案例有些不同，因为它基于 Marcinkiewicz WLLN（定理 10.20，第 10.31 节中介绍）
Notice that the conditions for the bootstrap WLLN are the same for the conventional WLLN	请注意，引导 WLLN 的条件与传统 WLLN 的条件相同
Theorem 10.3 Bootstrap Continuous Mapping Theorem	定理10.3 Bootstrap连续映射定理
We next would like to show that the bootstrap sample mean is asymptotically normally distributed, but for that we need a definition of convergence for conditional distributions	接下来我们想证明自举样本均值是渐近正态分布的，但为此我们需要条件分布收敛的定义
We now state a CLT for the bootstrap sample mean, with a proof given in Section 10.31	现在，我们声明引导样本均值的 CLT，并在第 10.31 节中给出证明
Theorem 10.4 Bootstrap CLT	定理 10.4 Bootstrap CLT
We next state the distributional form of the continuous mapping theorem for bootstrap distributions and the Bootstrap Delta Method	接下来我们阐述引导分布的连续映射定理的分布形式和引导 Delta 方法
Theorem 10.6 Bootstrap Delta Method:	定理10.6 Bootstrap Delta方法：
For a proof, see Exercise 10.7	证明请参见练习 10.7
We state an analog of Theorem 6.10, which presented the asymptotic distribution for general smooth functions of sample means, which covers most econometric estimators	我们对定理 6.10 进行了模拟，该定理提出了样本均值的一般平滑函数的渐近分布，涵盖了大多数计量经济学估计量
For a proof, see Exercise 10.8	证明请参见练习 10.8
For some bootstrap applications we use bootstrap estimates of variance	对于某些引导程序应用程序，我们使用引导程序方差估计
For a proof, see Exercise 10.9	证明请参见练习 10.9
Consistency of the Bootstrap Estimate of Variance	Bootstrap 方差估计的一致性
To do so it is useful to focus on a normalized version of the estimator so that the asymptotic variance is not degenerate	为此，关注估计量的归一化版本很有用，这样渐近方差就不会退化
This condition is reasonably straightforward to verify for the case of a scalar sample mean with a finite variance	对于具有有限方差的标量样本均值的情况，验证此条件相当简单
Now consider the smooth function model of Theorem 10.7	现在考虑定理 10.7 的平滑函数模型
We can establish the following result	我们可以得出以下结果
This shows that the bootstrap estimate of variance is consistent for a reasonably broad class of estimators	这表明方差的引导估计对于相当广泛的估计量类别是一致的
Trimmed Estimator of Bootstrap Variance	Bootstrap 方差的修剪估计量
In these cases it is preferred to use a trimmed estimator of bootstrap variance	在这些情况下，最好使用自举方差的修剪估计量
The trimmed bootstrap estimator of variance is	方差的修剪自举估计量为
This is shown in the following result, whose proof is presented in Section 10.31	这显示在下面的结果中，其证明在第 10.31 节中给出
This justifies bootstrap standard errors as consistent estimators for the asymptotic distribution	这证明了引导标准误差作为渐近分布的一致估计量是合理的
An important caveat is that these results critically rely on the trimmed variance estimator	一个重要的警告是，这些结果严重依赖于修剪方差估计量
Unreliability of Untrimmed Bootstrap Standard Errors	未修剪的引导标准误差的不可靠性
In the previous section we presented a trimmed bootstrap variance estimator which should be used to form bootstrap standard errors for nonlinear estimators	在上一节中，我们提出了一个修剪后的引导方差估计量，该估计量应用于形成非线性估计量的引导标准误差
Otherwise, the untrimmed estimator is potentially unreliable	否则，未修剪的估计量可能不可靠
This is an unfortunate situation, because reporting of bootstrap standard errors is commonplace in contemporary applied econometric practice, and standard applications (including Stata) use the untrimmed estimator	这是一种不幸的情况，因为引导标准误差的报告在当代应用计量经济学实践中很常见，并且标准应用程序（包括 Stata）使用未修剪的估计量
To illustrate the seriousness of the problem we use the simple wage regression (7.31) which we repeat here	为了说明问题的严重性，我们使用简单的工资回归（7.31），我们在这里重复一下
When there is an enormous discrepancy like this between the asymptotic and bootstrap standard error, and between bootstrap runs, it is a signal that there may be moment failure and consequently bootstrap standard errors are unreliable	当渐近标准误差和自举标准误差之间以及自举运行之间存在如此巨大的差异时，这是一个信号，表明可能存在瞬间故障，因此自举标准误差是不可靠的
One message from this application is that when different methods produce very different standard errors we should be cautious about trusting any single method	该应用程序发出的一条消息是，当不同的方法产生截然不同的标准误差时，我们应该谨慎信任任何单一方法
Trimmed versions are preferred, especially for nonlinear functions of estimated coefficients	修剪版本是首选，特别是对于估计系数的非线性函数
Table 10.3: Experience Level Which Maximizes Expected log Wages	表 10.3：使预期日志工资最大化的经验水平
Consistency of the Percentile Interval	百分位数区间的一致性
Recall the percentile interval (10.8)	回想一下百分位数区间 (10.8)
The assumptions (10.18)-(10.19) hold for the smooth function model of Theorem 10.7, so this result incorporates many applications	假设(10.18)-(10.19)对于定理10.7的光滑函数模型成立，因此该结果具有许多应用
The convergence holds by (10.18) and (10.20)	(10.18) 和 (10.20) 收敛成立
It is also worthwhile to investigate a finite sample justification for the percentile interval based on a heuristic analogy due to Efron	基于 Efron 的启发式类比，研究百分位区间的有限样本合理性也是值得的
Without symmetry the coverage will be incorrect	如果不对称，覆盖范围将不正确
Intuitively, we expect that when the assumptions are approximately true then the percentile interval will have approximately correct coverage	直观上，我们期望当假设近似正确时，百分位数区间将具有近似正确的覆盖范围
This argument has the following application	这个论点有以下应用
Bias-Corrected Percentile Interval	偏误校正百分位数区间
The accuracy of the percentile interval depends critically upon the assumption that the sampling distribution is approximately symmetrically distributed	百分位数间隔的准确性主要取决于采样分布近似对称分布的假设
Consequently it is difficult to expect the percentile method to generally have accurate coverage	因此，很难期望百分位数法通常具有准确的覆盖范围
To reduce the bias problem Efron (1982) introduced the bias-corrected (BC) percentile interval	为了减少偏误问题，Efron (1982) 引入了偏误校正 (BC) 百分位数区间
The construction of the BC interval is not intuitive	BC 区间的构造并不直观
Since the distribution is pivotal the result carries over to the bootstrap distribution	由于分布至关重要，因此结果会延续至引导分布
From (10.26) we deduce that	从 (10.26) 我们推出
This shows that the BC interval (10.25) has exact coverage under the assumption (10.21)	这表明 BC 区间 (10.25) 在假设 (10.21) 下具有精确的覆盖范围
An important property of the BC percentile interval is that it is transformation-respecting (like the percentile interval)	BC 百分位数区间的一个重要特征是它尊重变换（与百分位数区间一样）
The bootstrap BC percentile intervals for the four estimators are reported in Table 13.2	表 13.2 报告了四个估计量的 Bootstrap BC 百分位数区间
In Stata, BC percentile confidence intervals can be obtained by using the command estat bootstrap after an estimation command which calculates standard errors via the bootstrap	在 Stata 中，BC 百分位数置信区间可以通过在通过 bootstrap 计算标准误差的估计命令之后使用命令 estat bootstrap 来获得
A further improvement on the BC interval was made by Efron (1987) to account for the skewness in the sampling distribution, which can be modeled by specifying that the variance of the estimator depends on the parameter	Efron (1987) 对 BC 区间进行了进一步改进，以考虑抽样分布中的偏度，可以通过指定估计量的方差取决于参数来建模
The construction is a generalization of that for the BC intervals	该构造是 BC 区间构造的概括
From (10.29) we deduce that	从 (10.29) 我们推出
Percentile-t Interval	百分位数t区间
In many cases we can obtain improvement in accuracy by bootstrapping a studentized statistic such as a t-ratio	在许多情况下，我们可以通过引导学生化统计数据（例如 t 比）来提高准确性
The bootstrap t-ratio is	自举 t 比为
The bootstrap percentile-t confidence interval is defined as	自举百分位数-t 置信区间定义为
The form may appear unusual when compared with the percentile interval	与百分位间隔相比，该形式可能显得不寻常
As we show below, this construction is important for the interval to have correct coverage when the distribution is not symmetric	如下所示，当分布不对称时，这种结构对于区间具有正确的覆盖范围非常重要
The percentile-t has the following advantages	百分位数-t 具有以下优点
Third, the percentile-t intervals correspond to the set of parameter values "not rejected" by one-sided t-tests using bootstrap critical values (bootstrap tests are presented in Section 10.21)	第三，百分位数 t 区间对应于使用引导临界值（引导检验在第 10.21 节中介绍）的单侧 t 检验“未拒绝”的一组参数值
The percentile-t interval has the following disadvantages	百分位数-t 区间具有以下缺点
It is typical to calculate percentile-t intervals with t-ratios constructed with conventional asymptotic standard errors	通常使用传统渐近标准误差构建的 t 比率来计算百分位数 t 区间
It will not possess the higher-order accuracy properties of the following section, but it will satisfy the conditions for first-order validity	它不会具有以下部分的高阶精度特征，但它将满足一阶有效性的条件
Furthermore, percentile-t intervals can be constructed using bootstrap standard errors	此外，可以使用 bootstrap 标准误差构建百分位数 t 区间
We now describe the distribution theory for first-order validity of the percentile-t bootstrap	我们现在描述百分位-t bootstrap 的一阶有效性的分布理论
This motivates considering the broader situation where the sample and bootstrap t-ratios have the same asymptotic distribution but not necessarily normal	这促使我们考虑更广泛的情况，即样本和自举 t 比率具有相同的渐近分布，但不一定是正态分布
Thus the percentile-t is asymptotically valid	因此百分位数-t 是渐近有效的
The bootstrap percentile-t intervals for the four estimators are reported in Table 13.2	表 13.2 报告了四个估计量的 bootstrap 百分位数 t 区间
Percentile-t Asymptotic Refinement	百分位-t渐近细化
This section uses the theory of Edgeworth and Cornish-Fisher expansions introduced in Chapter 9.8-9.10 of Probability and Statistics for Economists	本节使用《经济学家的概率与统计》第 9.8-9.10 章中介绍的埃奇沃斯和康沃尔-费舍尔展开理论
If you are interested in the following refinement theory it is advisable to start by reading these sections of Probability and Statistics for Economists	如果你对以下精化理论感兴趣，建议你首先阅读《经济学家的概率与统计》的这些部分
The percentile-t interval can be viewed as the intersection of two one-sided confidence intervals	百分位数-t 区间可以视为两个单侧置信区间的交集
We now show that the percentile-t interval has improved accuracy	我们现在表明百分位数-t 区间提高了准确性
Thus the coverage of the percentile-t interval is	因此百分位数-t 区间的覆盖范围是
This is an improved rate of convergence relative to the one-sided asymptotic confidence interval	相对于单边渐进置信区间，这是一种改进的收敛速度
The following definition of the accuracy of a confidence interval is useful	以下置信区间准确性的定义很有用
Examining our results we find that one-sided asymptotic confidence intervals are first-order accurate but percentile-t intervals are second-order accurate	检查我们的结果，我们发现单边渐近置信区间是一阶准确的，但百分位数 t 区间是二阶准确的
Here, we have shown that the percentile-t interval achieves an asymptotic refinement	在这里，我们证明了百分位数-t 区间实现了渐近细化
This also has the practical finite-sample implication that the accuracy of the percentile-t interval in practice depends on the accuracy of the standard errors used to construct the t-ratio	这也具有实际的有限样本含义，即实践中百分位数 t 区间的准确性取决于用于构建 t 比率的标准误差的准确性
We do not go through the details, but normal-approximation bootstrap intervals, percentile bootstrap intervals, and bias-corrected percentile bootstrap intervals are all first-order accurate and do not achieve an asymptotic refinement	我们不详细介绍，但正态逼近自举区间、百分位自举区间和偏误校正百分位自举区间都是一阶精确的，并且没有实现渐近细化
See Section 3.10.4 of Hall (1992)	参见 Hall (1992) 第 3.10.4 节
Bootstrap Hypothesis Tests	自举假设检验
This allows the bootstrap to incorporate the randomness in standard error estimation	这允许引导程序将随机性纳入标准误差估计中
It is generally better to report p-values rather than critical values	通常报告 p 值比报告临界值更好
the percentage of bootstrap t-statistics that are larger than the observed t-statistic	大于观察到的 t 统计量的 bootstrap t 统计量的百分比
If desired, the bootstrap test can be implemented as a one-sided test	如果需要，引导检验可以作为单方面检验来实现
Bootstrap tests can also be conducted with other statistics	引导检验也可以与其他统计数据一起进行
In the smooth function model the t-test (with correct standard errors) has the following performance	在平滑函数模型中，t 检验（具有正确的标准误差）具有以下性能
This shows that the bootstrap test achieves a refinement relative to the asymptotic test	这表明自举检验相对于渐近检验实现了细化
The reasoning is as follows	理由如下
Wald-Type Bootstrap Tests	Wald 型引导检验
The asymptotic performance of the Wald test mimics that of the t-test	Wald 检验的渐近性能模仿 t 检验的渐近性能
and thus achieves a refinement relative to the asymptotic Wald test	从而实现了相对于渐近 Wald 检验的改进
The test will not achieve an asymptotic refinement but provides a simple method to test hypotheses when covariance matrix estimates are not available	该检验不会实现渐近细化，但提供了一种简单的方法来在协方差矩阵估计不可用时检验假设
Criterion-Based Bootstrap Tests	基于标准的引导检验
A criterion-based estimator takes the form	基于标准的估计量采用以下形式
A bootstrap test uses the bootstrap algorithm to calculate the critical value	引导检验使用引导算法来计算临界值
Parametric Bootstrap	参数引导程序
Throughout this chapter we have described the most popular form of the bootstrap known as the nonparametric bootstrap	在本章中，我们描述了最流行的引导程序形式，称为非参数引导程序
This is appropriate when there is a full parametric model for the distribution as in likelihood estimation	当存在完整的分布参数模型（如似然估计）时，这是合适的
Everything which has been discussed in the chapter can be applied using this bootstrap algorithm	本章中讨论的所有内容都可以使用此引导算法来应用
The primary advantage of the parametric bootstrap (relative to the nonparametric bootstrap) is that it will be more accurate when the parametric model is correct	参数引导程序（相对于非参数引导程序）的主要优点是，当参数模型正确时，它会更准确
The primary disadvantage of the parametric bootstrap is that it can be inaccurate when the parametric model is incorrect	参数引导程序的主要缺点是当参数模型不正确时它可能不准确
How Many Bootstrap Replications?	有多少引导复制？
How many bootstrap replications should be used? There is no universally correct answer as there is a trade-off between accuracy and computation cost	应使用多少个引导复制？没有普遍正确的答案，因为准确性和计算成本之间需要权衡
Improved accuracy can be obtained but only at a higher computational cost	可以获得更高的准确性，但需要更高的计算成本
In most empirical research, most calculations are quick and investigatory, not requiring full accuracy	在大多数实证研究中，大多数计算都是快速且调查性的，不需要完全准确
Setting the Bootstrap Seed	设置引导种子
Computers do not generate true random numbers but rather pseudo-random numbers generated by a deterministic algorithm	计算机不会生成真正的随机数，而是由确定性算法生成的伪随机数
The algorithms generate sequences which are indistinguishable from random sequences so this is not a worry for bootstrap applications	该算法生成的序列与随机序列无法区分，因此引导应用程序不必担心这一点
The methods, however, necessarily require a starting value known as a "seed"	然而，这些方法必然需要称为“种子”的起始值
"do" file) twice sequentially without restarting the package, the seed is not reset so a different set of pseudo-random numbers will be generated and the results from the two runs will be different	如果你连续运行引导程序（例如“do”文件）两次而不重新启动程序包，则种子不会重置，因此将生成一组不同的伪随机数，并且两次运行的结果将不同
The R package has a different implementation	R 包有不同的实现
Therefore if you run a bootstrap program in R, exit, restart, and rerun, you will obtain a different set of random draws and therefore a different bootstrap result	因此，如果你在 R 中运行引导程序，退出，重新启动，然后重新运行，你将获得一组不同的随机抽取，从而获得不同的引导结果
Packages allow users to set their own seed. (In Stata, the command is set seed \#	包允许用户设置自己的种子
If this is the case, the results of a bootstrap calculation (standard error or test) will be identical across computer runs	如果是这种情况，引导计算的结果（标准误差或检验）在计算机运行中将是相同的
The fact that the bootstrap results can be fixed by setting the seed in the replication file has motivated many researchers to follow this choice	事实上，可以通过在复现文件中设置种子来修复引导结果，这一事实促使许多研究人员遵循这一选择
They set the seed at the start of the replication file so that repeated executions result in the same numerical findings	他们将种子设置在复现文件的开头，以便重复执行会产生相同的数值结果
Fixing seeds, however, should be done cautiously	然而，固定种子应谨慎进行
Stata does not have this option	Stata没有这个选项
These considerations lead to a recommended hybrid approach	这些考虑因素导致了推荐的混合方法
Bootstrap Regression	引导回归
The bootstrap can be used to calculate standard errors and confidence intervals for smooth functions of the coefficient estimates	自举程序可用于计算系数估计的平滑函数的标准误差和置信区间
This is often called the pairs bootstrap	这通常称为配对引导程序
Given this bootstrap sample, we calculate the regression estimator	给定这个引导样本，我们计算回归估计量
The bootstrap standard errors are the standard deviations across the draws and confidence intervals are constructed from the empirical quantiles across the draws	引导标准误差是各次抽签的标准误差，置信区间是根据各次抽签的经验分位数构建的
The bootstrap observations satisfy the projection equation	自举观测值满足投影方程
This is because each bootstrap pair corresponds to an actual observation	这是因为每个引导对都对应于一个实际观测
Bootstrap Regression Asymptotic Theory	自举回归渐近理论
Since the bootstrap observations satisfy the model (10.33), we see by standard calculations that	由于自举观测值满足模型 (10.33)，我们通过标准计算看到：
and by the bootstrap CLT	并通过引导 CLT
Combining with the bootstrap CMT and delta method we establish the asymptotic distribution of the bootstrap regression estimator	结合bootstrap CMT和delta方法我们建立了bootstrap回归估计量的渐近分布
This means that we should be cautious about interpreting reported bootstrap standard errors especially for nonlinear functions such as ratios	这意味着我们应该谨慎解释报告的引导标准误差，尤其是对于比率等非线性函数
Wild Bootstrap	狂野引导
Take the linear regression model	采取线性回归模型
What is special about this model is the conditional mean restriction	该模型的特殊之处在于条件均值约束
To improve precision it seems reasonable to impose the conditional mean restriction on the bootstrap distribution	为了提高精度，对引导分布施加条件均值约束似乎是合理的
A method which imposes the conditional mean restriction while allowing general heteroskedasticity is the wild bootstrap	一种施加条件均值约束同时允许一般异方差的方法是野引导法
Thus the wild bootstrap replicates the appropriate first and second moments of the distribution	因此，狂野引导复制了分布的适当的一阶矩和二阶矩
Since the wild bootstrap matches the first three moments, the percentile-t interval and one-sided t-tests can be shown to achieve asymptotic refinements	由于狂野引导与前三个矩匹配，因此可以证明百分位数 t 区间和单侧 t 检验可以实现渐近细化
Limited simulation evidence for one-sided t-tests presented in Davidson and Flachaire (2008) suggests that the Rademacher distribution (used with the restricted wild bootstrap) has better performance and is their recommendation	Davidson 和 Flachaire (2008) 中提出的单边 t 检验的有限模拟证据表明，Rademacher 分布（与受限野生引导程序一起使用）具有更好的性能，并且是他们的推荐
For hypothesis testing improved precision can be obtained by the restricted wild bootstrap	对于假设检验，可以通过约束野生引导来获得更高的精度
Thus bootstrap tests are constructed the same as for the parametric bootstrap using a restricted parameter estimator	因此，引导程序检验的构造与使用受限参数估计量的参数引导程序相同
Bootstrap for Clustered Observations	群组观测的引导程序
Bootstrap methods can also be applied in to clustered samples though the methodological literature is relatively thin	尽管方法论文献相对较少，但 Bootstrap 方法也可以应用于群组样本
Here we review methods discussed in Cameron, Gelbach and Miller (2008)	在这里，我们回顾一下 Cameron、Gelbach 和 Miller (2008) 中讨论的方法
The wild cluster bootstrap fixes the clusters and regressors, and generates the bootstrap observa-	野生群组引导修复群组和自变量，并生成引导观测值
For hypothesis testing, Cameron, Gelbach and Miller (2008) recommend the restricted wild cluster bootstrap	对于假设检验，Cameron、Gelbach 和 Miller (2008) 建议使用受限野生群组引导程序
p-values are then calculated conventionally and used to assess the significance of the test statistic	然后按常规计算 p 值并用于评估检验统计量的显著性
There are several reasons why conventional asymptotic approximations may work poorly with clustered observations	传统的渐近近似对于群组观测效果不佳的原因有多种
If the number of treated clusters is small this is equivalent to estimation with a highly sparse dummy variable design in which case cluster-robust covariance matrix estimation can be unreliable	如果处理的群组的数量很小，这相当于使用高度稀疏的虚拟变量设计进行估计，在这种情况下，群组稳健的协方差矩阵估计可能不可靠
In such cases inference should proceed cautiously	在这种情况下，应该谨慎进行推断
In this example the asymptotic, jackknife, and cluster bootstrap standard errors are identical, which reflects the good balance of this particular regression design	在此示例中，渐近、折刀和群组引导标准误差是相同的，这反映了该特定回归设计的良好平衡
Table 10.4: Comparison of Methods for Estimate of Effect of Tracking	表 10.4：跟踪效果估计方法的比较
Some of the asymptotic results are facilitated by the following convergence result	以下收敛结果促进了一些渐近结果
This argument can be extended to vector-valued means and estimates	这个论点可以扩展到向量值均值和估计
The vector case follows by element-by-element expansion	向量情况遵循逐元素扩展
Now take the second term in (10.37)	现在取 (10.37) 中的第二项
Multivariate Regression	多元回归
Multivariate regression is a system of regression equations	多元回归是一个回归方程组
Multivariate regression is used as reduced form models for instrumental variable estimation (Chaper 12), vector autoregressions (Chapter 15), demand systems (demand for multiple goods), and other contexts	多元回归用作工具变量估计（第 12 章）、向量自回归（第 15 章）、需求系统（多种商品的需求）和其他背景的简化形式模型
Multivariate regression is also called by the name systems of regression equations	多元回归也称为回归方程系统
Closely related is the method of Seemingly Unrelated Regressions (SUR) introduced in Section 11.7	密切相关的是第 11.7 节中介绍的看似无关回归 (SUR) 方法
Most of the tools of single equation regression generalize to multivariate regression	大多数单方程回归工具都可以推广到多元回归
A major difference is a new set of notation to handle matrix estimators	主要区别是处理矩阵估计量的一组新符号
Regression Systems	回归系统
Another convenient implication of common regressors is that we have the simplification	常见自变量的另一个方便的含义是我们可以简化
The equations (11.1) can be estimated by least squares	方程(11.1)可以通过最小二乘法来估计
We can alternatively write this estimator using the systems notation	我们也可以使用系统符号来编写这个估计量
To see this, observe that	要看到这一点，请查看
In the case of common regressors, the least squares coefficients can be written as	对于常见自变量，最小二乘系数可以写为
In Stata, multivariate regression can be implemented using the mvreg command	在Stata中，可以使用mvreg命令实现多元回归
Expectation and Variance of Systems Least Squares	系统最小二乘法的期望和方差
We can center the estimator as	我们可以将估计量集中为
Consequently, systems least squares is unbiased under correct specification	因此，系统最小二乘法在正确的设定下是无偏的
Also, by independence across observations,	此外，通过观测的独立性，
If the errors are conditionally homoskedastic	如果误差是有条件同方差的
then the covariance matrix simplifies to	那么协方差矩阵简化为
If both simplifications (common regressors and conditional homoskedasticity) hold then we have the considerable simplication	如果两种简化（常见自变量和条件同方差）都成立，那么我们就有相当大的简化
For an asymptotic distribution it is sufficient to consider the equation-by-equation projection model in which case	对于渐近分布，考虑逐个方程的投影模型就足够了，在这种情况下
Second, consider the asymptotic distribution	其次，考虑渐近分布
Applied to the centered and normalized estimator we obtain the asymptotic distribution	应用于中心化和标准化的估计量，我们得到渐近分布
For a proof, see Exercise 11.4	证明请参见练习 11.4
If both the regressors are common and the errors are conditionally homoskedastic (11.8) then we have the simplification	如果两个自变量都是常见的并且误差是有条件同方差的 (11.8)，那么我们可以进行简化
For a proof, see Exercise 11.7	证明请参见练习 11.7
We can thereby construct standard errors, confidence intervals, and hypothesis tests	因此，我们可以构建标准误差、置信区间和假设检验
Covariance Matrix Estimation	协方差矩阵估计
Under conditional homoskedasticity (11.8) an appropriate estimator is	在条件同方差 (11.8) 下，适当的估计量是
When the regressors are common then these estimators equal	当自变量很常见时，这些估计量就等于
For a proof, see Exercise 11.8	证明请参见练习 11.8
Seemingly Unrelated Regression	看似无关的回归
Consider the systems regression model under the conditional expectation and homoskedasticity assumptions	考虑条件期望和同方差假设下的系统回归模型
Since the errors are correlated across equations we consider estimation by Generalized Least Squares (GLS)	由于误差在方程之间是相关的，我们考虑通过广义最小二乘法 (GLS) 进行估计
This is the Seemingly Unrelated Regression (SUR) estimator as introduced by Zellner (1962)	这是 Zellner (1962) 引入的看似无关回归 (SUR) 估计量
This can be iterated until convergence	这可以迭代直到收敛
Under conditional homoskedasticity (11.8) we can derive its asymptotic distribution	在条件同方差（11.8）下我们可以推导出它的渐近分布
For a proof, see Exercise 11.11	证明请参见练习 11.11
Under these assumptions, SUR is more efficient than least squares	在这些假设下，SUR 比最小二乘法更有效
For a proof, see Exercise 11.12	证明请参见练习 11.12
For a proof, see Exercise 11.13	证明请参见练习 11.13
In Stata, the seemingly unrelated regressions estimator is implemented using the sureg command	在Stata中，看似无关的回归估计量是使用sureg命令实现的
Equivalence of SUR and Least Squares	SUR 和最小二乘法的等价
A model where regressors are not common across equations is nested within a model with the union of all regressors included in all equations	自变量在方程中不常见的模型嵌套在模型中，并且所有方程中都包含所有自变量的并集
Thus the above result shows that the SUR estimator reduces to least squares in the absence of restrictions, but SUR can differ from least squares otherwise	因此，上述结果表明，在没有约束的情况下，SUR 估计量可简化为最小二乘，但在其他情况下，SUR 可能与最小二乘不同
Maximum Likelihood Estimator	极大似然估计量
Take the linear model under the assumption that the error is independent of the regressors and multivariate normally distributed	假设误差独立于回归变量且呈多元正态分布，采用线性模型
In this case we can consider the maximum likelihood estimator (MLE) of the coefficients	在这种情况下，我们可以考虑系数的极大似然估计（MLE）
The log-likelihood function for the sample is	样本的对数似然函数为
Notice that each equation refers to the other	请注意，每个方程都引用另一个方程
Thus the iterated SUR estimator is identical to MLE under normality	因此，迭代 SUR 估计量与正态状态下的 MLE 相同
Recall that the SUR estimator simplifies to OLS when the regressors are common across equations	回想一下，当自变量在方程中通用时，SUR 估计量会简化为 OLS
In many multivariate regression applications it is desired to impose restrictions on the coefficients	在许多多元回归应用中，需要对系数施加约束
Estimation subject to restrictions can be done by minimum distance, maximum likelihood, or the generalized method of moments	受到约束的估计可以通过最小距离、极大似然或广义矩法来完成
Minimum distance is a straightforward application of the methods of Chapter 8 to the estimators presented in this chapter, as such methods apply to any asymptotically normal estimator	最小距离是第 8 章方法对本章介绍的估计量的直接应用，因为此类方法适用于任何渐近正态估计量
Imposing restrictions on maximum likelihood is also straightforward	对极大似然施加约束也很简单
One important example is explored in detail in the following section	下一节将详细探讨一个重要的示例
Generalized method of moments estimation of multivariate regression subject to restrictions will be explored in Section 13.18	受约束的多元回归矩估计的广义方法将在 13.18 节中探讨
This is a particularly simple and straightforward way to estimate restricted multivariate regression models and is our generally preferred approach	这是估计受限多元回归模型的一种特别简单直接的方法，也是我们通常首选的方法
Reduced Rank Regression	降阶回归
One context where systems estimation is important is when it is desired to impose or test restrictions across equations	系统估计很重要的一种情况是当需要对方程施加或检验约束时
The model was originally proposed by Anderson (1951) and extended by Johansen (1995)	该模型最初由 Anderson (1951) 提出，并由 Johansen (1995) 扩展
This turns out to be algebraically cumbersome	事实证明，这在代数上是很麻烦的
Johansen (1995) instead proposed the following straightforward concentration method	Johansen (1995) 相反提出了以下简单的浓缩方法
We now describe these steps in detail	我们现在详细描述这些步骤
The third equality uses Theorem A.1.8	第三个等式使用定理A.1.8
An R package for reduced rank regression is "RRR"	用于降阶回归的 R 包是“RRR”
I am unaware of a Stata command	我不知道 Stata 命令
Principal Component Analysis	主成分分析
Principal component analysis (PCA) addresses this issue by ordering linear combinations by their contribution to variance	主成分分析 (PCA) 通过按线性组合对方差的贡献对线性组合进行排序来解决此问题
Another way to see the PCA construction is as follows	查看 PCA 构造的另一种方式如下
The sample principal components are obtained by replacing the unknowns by sample estimators	样本主成分是通过用样本估计量替换未知数来获得的
To illustrate we use the Duflo, Dupas, and Kremer (2011) dataset	为了说明这一点，我们使用 Duflo、Dupas 和 Kremer (2011) 数据集
Table 11.2: Principal Component Weight Vectors	表 11.2：主成分权重向量
principal component is similar to a simple average of the seven test scores	主成分类似于七个检验分数的简单平均值
In Stata, principal components analysis can be implemented with the pca command	在Stata中，主成分分析可以通过pca命令实现
The R commands by default do not normalize the observations	默认情况下，R 命令不会对观测值进行归一化
Factor Models	因子模型
Closely related to principal components are factor models	与主成分密切相关的是因子模型
In the next few sections we focus on methods which are popular among economists	在接下来的几节中，我们将重点讨论经济学家中流行的方法
The former is the portion of the variance which is explained by the factor model and the latter is the unexplained portion of the variance	前者是方差中由因子模型解释的部分，后者是方差中无法解释的部分
A detailed description and analysis can be found in Anderson (2003, Chapter 14)	详细的描述和分析可以在Anderson (2003, Chapter 14) 中找到
The form of the log-likelihood is intriguing	对数似然的形式很有趣
It is therefore not reliant on the normality assumption	因此，它不依赖于正态性假设
Thus based on estimation precision this is our recommended choice	因此，根据估计精度，这是我们推荐的选择
Consequently it is unwise to attribute meaning to the individual factor loading estimates	因此，将意义赋予单个因子载荷估计是不明智的
Approximate Factor Models	近似因子模型
In this context the Gaussian MLE of the previous section is misspecified	在这种情况下，上一节的高斯 MLE 被错误指定
Chamberlain and Rothschild (and the literature which followed) proposed estimation by least squares	张伯伦和罗斯柴尔德（以及随后的文献）提出了最小二乘估计
We first describe the estimation method	我们首先描述估计方法
We use a concentration argument to find the solution	我们使用浓度论证来找到解决方案
which is the desired normalization	这是所需的标准化
We have proven the following result	我们证明了以下结果
This is computationally stable even in high dimensions	即使在高维度下，这在计算上也是稳定的
Consequently many authors call this estimator the "principalcomponent method"	因此，许多作者将此估计量称为“主成分方法”
This inconsistency should not be viewed as surprising	这种不一致不应被视为令人惊讶
Since the number of estimated pararameters is proportional to sample size we should not expect estimator consistency	由于估计参数的数量与样本大小成正比，我们不应该期望估计量的一致性
To make this precise we add the following assumption	为了使这一点更加精确，我们添加以下假设
Assumption 11.1.1 bounds the covariance matrix of the idiosyncratic errors	假设 11.1.1 约束了特殊误差的协方差矩阵
Conceptually, Assumption 11.1.2 requires additional variables to add information about the unobserved factors	从概念上讲，假设 11.1.2 需要额外的变量来添加有关不可观察因素的信息
The conditions and proofs are technical so are not reviewed here	条件和证明是技术性的，因此这里不进行讨论
Now consider the estimated factors	现在考虑估计因素
where for simplicity we ignore estimation error	为简单起见，我们忽略估计误差
Factor Models with Additional Regressors	具有附加自变量的因子模型
Estimation iterates between these two steps	估计在这两个步骤之间迭代
Then apply the above two steps and iterate under convergence	然后应用上述两个步骤并在收敛下迭代
Factor-Augmented Regression	因子增强回归
In the previous sections we considered factor models which decompose a set of variables into common factors and idiosyncratic errors	在前面的部分中，我们考虑了将一组变量分解为公共因子和特殊误差的因子模型
In this section we consider factor-augmented regression, which uses such common factors as regressors for dimension reduction	在本节中，我们考虑因子增强回归，它使用常见因子作为自变量来降维
Now let's investigate its asymptotic behavior	现在让我们研究它的渐近行为
We find that the right-hand-side of (11.26) equals	我们发现 (11.26) 的右边等于
In Stata, estimation takes the following steps	在 Stata 中，估计采取以下步骤
Third, the factors are treated as regressors in an estimated regression	第三，这些因素在估计回归中被视为自变量
Multivariate Normal	多元正态
Some interesting sampling results hold for matrix-valued normal variates	一些有趣的采样结果适用于矩阵值正态变量
The Wishart is a multivariate generalization of the chi-square	Wishart 是卡方的多元推广
The Wishart arises as the exact distribution of a sample covariance matrix in the normal sampling model	Wishart 是正态抽样模型中样本协方差矩阵的精确分布
The following manipulation is useful	以下操作很有用
This establishes the stated result	这确定了所陈述的结果
Since the two chi-square variables are independent, this is the stated result	由于两个卡方变量是独立的，因此这是规定的结果
Instrumental Variables	工具变量
The concepts of endogeneity and instrumental variable are fundamental to econometrics, and mark a substantial departure from other branches of statistics	内生性和工具变量的概念是计量经济学的基础，并且标志着与统计学其他分支的重大区别
The ideas of endogeneity arise naturally in economics from models of simultaneous equations, most notably the classic supply/demand model of price determination	内生性的思想在经济学中自然地从联立方程模型中产生，最著名的是价格决定的经典供需模型
The identification problem in simultaneous equations dates back to Philip Wright (1915) and Working (1927)	联立方程中的辨识问题可以追溯到 Philip Wright (1915) 和 Work (1927)
An excellent review of the history of instrumental variables is Stock and Trebbi (2003)	Stock 和 Trebbi (2003) 对工具变量的历史进行了精彩的回顾
Overview	概述
We say that there is endogeneity in the linear model	我们说线性模型存在内生性
This is a core problem in econometrics and largely differentiates the field from statistics	这是计量经济学的核心问题，并且在很大程度上将该领域与统计学区分开来
Endogeneity cannot happen if the coefficient is defined by linear projection	如果系数由线性投影定义，则不会发生内生性
Thus endogeneity requires that the coefficient be defined differently than projection	因此，内生性要求系数的定义与投影不同
We will present three examples in the following section	我们将在下一节中展示三个示例
Endogeneity implies that the least squares estimator is inconsistent for the structural parameter	内生性意味着最小二乘估计量对于结构参数是不一致的
sampling, least squares is consistent for the projection coefficient	事实上，根据 i.i.d.采样，最小二乘对于投影系数是一致的
The inconsistency of least squares is typically referred to as endogeneity bias or estimation bias due to endogeneity	最小二乘法的不一致通常被称为内生性偏误或内生性导致的估计偏误
This is an imperfect label as the actual issue is inconsistency, not bias	这是一个不完美的标签，因为实际问题是不一致，而不是偏见
We discuss those in later sections	我们将在后面的部分中讨论这些内容
Examples	例子
The concept of endogeneity may be easiest to understand by example	通过例子可能最容易理解内生性的概念
Example: Measurement error in the regressor	示例：自变量中的测量误差
This is an example of a latent variable model, where "latent" refers to an unobserved structural variable	这是潜在变量模型的示例，其中“潜在”指的是未观察到的结构变量
We can calculate the form of the projection coefficient (which is consistently estimated by least squares)	我们可以计算出投影系数的形式（一致地通过最小二乘估计）
This is called measurement error bias or attenuation bias	这称为测量误差偏误或衰减偏误
To illustrate, Figure 12.1(a) displays the impact of measurement error on the regression line	为了说明这一点，图 12.1(a) 显示了测量误差对回归线的影响
This is the attenuation bias due to measurement error	这是由于测量误差引起的衰减偏误
Figure 12.1: Examples of Endogeneity	图 12.1：内生性示例
Generally, when both the dependent variable and a regressor are simultaneously determined then the regressor should be treated as endogenous	一般来说，当同时确定因变量和回归变量时，则应将回归变量视为内生变量
This is endogeneity bias due to simultaneity	这是由于同时性而产生的内生性偏误
Example: Choice Variables as Regressors	示例：选择变量作为自变量
Thus least squares (which is estimating the projection coefficient) will tend to over-estimate the causal effect of education on wages	因此，最小二乘法（估计投影系数）往往会高估教育对工资的因果影响
Generally, when both the dependent variable and a regressor are choice variables made by the same agent, the variables should be treated as endogenous	一般来说，当因变量和回归变量都是同一主体做出的选择变量时，这些变量应被视为内生变量
The plotted regression line has a larger slope, as it adds the endogeneity bias due to the fact that education is a choice variable	绘制的回归线具有较大的斜率，因为由于教育是一个选择变量，它增加了内生性偏误
Endogenous Regressors	内生回归因子
We have defined endogeneity as the context where a regressor is correlated with the equation error	我们将内生性定义为自变量与方程误差相关的背景
In most applications only a subset of the regressors are treated as endogenous	在大多数应用中，只有一部分自变量被视为内生的
An alternative notation is as follows	另一种表示法如下
This is especially useful so that the notation clarifies which variables are endogenous and which exogenous	这特别有用，因为符号可以阐明哪些变量是内生的，哪些是外生的
The assumptions regarding the regressors and regression error are	关于自变量和回归误差的假设是
Instruments	仪器
One type of information which is commonly used in economic applications are what we call instruments	经济应用中常用的一类信息就是我们所说的工具
There are three components to the definition as given	给出的定义包含三个组成部分
Let's take the three examples given above	我们以上面给出的三个例子为例
Measurement error in the regressor	自变量中的测量误差
Variables which affect supply but not demand are typically related to production costs	影响供给但不影响需求的变量通常与生产成本有关
An appropriate instrument for price in a supply equation is a variable which influences demand but not supply	供给方程中合适的价格工具是影响需求但不影响供给的变量
Such a variable affects the equilibrium values of price and quantity but only affects price through quantity	这种变量影响价格和数量的均衡值，但仅通过数量影响价格
We will discuss an example in the next section	我们将在下一节中讨论一个例子
Example: College Proximity	示例：大学邻近度
In a influential paper David Card (1995) suggested if a potential student lives close to a college this reduces the cost of attendence and thereby raises the likelihood that the student will attend college	David Card（1995）在一篇有影响力的论文中提出，如果潜在学生住在大学附近，就可以降低就读成本，从而提高学生上大学的可能性
We use the simplest model reported in Card's paper to illustrate the concepts of instrumental variables throughout the chapter	我们使用卡德论文中报告的最简单的模型来说明本章中工具变量的概念
Card used data from the National Longitudinal Survey of Young Men (NLSYM) for 1976	卡德使用了 1976 年全国青年纵向调查 (NLSYM) 的数据
Table 12.1: Instrumental Variable Wage Regressions	表 12.1：工具变量工资回归
As discussed in the previous sections it is reasonable to view years of education as a choice made by an individual and thus is likely endogenous for the structural return to education	正如前面几节所讨论的，将受教育年限视为个体做出的选择是合理的，因此教育的结构性回报可能是内生的
However, the sign of the bias is uncertain because there are multiple regressors and there are other potential sources of endogeneity	然而，偏误的符号是不确定的，因为存在多个回归变量并且存在其他潜在的内生性来源
To instrument for the endogeneity of education, Card suggested that a reasonable instrument is a dummy variable indicating if the individual grew up near a college	为了衡量教育的内生性，卡德建议合理的工具是一个虚拟变量，表明个体是否在大学附近长大
college Grew up in same county as a 4-year college	大学 在同一县长大，读四年制大学
public Grew up in same county as a 4-year public college	公立 在同一县长大，就读 4 年制公立大学
private Grew up in same county as a 4-year private college	私立 在同一县长大，就读四年制私立大学
Reduced Form	简化形式
This is a multivariate regression as introduced in Chapter 11	这是第 11 章中介绍的多元回归
The projection coefficient (12.11) is well defined and unique under (12.6)	投影系数 (12.11) 在 (12.6) 下定义明确且唯一
Together, the reduced form equations for the system are	总而言之，系统的简化形式方程为
The reduced form equations are projections so the coefficients may be estimated by least squares (see Chapter 11)	简化形式的方程是投影，因此可以通过最小二乘法来估计系数（参见第 11 章）
A parameter is identified if it is a unique function of the probability distribution of the observables	如果参数是可观测量概率分布的唯一函数，则该参数被识别
If (12.22) fails then (12.16) has fewer equations than coefficients so there is not a unique solution	如果 (12.22) 失败，则 (12.16) 的方程数少于系数，因此不存在唯一解
which was listed in (12.7) as a condition of Definition 12.1. (Indeed, this is why it was listed as part of the definition.) We can also see that (12.22) and (12.23) are equivalent ways of expressing the same requirement	作为定义 12.1 的条件列在 (12.7) 中
The condition (12.22)-(12.23) is called the relevance condition	条件(12.22)-(12.23)称为相关性条件
Instrumental Variables Estimator	工具变量估计量
We see that this equals the IV estimator (12.24)	我们看到这等于 IV 估计量 (12.24)
Thus the ILS and IV estimators are identical	因此 ILS 和 IV 估计量是相同的
To illustrate IV regression we estimate the reduced form equations, treating education as endogenous and using college as an instrumental variable	为了说明 IV 回归，我们估计了简化形式的方程，将教育视为内生的，并使用大学作为工具变量
Of particular interest is the equation for the endogenous regressor education, and the coefficients for the excluded instruments - in this case college	特别令人感兴趣的是内生回归教育的方程，以及排除工具（在本例中为大学）的系数
This seems to be a reasonable magnitude	这似乎是一个合理的幅度
Card (1995) also points out that if education is endogenous then so is our measure of experience as it is calculated by subtracting education from age	卡德（1995）还指出，如果教育是内生的，那么我们对经验的衡量也是内生的，因为它是通过年龄减去教育程度来计算的
Indeed, this is the correct approach	确实，这才是正确的做法
Following this recommendation we now have three endogenous regressors and three instruments	根据这一建议，我们现在有了三个内生自变量和三个工具
Hence Assumption (12.22) is not violated	因此不违反假设（12.22）
The estimate of the returns to schooling is not affected by this change in the instrument set, but the estimated return to experience profile flattens (the quadratic effect diminishes)	学校教育回报的估计不受工具集变化的影响，但经验回报的估计曲线趋于平缓（二次效应减弱）
The IV estimator may be calculated in Stata using the ivregress 2 sls command	IV 估计量可以在 Stata 中使用 ivregress 2 sls 命令计算
Demeaned Representation	离差代表
The orthogonality (12.25) implies the two-equation system	正交性 (12.25) 意味着二元方程组
Thus the demeaning equations for least squares carry over to the IV estimator	因此，最小二乘的贬义方程会延续到 IV 估计量
Wald Estimator	瓦尔德估计量
In many cases including the Card proximity example the excluded instrument is a binary (dummy) variable	在许多情况下，包括卡邻近示例，排除的工具是二进制（虚拟）变量
Subtracting and dividing we obtain an expression for the slope coefficient	减去并除以得到斜率系数的表达式
This is the "Wald estimator" of Wald (1940)	这就是 Wald (1940) 的“Wald 估计量”
Equation (12.28) shows that the slope coefficient can be estimated by the ratio of differences in means	方程（12.28）表明斜率系数可以通过均值差之比来估计
as defined in (12.28)	如（12.28）中所定义
Thus the Wald estimator equals the IV estimator	因此 Wald 估计量等于 IV 估计量
We can illustrate using the Card proximity example	我们可以使用卡邻近示例进行说明
Two-Stage Least Squares	两阶段最小二乘法
This is called the two-stage-least squares (2SLS) estimator	这称为两阶段最小二乘 (2SLS) 估计量
It was originally proposed by Theil (1953) and Basmann (1957) and is a standard estimator for linear equations with instruments	它最初由 Theil (1953) 和 Basmann (1957) 提出，是仪器线性方程的标准估计量
This shows that the 2SLS estimator as defined in (12.29) is a generalization of the IV estimator defined in (12.24)	这表明（12.29）中定义的 2SLS 估计量是（12.24）中定义的 IV 估计量的推广
There are several alternative representations of the 2SLS estimator which we now describe	我们现在描述的 2SLS 估计量有几种替代表示形式
we can write the 2SLS estimator more compactly as	我们可以将 2SLS 估计量写得更紧凑：
This is the source of the "two-stage" name as it can be computed as follows	这是“两阶段”名称的来源，因为它可以按如下方式计算
A fourth representation of 2SLS can be obtained using the FWL Theorem	2SLS 的第四种表示可以使用 FWL 定理获得
A fifth representation can be obtained by a further projection	第五表示可以通过进一步的投影来获得
Returning to Card's college proximity example suppose that we treat experience as exogeneous but that instead of using the single instrument college (grew up near a 4-year college) we use the two instruments (public, private) (grew up near a public/private 4-year college, respectively)	回到卡德的大学邻近度例子，假设我们将经验视为外生的，但我们不使用单一工具大学（在四年制大学附近长大），而是使用两种工具（公立、私立）（在公立/私立大学附近长大）分别为四年制大学）
This indicates that the key impact of proximity on education is via public colleges rather than private colleges	这表明邻近性对教育的主要影响是通过公立大学而不是私立大学
The 2SLS estimates obtained using these two instruments are presented in the fourth column of Table 12.1	表 12.1 的第四列列出了使用这两种工具获得的 2SLS 估计值
This is roughly twice as large as the estimate obtained by least squares in the first column	这大约是第一列中通过最小二乘法获得的估计值的两倍
You might wonder if we could use all three instruments - college, public, and private	你可能想知道我们是否可以使用所有三种工具——大学、公立和私立
Since the instruments are linearly related the three together would violate the full-rank condition (12.6)	由于这些工具是线性相关的，因此这三个工具一起将违反满秩条件（12.6）
The 2SLS estimator may be calculated in Stata using the ivregress 2 sls command	2SLS 估计量可以在 Stata 中使用 ivregress 2 sls 命令计算
Limited Information Maximum Likelihood	有限信息极大似然
An alternative method to estimate the parameters of the structural equation is by maximum likelihood	估计结构方程参数的另一种方法是通过极大似然法
The estimator is known as limited information maximum likelihood (LIML)	该估计量称为有限信息极大似然 (LIML)
We do not describe the FIML estimator as it is not commonly used in applied econometrics	我们不描述 FIML 估计量，因为它在应用计量经济学中并不常用
While the LIML estimator is less widely used among economists than 2SLS it has received a resurgence of attention from econometric theorists	虽然 LIML 估计量在经济学家中的使用不如 2SLS 广泛，但它已重新受到计量经济学理论家的关注
The minimization (12.34) is sometimes called the "least variance ratio" problem	最小化 (12.34) 有时称为“最小方差比”问题
Previous econometrics textbooks did not present a derivation of the LIML estimator as the original derivation by Anderson and Rubin (1949) is lengthy and not particularly insightful	以前的计量经济学教科书没有提供 LIML 估计量的推导，因为 Anderson 和 Rubin (1949) 的原始推导很长而且不是特别有洞察力
In contrast the derivation given here based on reduced rank regression is simple	相比之下，这里基于降序回归给出的推导很简单
There is an alternative (and traditional) expression for the LIML estimator	LIML 估计量有一个替代（和传统）表达式
We defer the derivation of (12.37) until the end of this section	我们将 (12.37) 的推导推迟到本节末尾
It also helps reveal the algebraic connection between LIML, least squares, and 2SLS	它还有助于揭示 LIML、最小二乘法和 2SLS 之间的代数联系
Expressing LIML using this IV formula is useful for variance estimation	使用此 IV 公式表达 LIML 对于方差估计非常有用
The LIML estimator has the same asymptotic distribution as 2SLS	LIML 估计量具有与 2SLS 相同的渐近分布
(We review these cases in the following sections.) However, on the other hand LIML has wider finite sample dispersion	）然而，另一方面，LIML 具有更广泛的有限样本离散度
We now derive the expression (12.37)	现在我们推导出表达式（12.37）
Equation (12.37) is the same as the two equation system	方程(12.37)与二元方程组相同
The first equation is (12.35)	第一个方程是（12.35）
which is (12.38) when rearranged	重新排列后为 (12.38)
We have thus shown that (12.37) is equivalent to (12.35) and (12.38) and is thus a valid expression for the LIML estimator	因此，我们证明 (12.37) 等价于 (12.35) 和 (12.38)，因此是 LIML 估计量的有效表达式
Returning to the Card college proximity example we now present the LIML estimates of the equation with the two instruments (public, private)	回到卡学院邻近示例，我们现在使用两种工具（公共、私人）呈现方程的 LIML 估计
They are quite similar to the 2SLS estimates	它们与 2SLS 估计非常相似
The LIML estimator may be calculated in Stata using the ivregress liml command	LIML 估计量可以在 Stata 中使用 ivregress liml 命令进行计算
Split-Sample IV and JIVE	分割样本 IV 和 JIVE
This correlation and bias disappears asymptotically but it can be important in applications	这种相关性和偏误逐渐消失，但在应用中可能很重要
A limitation of SSIV is that the results will be sensitive to the sample spliting	SSIV 的局限性在于结果对样本分割很敏感
This was called the jackknife instrumental variables (JIVE1) estimator by Angrist, Imbens, and Krueger (1999)	Angrist、Imbens 和 Krueger (1999) 将其称为折刀工具变量 (JIVE1) 估计量
It first appeared in Phillips and Hale (1977)	它首次出现在《菲利普斯与黑尔》（Phillips and Hale，1977）中
Angrist, Imbens, and Krueger (1999) pointed out that a somewhat simpler adjustment also removes the correlation and bias	Angrist、Imbens 和 Krueger (1999) 指出，稍微简单一些的调整也可以消除相关性和偏误
Thus the estimators do not require significantly more computation than 2SLS	因此，估计量不需要比 2SLS 更多的计算量
An asymptotic distribution theory for JIVE1 and JIVE2 was developed by Chao, Swanson, Hausman, Newey, and Woutersen (2012)	JIVE1 和 JIVE2 的渐近分布理论由 Chao、Swanson、Hausman、Newey 和 Woutersen (2012) 开发
It is not a part of the standard package but can be easily added	它不是标准包的一部分，但可以轻松添加
Consistency of 2SLS	2SLS的一致性
We now demonstrate the consistency of the 2SLS estimator for the structural parameter	我们现在证明结构参数的 2SLS 估计量的一致性
The following is a set of regularity conditions	以下是一组正则条件
Assumptions 12.1.2-4 state that all variables have finite variances	假设 12.1.2-4 表明所有变量都具有有限方差
Assumptions 12.1.5-7 are identical to Definition 12.1	假设 12.1.5-7 与定义 12.1 相同
The proof of the theorem is provided below	下面提供该定理的证明
The proof of this consistency result is similar to that for least squares	这种一致性结果的证明与最小二乘的证明类似
This separates out the stochastic component	这分离出了随机成分
The WLLN holds under Assumptions 12.1.1 and 12.1.2-4	WLLN 在假设 12.1.1 和 12.1.2-4 下成立
The final equality uses Assumption 12.1.7	最终的等式使用假设 12.1.7
Asymptotic Distribution of 2SLS	2SLS 的渐近分布
We now show that the 2SLS estimator satisfies a central limit theorem	现在我们证明 2SLS 估计量满足中心极限定理
This is used to establish the central limit theorem	这用于建立中心极限定理
The latter takes a substantially more complicated form than the least squares estimator	后者采用比最小二乘估计量更为复杂的形式
As in the case of least squares estimation the asymptotic variance simplifies under a conditional homoskedasticity condition	与最小二乘估计的情况一样，渐近方差在条件同方差条件下得到简化
The derivation of the asymptotic distribution builds on the proof of consistency	渐近分布的推导建立在一致性证明的基础上
under Assumptions 12.2.1 and 12.2.2	根据假设 12.2.1 和 12.2.2
using Assumptions 12.2.3	使用假设 12.2.3
Determinants of 2 SLS Variance	2 SLS 方差的决定因素
It is instructive to examine the asymptotic variance of the 2SLS estimator to understand the factors which determine the precision (or lack thereof) of the estimator	检查 2SLS 估计量的渐近方差有助于了解决定估计量精度（或缺乏精度）的因素
We can also use this expression to examine the impact of increasing the instrument set	我们还可以使用这个表达式来检查增加工具集的影响
Thus the 2SLS estimator with the full instrument set has a smaller asymptotic variance than the estimator with the smaller instrument set	因此，具有完整工具集的 2SLS 估计量比具有较小工具集的估计量具有更小的渐近方差
What we have shown is that the asymptotic variance of the 2SLS estimator is decreasing as the number of instruments increases	我们已经证明，2SLS 估计量的渐近方差随着仪器数量的增加而减小
From the viewpoint of asymptotic efficiency this means that it is better to use more instruments (when they are available and are all known to be valid instruments)	从渐近效率的角度来看，这意味着最好使用更多的工具（当它们可用并且都已知是有效的工具时）
Unfortunately there is a catch	不幸的是，有一个问题
Thus the choice of instruments in practice induces a trade-off between bias and variance	因此，实践中工具的选择会导致偏误和方差之间的权衡
The homoskedastic covariance matrix can be estimated by	同方差协方差矩阵可以通过以下方式估计
Confidence intervals, t-tests, and Wald tests may all be constructed from the coefficient and covariance matrix estimates exactly as for least squares regression	置信区间、t 检验和 Wald 检验都可以按照与最小二乘回归完全相同的系数和协方差矩阵估计来构建
In Stata the ivregress command by default calculates the covariance matrix estimator using the homoskedastic covariance matrix	在 Stata 中，ivregress 命令默认使用同方差协方差矩阵计算协方差矩阵估计量
We defer this to Exercise 12.6	我们将其推迟到练习 12.6
This means that standard errors reported by the regression (12.41) will be incorrect	这意味着回归报告的标准误差 (12.41) 将不正确
This problem is avoided if the 2SLS estimator is constructed directly and the standard errors calculated with the correct formula rather than taking the "two-step" shortcut	如果直接构造 2SLS 估计量并使用正确的公式计算标准误差而不是采取“两步”捷径，则可以避免此问题
LIML Asymptotic Distribution	LIML 渐近分布
In this section we show that the LIML estimator is asymptotically equivalent to the 2SLS estimator	在本节中，我们将证明 LIML 估计量渐近等价于 2SLS 估计量
We recommend, however, a different covariance matrix estimator based on the IV representation	然而，我们建议使用基于 IV 表示的不同协方差矩阵估计量
We start by deriving the asymptotic distribution	我们首先推导渐近分布
It will be important to note that	值得注意的是
which means that LIML and 2SLS have the same asymptotic distribution	这意味着 LIML 和 2SLS 具有相同的渐近分布
This holds under the same assumptions as for 2SLS	这在与 2SLS 相同的假设下成立
Consequently, one method to obtain an asymptotically valid covariance estimator for LIML is to use the 2SLS formula	因此，获得 LIML 渐近有效协方差估计量的一种方法是使用 2SLS 公式
The estimator (12.42) is a better choice than the 2SLS formula for covariance matrix estimation as it takes advantage of the LIML estimator structure	对于协方差矩阵估计，估计量 (12.42) 是比 2SLS 公式更好的选择，因为它利用了 LIML 估计量结构
For example, let's take the parameter estimates from the fifth column of Table 12.1, which are the 2SLS estimates with three endogenous regressors and four excluded instruments	例如，我们采用表 12.1 第五列中的参数估计值，它们是具有三个内生回归变量和四个排除工具的 2SLS 估计值
The large standard error implies that the estimate (73 years of experience) is without precision and is thus uninformative	较大的标准误差意味着该估计（73 年的经验）不精确，因此缺乏信息
Hypothesis Tests	假设检验
Thus by examining the joint test in contrast to the individual tests is quite clear that experience has a non-zero effect	因此，通过检查联合检验与单独检验的对比，可以很清楚地看出，经验具有非零效应
Finite Sample Theory	有限样本理论
In Chapter 5 we reviewed the rich exact distribution available for the linear regression model under the assumption of normal innovations	在第五章中，我们回顾了在正态创新假设下可用于线性回归模型的丰富的精确分布
An excellent review of the theory, mostly developed in the 1970s and early 1980s, is provided by Peter Phillips (1983)	Peter Phillips (1983) 对主要在 20 世纪 70 年代和 1980 年代初发展起来的理论进行了精彩的回顾
Formulae for the exact distributions have been derived but are unfortunately functions of model parameters and hence are not directly useful for finite sample inference	精确分布的公式已经导出，但不幸的是，它们是模型参数的函数，因此不能直接用于有限样本推断
One important implication of this literature is that even in this optimal context of exact normal innovations the finite sample distributions of the IV estimators are non-normal and the finite sample distributions of test statistics are not chi-squared	该文献的一个重要含义是，即使在精确正态创新的最优背景下，IV 估计量的有限样本分布也是非正态的，并且检验统计量的有限样本分布也不是卡方的
The normal and chi-squared approximations hold asymptotically but there is no reason to expect these approximations to be accurate in finite samples	正态近似和卡方近似渐近成立，但没有理由期望这些近似在有限样本中是准确的
A second important result is that under the assumption of normal errors most of the estimators do not have finite moments in any finite sample	第二个重要结果是，在正态误差的假设下，大多数估计量在任何有限样本中都不具有有限矩
Thus if there is one over-identifying restriction 2 SLS has a finite expectation and if there are two over-identifying restrictions then the 2SLS estimator has a finite variance	因此，如果存在一个过度识别约束，则 2SLS 具有有限期望，如果存在两个过度识别约束，则 2SLS 估计量具有有限方差
The LIML estimator has a more severe moment problem as it has no finite integer moments (Mariano, 1982) regardless of the number of over-identifying restrictions	LIML 估计量具有更严重的矩问题，因为它没有有限整数矩（Mariano，1982），无论过度识别约束的数量如何
Fuller showed that his estimator has all moments finite under suitable conditions	富勒表明，他的估计量在适当的条件下具有有限的所有矩
Hausman, Newey, Woutersen, Chao and Swanson (2012) propose an estimator they call HFUL which combines the ideas of JIVE and Fuller which has excellent finite sample properties	Hausman、Newey、Woutersen、Chao 和 Swanson（2012）提出了一种称为 HFUL 的估计量，它结合了 JIVE 和 Fuller 的思想，具有出色的有限样本特征
Bootstrap for 2SLS	2SLS 的引导程序
We now show that the bootstrap estimator has the same asymptotic distribution as the sample estimator	我们现在证明自举估计量具有与样本估计量相同的渐近分布
This was first shown by Hahn (1996)	Hahn (1996) 首先表明了这一点
The true value in the bootstrap universe is obtained by replacing the population moments by the sample moments, which equals the 2SLS estimator	Bootstrap宇宙中的真实值是通过用样本矩替换总体矩得到的，它等于2SLS估计量
This is generally not equal to zero in the over-identified case	在过度识别的情况下，这通常不等于零
This an an important complication	这是一个重要的并发症
Using (12.43) we can normalize the bootstrap estimator as	使用（12.43）我们可以将自举估计量归一化为
This implies (12.47) is equal to	这意味着 (12.47) 等于
By standard calculations we can also show that bootstrap t-ratios are asymptotically normal	通过标准计算，我们还可以证明自举 t 比率是渐近正态的
This shows that percentile-type and percentile-t confidence intervals are asymptotically valid	这表明百分位数类型和百分位数 t 置信区间是渐近有效的
Consequently, unadjusted bootstrap methods will not achieve an asymptotic refinement	因此，未经调整的引导方法将无法实现渐近细化
An alternative suggested by Hall and Horowitz (1996) is to recenter the bootstrap 2SLS estimator so that it satisfies the correct orthogonality condition	Hall 和 Horowitz (1996) 提出的另一种选择是使 bootstrap 2SLS 估计量居中，使其满足正确的正交条件
This recentered estimator, however, is not the standard implementation of the bootstrap for 2SLS as used in empirical practice	然而，这个重新定位的估计量并不是实证实践中使用的 2SLS 引导程序的标准实现
The Peril of Bootstrap 2SLS Standard Errors	Bootstrap 2SLS 标准误差的危险
It is tempting to use the bootstrap algorithm to estimate variance matrices and standard errors for the 2SLS estimator	使用 bootstrap 算法来估计 2SLS 估计量的方差矩阵和标准误差是很诱人的
In finite samples the 2SLS estimator may not have a finite second moment, meaning that bootstrap variance estimates are unstable and unreliable	在有限样本中，2SLS 估计量可能没有有限的二阶矩，这意味着自举方差估计不稳定且不可靠
However this is not the most common application of IV methods in econometric practice and thus should be viewed as the exception rather than the norm	然而，这并不是 IV 方法在计量经济学实践中最常见的应用，因此应被视为例外而不是常态
To understand what is going on consider the simplest case of a just-identified model with a single endogenous regressor and no included exogenous regressors	要了解发生的情况，请考虑刚刚识别的模型的最简单情况，该模型具有单个内生回归变量且不包含外生回归变量
This means that the ratio can take arbitrarily large values	这意味着该比率可以取任意大的值
The coefficient estimate is reported in Table 12.3, along with asymptotic, jackknife, and two bootstrap standard errors each calculated with 10,000 bootstrap replications	表 12.3 报告了系数估计值，以及渐近误差、折刀误差和两个自举标准误差，每个标准误差均通过 10,000 次自举重复计算得出
Table 12.3: Instrumental Variable Return to Education for Black Men	表 12.3：黑人男性教育回报工具变量
The bootstrap standard errors are an order of magnitude larger than the asymptotic standard errors, and vary substantially across the bootstrap runs despite using 10,000 bootstrap replications	引导程序标准误差比渐近标准误差大一个数量级，并且尽管使用了 10,000 次引导程序复制，但在引导程序运行过程中差异很大
This indicates moment failure and unreliability of the bootstrap standard errors	这表明引导程序标准误差的瞬时故障和不可靠性
This is a strong message that bootstrap standard errors should not be computed for IV estimators	这是一个强烈的信息，即不应为 IV 估计量计算自举标准误差
Instead, report percentile-type confidence intervals	相反，报告百分位数类型的置信区间
Clustered Dependence	群组依赖
Generated Regressors	生成的自变量
The "two-stage" form of the 2SLS estimator is an example of what is called "estimation with generated regressors"	2SLS 估计量的“两阶段”形式是所谓“使用生成的自变量进行估计”的示例
Unless this is incorporated into our inference methods, covariance matrix estimates and standard errors will be incorrect	除非将其纳入我们的推断方法，否则协方差矩阵估计和标准误差将是不正确的
The econometric theory of generated regressors was developed by Pagan (1984) for linear models and extended to nonlinear models and more general two-step estimators by Pagan (1986)	生成自变量的计量经济学理论是由 Pagan (1984) 针对线性模型开发的，并由 Pagan (1986) 扩展到非线性模型和更一般的两步估计量
observations because the generated regressors are themselves estimates	观测，因为生成的自变量本身就是估计值
This framework includes 2SLS as well as other common estimators	该框架包括 2SLS 以及其他常见估计量
The examples which motivated Pagan (1984) and Murphy and Topel (1985) emerged from the macroeconomics literature, in particular the work of Barro (1977) which examined the impact of inflation expectations and expectation errors on economic output	Pagan (1984) 以及 Murphy 和 Topel (1985) 的例子来自宏观经济学文献，特别是 Barro (1977) 的著作，该著作研究了通货膨胀预期和预期误差对经济产出的影响
The generated regressor framework includes all of these examples	生成的自变量框架包括所有这些示例
Conventional variance estimators do not address this second component and thus will be biased	传统的方差估计量不考虑第二个组成部分，因此会有偏误
This is a dramatic simplification	这是一个戏剧性的简化
Often this is of major interest in applications	这通常是应用程序中最感兴趣的
However, in one important set of examples it is straightforward to work out the asymptotic distribution	然而，在一组重要的示例中，计算渐近分布是很简单的
This class of estimators includes 2SLS and the expectation model described above	此类估计量包括 2SLS 和上述期望模型
Under conditional homoskedasticity the covariance matrix simplifies to	在条件同方差下，协方差矩阵简化为
Under the assumption of conditional homoskedasticity this can be simplified as usual	在条件同方差的假设下，这可以像平常一样简化
We now summarize the results of this section	我们现在总结本节的结果
With this one modification asymptotic inference using the generated regressors is conventional	通过这一修改，使用生成的自变量进行渐近推断是传统的
Regression with Expectation Errors	带有期望误差的回归
In this section we examine a generated regressor model which includes expectation errors in the regression	在本节中，我们检查生成的回归模型，其中包括回归中的期望误差
This does not change the results described here	这不会改变此处描述的结果
The model is estimated as follows	该模型估计如下
We now examine the asymptotic distributions of these estimators	我们现在检查这些估计量的渐近分布
Together, we establish the following distributional result	我们一起建立以下分布结果
The asymptotic covariance matrix is estimated by	渐近协方差矩阵估计为
In this case we have the covariance matrix estimators	在这种情况下，我们有协方差矩阵估计量
Control Function Regression	控制函数回归
In this section we present an alternative way of computing the 2SLS estimator by least squares	在本节中，我们提出了一种通过最小二乘法计算 2SLS 估计量的替代方法
It is useful in nonlinear contexts, and also in the linear model to construct tests for endogeneity	它在非线性环境中非常有用，在线性模型中构建内生性检验也很有用
The structural and reduced form equations for the standard IV model are	标准 IV 模型的结构方程和简化形式方程为
Substituting this into the structural form equation we find	将其代入我们发现的结构形式方程
or in matrix notation as	或用矩阵表示法表示为
This turns out to be an alternative algebraic expression for the 2SLS estimator	事实证明，这是 2SLS 估计量的替代代数表达式
which is (12.31) as claimed	正如所声称的那样，这是（12.31）
This is the model in Section 12.27	这是第 12.27 节中的模型
Under conditional homoskedasticity we have the important simplifications	在条件同方差下，我们有重要的简化
Under the assumption of conditional homoskedasticity we have the estimator	在条件同方差的假设下，我们有估计量
Endogeneity Tests	内生性检验
Recall the control function regression (12.59)	回想一下控制函数回归（12.59）
Specifically, estimate the reduced form by least squares	具体来说，通过最小二乘估计简化形式
Since in general we do not want to impose homoskedasticity these results suggest that the most appropriate test is the Wald statistic constructed with the robust heteroskedastic covariance matrix	由于一般来说我们不想强加同方差，因此这些结果表明最合适的检验是使用稳健的异方差协方差矩阵构建的 Wald 统计量
There is an alternative (and traditional) way to derive a test for endogeneity	有另一种（传统的）方法来导出内生性检验
This literature was developed under the assumption of conditional homoskedasticity (and it is important for these results) so we assume this condition for the development of the statistic	该文献是在条件同方差的假设下开发的（这对于这些结果很重要），因此我们假设这个条件来开发统计数据
The general class of tests are called Durbin-Wu-Hausman tests, Wu-Hausman tests, or Hausman tests, depending on the author	一般的检验类别称为 Durbin-Wu-Hausman 检验、Wu-Hausman 检验或 Hausman 检验，具体取决于作者
We illustrate using the Card proximity example using the two instruments public and private	我们使用公共和私有两种工具来说明卡邻近示例
We now show the equality of the various statistics	我们现在展示各种统计数据的平等性
Subset Endogeneity Tests	子集内生性检验
In some cases we may only wish to test the endogeneity of a subset of the variables	在某些情况下，我们可能只想检验变量子集的内生性
Under homoskedasticity a straightfoward test can be constructed by the Durbin-Wu-Hausman principle	在同方差下，可以通过 Durbin-Wu-Hausman 原理构建直接检验
In this model, the assumption of exogeneity with homogenous coefficients is rejected for education but the result for experience is unclear	在该模型中，教育方面拒绝具有同质系数的外生性假设，但实证结果尚不清楚
A heteroskedasticity or cluster-robust test cannot be constructed easily by the Durbin-Wu-Hausman approach since the covariance matrix does not take a simple form	由于协方差矩阵不采用简单的形式，因此无法通过 Durbin-Wu-Hausman 方法轻松构建异方差性或群组稳健性检验
OverIdentification Tests	过度识别检验
Such tests are called overidentification tests	此类检验称为过度识别检验
In contrast, if the overidentification hypothesis is false then the two estimators will converge to different probability limits and it is unclear if either probability limit is interesting	相反，如果过度识别假设为假，则两个估计量将收敛到不同的概率极限，并且不清楚任一概率极限是否有趣
An overidentification test addresses this question	过度识别检验解决了这个问题
Sargan's version is more typically reported	萨根的版本被更广泛地报道
Hence the bottom line appears to be that to allow heteroskedasticity or clustering it is best to use a GMM approach	因此，底线似乎是为了允许异方差或群组，最好使用 GMM 方法
In overidentified applications it is always prudent to report an overidentification test	在过度识别的应用程序中，报告过度识别检验始终是谨慎的做法
In this case we should be concerned that the model is misspecified and interpreting the parameter estimates should be done cautiously	在这种情况下，我们应该担心模型误设，并且应该谨慎解释参数估计
The results of an overidentification test should be integrated with other information before making a strong decision	在做出强有力的决定之前，过度识别检验的结果应与其他信息相结合
We illustrate the methods with the Card college proximity example	我们用卡学院邻近示例来说明这些方法
We now prove Theorem 12.16	现在我们证明定理12.16
The Sargan statistic test can be implemented in Stata using the command estat overid after ivregress 2sls or ivregres liml if a standard (non-robust) covariance matrix has been specified (that is, without the ', r' option), or otherwise by the command estat overid, forcenonrobust	如果指定了标准（非稳健）协方差矩阵（即，没有 ', r' 选项），则可以在 Stata 中使用命令 estat overid 在 ivregress 2sls 或 ivregres liml 后实现 Sargan 统计检验，否则通过命令estat overid，forcenonrobust
Subset OverIdentification Tests	子集过度识别检验
In some cases it may be reasonable to test only a subset of the moment conditions	在某些情况下，仅检验瞬间条件的子集可能是合理的
Independently from Newey (1985), Eichenbaum, L	独立于 Newey (1985)，Eichenbaum、L. Hansen 和 Singleton (1988) 提出了一种基于 Sargan 统计差异的检验
These tests have chi-square asymptotic distributions	这些检验具有卡方渐近分布
In Stata, for example, this is simple to implement with a few lines of code	例如，在 Stata 中，只需几行代码即可轻松实现
We illustrate using the Card college proximity example	我们使用卡学院邻近示例进行说明
We can test this dispute using a overidentification subset test	我们可以使用过度识别子集检验来检验此争议
We now prove the results in Theorem 12.17	现在我们证明定理 12.17 中的结果
We next establish the asymptotic distribution	接下来我们建立渐近分布
Bootstrap Overidentification Tests	Bootstrap 过度识别检验
In small to moderate sample sizes the overidentification tests are not well approximated by the asymptotic chi-square distributions	在小到中等样本量中，渐近卡方分布不能很好地近似过度识别检验
The recentered bootstrap analog is	居中引导程序模拟是
Local Average Treatment Effects	当地平均治疗效果
In a pair of influential papers, Imbens and Angrist (1994) and Angrist, Imbens and Rubin (1996) proposed an new interpretation of the instrumental variables estimator using the potential outcomes model introduced in Section 2.30	在两篇有影响力的论文中，Imbens 和 Angrist (1994) 以及 Angrist、Imbens 和 Rubin (1996) 使用第 2.30 节中介绍的潜在结果模型提出了工具变量估计量的新解释
We would like to learn about the distribution of the causal effects, or at least features of the distribution	我们想了解因果效应的分布，或者至少是分布的特征
We can summarize the possibilites with the following chart which is based on labels developed by Angrist, Imbens and Rubin (1996)	我们可以用下面的图表总结可能性，该图表基于 Angrist、Imbens 和 Rubin (1996) 开发的标签
Once again, identification requires that there are no Deniers	再次强调，认同要求没有否认者
Imbens and Angrist call this the local average treatment effect (LATE) as it is the average treatment effect for the sub-population whose endogenous regressor is affected by the instrument	Imbens 和 Angrist 将其称为局部平均治疗效果 (LATE)，因为它是内源自变量受仪器影响的子群体的平均治疗效果
Examining the definition, the LATE is the average causal effect of college attendence on wages for the sub-sample of individuals who choose to attend college if (and only if) they live close to one	检查这个定义，LATE 是当（且仅当）住得接近大学时选择上大学的个体子样本的大学入学率对工资的平均因果效应
Interestingly, we show below that	有趣的是，我们在下面展示了
That is, LATE equals the Wald expression (12.27) for the slope coefficient in the IV regression model	也就是说，LATE 等于 IV 回归模型中斜率系数的 Wald 表达式 (12.27)
The equality (12.68) occurs under the following conditions	等式 (12.68) 在以下条件下出现
Thus LATE can vary by the choice of instrument	因此，LATE 可能因仪器的选择而异
This occurs when causal effects are heterogeneous	当因果效应不同时就会发生这种情况
One implication of the LATE framework is that IV estimates should be interpreted as causal effects only for the population of compliers	LATE 框架的含义之一是 IV 估计值应被解释为仅对遵守者群体的因果影响
The estimates should not be applied to other students	这些估计不应应用于其他学生
Formally, the analysis of this section examined the case of a binary instrument and endogenous regressor	正式而言，本节的分析检查了二值工具和内生自变量的情况
A benefit is that with a larger set of instruments it is plausible that the set of compliers in the population is expanded	一个好处是，通过使用更多的工具，人口中的合规者群体可能会扩大
We close this section by showing (12.68) under Assumption 12.3	我们通过在假设 12.3 下显示 (12.68) 来结束本节
Identification Failure	识别失败
Recall the reduced form equation	回忆一下简化形式的方程
The consequences of identification failure for inference are quite severe	推断识别失败的后果是相当严重的
Thus identification hinges on the existence of correlation between the excluded exogenous variable and the included endogenous variable	因此，识别取决于排除的外生变量和纳入的内生变量之间是否存在相关性
By the CLT we have the joint convergence	通过 CLT 我们有联合收敛
This limiting distribution has several notable features	这种极限分布有几个显着的特征
Thus under identification failure the IV estimator does not correct the centering (median bias) of least squares	因此，在识别失败的情况下，IV 估计量不会纠正最小二乘的中心（中值偏误）
Inferences based on the normal distribution can be quite incorrect	基于正态分布的推断可能非常不正确
We can also examine the behavior of the t-statistic	我们还可以检查 t 统计量的行为
Thus the t-statistic has the asymptotic distribution	因此 t 统计量具有渐近分布
The limiting distribution is non-normal, meaning that inference using the normal distribution will be (considerably) incorrect	极限分布是非正态的，这意味着使用正态分布的推断将（相当）不正确
In this situations users may incorrectly interpret estimates as precise despite the fact that they are highly imprecise	在这种情况下，用户可能会错误地将估计值解释为精确的，尽管它们非常不精确
Weak Instruments	弱仪器
In the previous section we examined the extreme consequences of full identification failure	在上一节中，我们研究了完全识别失败的极端后果
We show that the estimators are inconsistent and the 2SLS and LIML estimators remain random in large samples	我们表明估计量不一致，并且 2SLS 和 LIML 估计量在大样本中保持随机性
The theory was extended to nonlinear GMM estimation by Stock and Wright (2000)	Stock 和 Wright (2000)将该理论扩展到非线性 GMM 估计
The technical device introduced by Staiger and Stock (1997) is to assume that the reduced form parameter is local-to-zero, specifically	Staiger和Stock（1997）引入的技术装置是假设简化形式参数是局部到零的，具体来说
We now derive the asymptotic distribution of the least squares, 2SLS, and LIML estimators under the local-to-unity assumption (12.71)	现在，我们在局部统一假设 (12.71) 下导出最小二乘、2SLS 和 LIML 估计量的渐近分布
The least squares estimator satisfies	最小二乘估计满足
To examine the 2SLS estimator, by the central limit theorem	通过中心极限定理检查 2SLS 估计量
We find that the 2SLS estimator has the asymptotic distribution	我们发现 2SLS 估计量具有渐近分布
This corresponds to the classic "strong identification" context	这对应于经典的“强识别”背景
Now consider the LIML estimator	现在考虑 LIML 估计量
This allows us to calculate that by the continuous mapping theorem	这使我们能够通过连续映射定理来计算
Theorem 12.18 Under (12.71),	定理 12.18 根据 (12.71)，
All three estimators are inconsistent	所有三个估计量都不一致
Many Instruments	许多仪器
Consequently the impact of "weak" and "many" instruments is similar	因此，“弱”和“多”工具的影响是相似的
Again for simplicity we assume that there are no included exogenous regressors so that the model is	再次为了简单起见，我们假设不包含外生回归变量，因此模型是
In addition we assume that the conditional fourth moments are bounded	此外，我们假设条件四阶矩是有界的
The idea that there are "many instruments" is formalized by the assumption that the number of instruments is increasing proportionately with the sample size	存在“许多仪器”的想法是通过仪器数量随样本大小成比例增加的假设而形式化的
Combined with (12.77) and the WLLN we find	结合 (12.77) 和 WLLN 我们发现
Now consider the 2SLS estimator	现在考虑 2SLS 估计量
In the expression on the right-side of (12.79) several of the components have been examined in (12.77) and (12.78)	在 (12.79) 右侧的表达式中，已经在 (12.77) 和 (12.78) 中检查了几个成分
Second, we calculate its variance which is a more cumbersome exercise	其次，我们计算它的方差，这是一个更麻烦的练习
The third equality holds because the remaining cross-products have zero expectation as the observations are independent and the errors have zero mean	第三个等式成立，因为剩余的叉积具有零期望，因为观测是独立的并且误差具有零均值
Returning to the 2SLS estimator (12.79) and combining (12.77), (12.78), and (12.81), we find	返回 2SLS 估计量 (12.79) 并结合 (12.77)、(12.78) 和 (12.81)，我们发现
We state these results formally	我们正式公布这些结果
This result is quite insightful	这个结果是相当有见地的
The theorem also shows that unlike 2SLS the LIML estimator is consistent under the many instruments assumption	该定理还表明，与 2SLS 不同，LIML 估计量在多种仪器假设下是一致的
Effectively, LIML makes a bias-correction	LIML 有效地进行了偏误校正
This suggests that LIML is more robust than 2SLS to weak and many instruments	这表明 LIML 对于弱仪器和多仪器来说比 2SLS 更稳健
It appears likely that the consistency of LIML fails in the many instrument setting if the errors are heteroskedastic	如果误差是异方差的，则 LIML 的一致性在许多仪器设置中可能会失败
In applications users should be aware of the potential consequences of the many instrument framework	在应用程序中，用户应该意识到许多工具框架的潜在后果
Testing for Weak Instruments	弱仪器检验
In the previous sections we found that weak instruments results in non-standard asymptotic distributions for the 2SLS and LIML estimators	在前面的部分中，我们发现弱工具会导致 2SLS 和 LIML 估计量出现非标准渐近分布
This question was addressed in an influential paper by Stock and Yogo (2005) as an extension of Staiger and Stock (1997)	Stock 和 Yogo (2005) 在一篇有影响力的论文中解决了这个问题，作为 Staiger 和 Stock (1997) 的延伸
In the following section we describe their method for the case of multiple endogeneous regressors	在下一节中，我们将描述他们针对多个内生自变量的情况的方法
Since the model is just-identified the 2SLS, LIML, and IV estimators are all equivalent	由于模型刚刚被识别，2SLS、LIML 和 IV 估计量都是等效的
The question of primary interest is to determine conditions on the reduced form under which the IV estimator of the structural equation is well behaved, and secondly, what statistical tests can be used to learn if these conditions are satisfied	主要感兴趣的问题是确定结构方程的 IV 估计量表现良好的简化形式的条件，其次，可以使用哪些统计检验来了解这些条件是否得到满足
To break this impasse Stock and Yogo (2005) recommended a constructive alternative	为了打破这一僵局，Stock 和 Yogo（2005）推荐了一种建设性的替代方案
Specifically, the Stock-Yogo recommendation can be summarized by two steps	具体来说，Stock-Yogo 推荐可以概括为两个步骤
If there is more than one instrument then the rule-of-thumb changes.) We now describe the steps behind this reasoning in more detail	）我们现在更详细地描述这一推理背后的步骤
We now describe this procedure	我们现在描述这个过程
To implement the test we need to calculate an appropriate critical value	为了实施检验，我们需要计算适当的临界值
Equivalently, the recommended rule-of-thumb for the case of a single instrument is to estimate the reduced form and verify that the t-statistic for exclusion of the instrumental variable exceeds 3 in absolute value	同样，对于单一工具的情况，建议的经验法则是估计简化形式并验证排除工具变量的 t 统计量的绝对值是否超过 3
We report a subset in Table 12.4	我们在表 12.4 中报告了一个子集
The structural equation is estimated by either 2 SLS or LIML	结构方程通过 2 SLS 或 LIML 进行估计
The Stock-Yogo test can be implemented in Stata using the command estat firststage after ivregress 2 sls or ivregres liml if a standard (non-robust) covariance matrix has been specified (that is, without the ', r' option)	如果指定了标准（非稳健）协方差矩阵（即，没有 ', r' 选项），则可以在 ivregress 2 sls 或 ivregres liml 之后使用命令 estat firststage 在 Stata 中实现 Stock-Yogo 检验
There are possible extensions to the Stock-Yogo procedure	Stock-Yogo 程序有可能扩展
One modest extension is to use the information to convey the degree of confidence in the accuracy of a confidence interval	一种适度的扩展是使用该信息来传达对置信区间准确性的置信程度
A more substantive extension, which we now discuss, reverses the steps	我们现在讨论的更具实质性的扩展颠倒了这些步骤
We now describe the steps in detail	我们现在详细描述这些步骤
This can be solved as	这可以解决为
In principle the procedure could be extended using simulation or bootstrap methods but this has not been done to my knowledge	原则上可以使用模拟或引导方法来扩展该过程，但据我所知尚未这样做
To illustrate the Stock-Yogo and extended procedures let us return to the Card proximity example	为了说明 Stock-Yogo 和扩展程序，让我们回到卡邻近示例
Now consider the extended procedure	现在考虑扩展过程
The weak instrument methods described here are important for applied econometrics as they discipline researchers to assess the quality of their reduced form relationships before reporting structural estimates	这里描述的弱工具方法对于应用计量经济学很重要，因为它们要求研究人员在报告结构估计之前评估其简化形式关系的质量
This is an active area of research so the recommended methods may change in the years ahead	这是一个活跃的研究领域，因此推荐的方法在未来几年可能会发生变化
The structural equation and reduced form equations are	结构方程和简化形式方程为
As in the previous section we assume that the errors are conditionally homoskedastic	与上一节一样，我们假设误差是有条件同方差的
This can be estimated from the reduced-form regression	这可以通过简化形式的回归来估计
This means that for over-identified models LIML inference is less sensitive to weak instruments than 2SLS and may be the preferred estimation method	这意味着对于过度识别的模型，LIML 推断对弱工具的敏感度低于 2SLS，并且可能是首选的估计方法
Robust versions of the test have been proposed by Kleibergen and Paap (2006)	Kleibergen 和 Paap (2006) 提出了该检验的稳健版本
These can be implemented in Stata using the downloadable command ivreg2	这些可以使用可下载命令 ivreg2 在 Stata 中实现
Example: Acemoglu, Johnson, and Robinson (2001)	示例：阿西莫格鲁、约翰逊和罗宾逊 (2001)
One particularly well-cited instrumental variable regression is in Acemoglu, Johnson, and Robinson (2001) with additional details published in (2012)	Acemoglu、Johnson 和 Robinson (2001) 中引用了一种特别广泛引用的工具变量回归，并在 (2012) 中发表了更多详细信息
Their data is in the file AJR2001 on the textbook website	他们的数据位于教科书网站上的文件 AJR2001 中
The authors' premise is that modern political institutions have been influenced by colonization	作者的前提是现代政治制度受到了殖民化的影响
To start the investigation they report an OLS regression of log GDP per capita in 1995 on a measure of political institutions they call risk which is a measure of legal protection against expropriation	为了开始调查，他们报告了 1995 年人均 GDP 对数的 OLS 回归，该回归是针对他们称之为风险的政治制度的衡量标准，这是针对征用的法律保护的衡量标准
The authors argue that the risk is endogenous since economic output influences political institutions and because the variable risk is undoubtedly measured with error	作者认为，风险是内生的，因为经济产出影响政治制度，而且可变风险的测量无疑是有误差的
These issues induce least-square bias in different directions and thus the overall bias effect is unclear	这些问题会引起不同方向的最小二乘偏误，因此总体偏误效应尚不清楚
To correct for endogeneity bias the authors argue the need for an instrumental variable which does not directly affect economic performance yet is associated with political institutions	为了纠正内生性偏误，作者认为需要一个不直接影响经济表现但与政治制度相关的工具变量
This estimate is much higher than the OLS estimate from (12.86)	该估计值远高于 OLS 估计值 (12.86)
The estimate is consistent with a near doubling of GDP due to a 1-unit difference in the risk index	由于风险指数相差 1 个单位，这一估计与 GDP 几乎翻倍是一致的
These are simple regressions involving just one right-hand-side variable	这些是仅涉及一个右侧变量的简单回归
We conclude that the least squares and 2SLS estimates are statistically different and reject the hypothesis that the variable risk is exogenous for the GDP structural equation	我们得出结论，最小二乘法和 2SLS 估计值在统计上是不同的，并拒绝变量风险对于 GDP 结构方程是外生的假设
This paper is a creative and careful use of instrumental variables	本文是对工具变量的创造性和谨慎的运用
Putting these pieces together is the art of the project	将这些部分组合在一起是该项目的艺术
Example: Angrist and Krueger (1991)	示例：安格里斯特和克鲁格 (1991)
Another influential instrument variable regression is Angrist and Krueger (1991)	另一个有影响力的工具变量回归是 Angrist 和 Krueger (1991)
A subset of their data in the file AK1991 on the textbook website	他们的数据子集位于教科书网站上的文件 AK1991 中
Their creative suggestion was to focus on compulsory school attendance policies and their interaction with birthdates	他们的创造性建议是关注义务教育入学政策及其与出生日期的相互作用
Angrist and Krueger argue that compulsory schooling has a causal effect on wages - youth who would have chosen to drop out of school stay in school for more years - and thus have more education which causally impacts their earnings as adults	安格里斯特和克鲁格认为，义务教育对工资有因果影响——那些选择辍学的年轻人会在学校呆更长的时间——因此接受更多的教育，这会影响他们成年后的收入
Angrist and Krueger observe that these policies have differential impact on youth who are born early or late in the school year	安格里斯特和克鲁格观察到，这些政策对学年早或晚出生的青少年有不同的影响
These considerations together suggest that birthdate is a valid instrumental variable for education in a causal wage equation	这些考虑因素共同表明，出生日期是因果工资方程中教育的有效工具变量
Typical wage datasets include age but not birthdates	典型的工资数据集包括年龄，但不包括出生日期
They use this variable to construct 2SLS estimates of the return to education	他们使用这个变量来构建教育回报的 2SLS 估计
Their paper carefully documents that educational attainment varies by quarter of birth (as predicted by the above discussion), and reports a large set of least squares and 2SLS estimates	他们的论文仔细记录了教育程度随出生季度的变化而变化（如上述讨论所预测），并报告了大量的最小二乘法和 2SLS 估计值
The instrumental variables are the 30 interactions of three quarter-of-birth times ten year-of-birth dummy variables	工具变量是四分之三出生时间乘以十个出生年份虚拟变量的 30 次交互作用
Angrist and Krueger observe that the effect of compulsory education laws are likely to vary across states, so expand the instrument set to include interactions with state-of-birth	安格里斯特和克鲁格观察到，义务教育法的影响可能因州而异，因此扩大工具集以包括与出生州的相互作用
This equation also adds fifty state-of-birth dummy variables as regressors	该方程还添加了 50 个出生状态虚拟变量作为自变量
The instrumental variables are the 180 interactions of quarter-of-birth times year-of-birth dummy variables, plus quarter-of-birth times state-of-birth interactions	工具变量是出生季度与出生年份虚拟变量的 180 个交互作用，加上出生季度与出生状态的交互作用
This equation shows a similar estimated causal effect of education on wages as in (12.89)	该方程显示了与（12.89）中类似的教育对工资的估计因果效应
More notably, the standard error is smaller in (12.90) suggesting improved precision by the expanded instrumental variable set	更值得注意的是，(12.90) 中的标准误差较小，表明扩展的工具变量集提高了精度
However, these estimates seem excellent candidates for weak instruments and many instruments	然而，这些估计似乎对于弱工具和许多工具来说都是极好的候选者
We can use the Stock-Yogo tools to explore the instrument strength and the implications for the Angrist-Krueger estimates	我们可以使用 Stock-Yogo 工具来探索工具强度以及对 Angrist-Krueger 估计的影响
We first take equation (12.89)	我们首先取方程(12.89)
Since we cannot reject that the instruments are weak this indicates that we cannot interpret the 2SLS estimates and test statistics in (12.89) as reliable	由于我们不能否认这些工具很弱，这表明我们无法将 (12.89) 中的 2SLS 估计和检验统计数据解释为可靠
Second, take (12.90) with the expanded regressor and instrument set	其次，使用扩展的自变量和工具集取 (12.90)
Rather, they should be viewed as evidence of unreliability due to weak instruments	相反，它们应该被视为由于仪器薄弱而导致不可靠的证据
When instruments are weak one constructive suggestion is to use LIML estimation rather than 2SLS	当工具较弱时，一项建设性建议是使用 LIML 估计而不是 2SLS
The regression also includes nine year-of-birth and eight region-of-residence dummy variables	该回归还包括九个出生年份和八个居住地区虚拟变量
The reduced form coefficients in (12.91) on the quarter-of-birth dummies are instructive	(12.91) 中四分之一出生假人的简化形式系数具有指导意义
These estimates indicate a slightly larger (10%) causal impact of education on wages but with a larger standard error	这些估计表明，教育对工资的因果影响稍大（10%），但标准误差较大
While the original Angrist-Krueger estimates suffer due to weak instruments their paper is a very creative and thoughtful application of the natural experiment methodology	虽然安格斯特-克鲁格最初的估计因仪器薄弱而受到影响，但他们的论文是对自然实验方法的非常有创意和深思熟虑的应用
Their crafting of this natural experiment regression is clever and demonstrates a style of analysis which can successfully underlie an effective instrumental variables empirical analysis	他们对这种自然实验回归的精心设计非常聪明，并展示了一种可以成功地成为有效工具变量实证分析基础的分析风格
We now present Stata code for some of the empirical work reported in this chapter	我们现在为本章中报告的一些实证工作提供 Stata 代码
Stata do File for Card Example	Stata 做卡片文件示例
ivregress 2 sls lwage76 exp exp2 black reg76r smsa76r (ed76=nearc4), r	ivregress 2 sls lwage76 exp exp2 黑色 reg76r smsa76r (ed76=nearc4), r
Stata do File for Acemoglu-Johnson-Robinson Example	Stata 为 Acemoglu-Johnson-Robinson 示例创建文件
ivregress 2sls loggdp (risk=logmort0)	ivregress 2sls loggdp（风险=logmort0）
Generalized Method of Moments	广义矩量法
One of the most popular estimation methods in applied econometrics is the Generalized Method of Moments (GMM)	应用计量经济学中最流行的估计方法之一是广义矩量法（GMM）
In this chapter we focus primarily on linear models	在本章中，我们主要关注线性模型
The GMM label and methods were introduced to econometrics in a seminal paper by Lars Hansen (1982)	Lars Hansen (1982) 在一篇开创性论文中将 GMM 标签和方法引入计量经济学
For a review of the latter see Godambe (1991)	对于后者的回顾参见 Godambe (1991)
Moment Equation Models	矩方程模型
All of the models that have been introduced so far can be written as moment equation models where the population parameters solve a system of moment equations	到目前为止介绍的所有模型都可以写成矩方程模型，其中总体参数求解矩方程组
Moment equation models are broader than the models so far considered and understanding their common structure opens up straightforward techniques to handle new econometric models	矩方程模型比迄今为止考虑的模型更广泛，理解它们的共同结构为处理新的计量经济模型提供了直接的技术
Moment equation models take the following form	力矩方程模型采用以下形式
Method of Moments Estimators	矩估计法
Define the sample analog of (13.5)	定义 (13.5) 的样本模拟
In other cases the solution must be found numerically	在其他情况下，必须以数字方式找到解决方案
We now show how most of the estimators discussed so far in the textbook can be written as method of moments estimators	我们现在展示如何将教科书中迄今为止讨论的大多数估计量编写为矩估计量方法
A common feature of these examples is that the estimator can be written as the solution to a set of estimating equations (13.3)	这些例子的一个共同特征是估计量可以写成一组估计方程（13.3）的解
This provides a common framework which enables a convenient development of a unified distribution theory	这提供了一个通用框架，可以方便地开发统一的分布理论
Overidentified Moment Equations	过度识别的力矩方程
Thus the method of moments estimator is not defined for the overidentified case	因此，没有为过度识别的情况定义矩估计量的方法
More generally we know that when errors are non-homogeneous it can be more efficient to estimate by weighted least squares	更一般地说，我们知道，当误差非均匀时，通过加权最小二乘法进行估计会更有效
This solution is known as the generalized method of moments (GMM)	该解决方案称为广义矩法 (GMM)
The estimator is typically defined as follows	估计量通常定义如下
Definition 13.1 The Generalized Method of Moments (GMM) estimator is	定义 13.1 广义矩量法 (GMM) 估计量是
This implies that all of our results for GMM apply to any method of moments estimator	这意味着我们所有的 GMM 结果都适用于任何矩估计方法
The method and theory of the generalized method of moments was developed in an influential paper by Lars Hansen (1982)	Lars Hansen (1982) 在一篇有影响力的论文中发展了广义矩方法和理论
This paper introduced the method, its asymptotic distribution, the form of the efficient weight matrix, and tests for overidentification	介绍了该方法、其渐近分布、有效权重矩阵的形式以及过度识别的检验
Linear Moment Models	线性力矩模型
One of the great advantages of the moment equation framework is that it allows both linear and nonlinear models	矩方程框架的一大优点是它允许线性和非线性模型
The estimates which have nonlinear moment equations include the sample variance, SUR, and generated regressors	具有非线性矩方程的估计包括样本方差、SUR 和生成的自变量
In particular, we focus on the overidentified IV model with moment equations	我们特别关注带有矩方程的过度识别 IV 模型
GMM Estimator	GMM估计量
Given (13.5) the sample moment equations are (13.4)	给定（13.5），样本矩方程为（13.4）
The solution is given as follows	解决方案如下
Theorem 13.1 For the overidentified IV model	定理13.1 对于过度识别的IV模型
The GMM estimator (13.6) resembles the 2SLS estimator (12.29)	GMM 估计量 (13.6) 类似于 2SLS 估计量 (12.29)
This means that the 2SLS estimator is a one-step GMM estimator for the linear model	这意味着 2SLS 估计量是线性模型的一步 GMM 估计量
Distribution of GMM Estimator	GMM估计量的分布
Theorem 13.3 Asymptotic Distribution of GMM Estimator	定理13.3 GMM估计量的渐近分布
The GMM estimator is asymptotically normal with a "sandwich form" asymptotic variance	GMM 估计量是渐近正态的，具有“三明治形式”渐近方差
Since rescaling the weight matrix does not affect the estimator this is ignored in implementation	由于重新缩放权重矩阵不会影响估计量，因此在实现中会忽略这一点
Efficient GMM	高效的GMM
The proof is left to Exercise 13.4	证明留给练习 13.4
Its asymptotic distribution takes a simpler form than in Theorem 13.3	它的渐近分布采用比定理 13.3 更简单的形式
This is the asymptotic variance of the efficient GMM estimator	这是有效 GMM 估计量的渐近方差
Theorem 13.4 Asymptotic Distribution of GMM with Efficient Weight Ma-\\	定理13.4具有有效权Ma-\\的GMM渐近分布
Theorem 13.5 Efficient GMM	定理 13.5 高效 GMM
For a proof see Exercise 13.4	证明参见练习 13.4
This means that the smallest possible GMM covariance matrix (in the positive definite sense) is achieved by the efficient GMM weight matrix	这意味着最小可能的 GMM 协方差矩阵（在正定意义上）是通过有效的 GMM 权重矩阵实现的
By "efficient" we mean that this estimator has the smallest asymptotic variance in the class of GMM estimators with this set of moment conditions	“有效”是指该估计量在具有这组矩条件的 GMM 估计量类别中具有最小的渐近方差
Since the GMM estimator has this asymptotic variance it is semiparametrically efficient	由于 GMM 估计量具有渐进方差，因此它是半参数有效的
The results in this section show that in the linear model no estimator has better asymptotic efficiency than the efficient linear GMM estimator	本节的结果表明，在线性模型中，没有估计量比高效线性 GMM 估计量具有更好的渐近效率
No estimator can do better (in this first-order asymptotic sense) without imposing additional assumptions	如果不施加额外的假设，任何估计量都无法做得更好（在这种一阶渐近意义上）
Efficient GMM versus 2SLS	高效 GMM 与 2SLS
This shows that the 2SLS weight matrix is the efficient weight matrix under conditional homoskedasticity	这表明2SLS权重矩阵是条件同方差下的有效权重矩阵
This shows that 2SLS is efficient under homoskedasticity	这表明 2SLS 在同方差下是有效的
However, this result also shows that in the general case where the error is conditionally heteroskedastic, 2SLS is inefficient relative to efficient GMM	然而，这个结果也表明，在误差是条件异方差的一般情况下，2SLS 相对于高效 GMM 来说效率较低
Estimation of the Efficient Weight Matrix	有效权重矩阵的估计
The estimator (13.8) is an uncentered covariance matrix estimator while the estimator (13.9) is a centered version	估计量（13.8）是无中心协方差矩阵估计量，而估计量（13.9）是中心版本
The choice of weight matrix may also impact covariance matrix estimation as discussed in Section 13.12	权重矩阵的选择也可能影响协方差矩阵估计，如第 13.12 节所述
This also means that the two-step GMM estimator satisfies the conditions for Theorem 13.4	这也意味着两步 GMM 估计量满足定理 13.4 的条件
This shows that the two-step GMM estimator is asymptotically efficient	这表明两步 GMM 估计量是渐近有效的
The two-step GMM estimator of the IV regression equation can be computed in Stata using the ivregress gmm command	IV 回归方程的两步 GMM 估计量可以在 Stata 中使用 ivregress gmm 命令进行计算
The centered version (13.9) may be selected using the center option	可以使用 center 选项选择居中版本 (13.9)
Iterated GMM	迭代GMM
The asymptotic distribution of the two-step GMM estimator does not depend on the choice of the preliminary one-step estimator	两步 GMM 估计量的渐近分布不依赖于初步一步估计量的选择
The result is called the iterated GMM estimator and is a common implementation of efficient GMM	结果称为迭代 GMM 估计量，是高效 GMM 的常见实现
Standard errors and test statistics, however, will be affected by the choice	然而，标准误差和检验统计量将受到选择的影响
The iterated GMM estimator of the IV regression equation can be computed in Stata using the ivregress gmm command using the igmm option	IV 回归方程的迭代 GMM 估计量可以在 Stata 中使用 ivregress gmm 命令和 igmm 选项来计算
For the efficient iterated GMM estimator the covariance matrix estimator is	对于高效迭代 GMM 估计量，协方差矩阵估计量为
In Stata, the default covariance matrix estimation method is determined by the choice of weight matrix	在Stata中，默认的协方差矩阵估计方法是由权重矩阵的选择决定的
Thus if the centered estimator (13.9) is used for the weight matrix it is also used for the covariance matrix estimator	因此，如果中心估计量 (13.9) 用于权重矩阵，那么它也可用于协方差矩阵估计量
The methods extend naturally to GMM but with the additional complication of potentially altering weight matrix calculation	这些方法自然地扩展到 GMM，但可能会改变权重矩阵计算，从而带来额外的复杂性
The cluster-robust estimator (13.12) is appropriate for the one-step or two-step GMM estimator	群组稳健估计量 (13.12) 适用于一步或两步 GMM 估计量
An appropriate cluster-robust covariance matrix estimator is	适当的群组稳健协方差矩阵估计量是
To implement a cluster-robust weight matrix use the 2SLS estimator for first step	要实现群组稳健权重矩阵，第一步使用 2SLS 估计量
Iterating the residuals and covariance matrix until convergence we obtain the iterated GMM estimator	迭代残差和协方差矩阵直到收敛，我们得到迭代的 GMM 估计量
In Stata, using the ivregress gmm command with the cluster option implements the two-step GMM estimator using the cluster-robust weight matrix and cluster-robust covariance matrix estimator	在 Stata 中，使用带 cluster 选项的 ivregress gmm 命令可使用群组稳健权重矩阵和群组稳健协方差矩阵估计量实现两步 GMM 估计量
Alternatively, you can use the wmatrix and vce options to separately specify the weight matrix and covariance matrix estimation methods	或者，你可以使用 wmatrix 和 vce 选项分别指定权重矩阵和协方差矩阵估计方法
Wald Test	瓦尔德检验
For a proof see Exercise 13.5	证明参见练习 13.5
In Stata, the commands test and testparm can be used after ivregress gmm to implement Wald tests of linear hypotheses	在Stata中，可以在ivregress gmm之后使用命令test和testparm来实现线性假设的Wald检验
The commands nlcom and testnl can be used after ivregress gmm to implement Wald tests of nonlinear hypotheses	ivregress gmm 之后可以使用命令 nlcom 和 testnl 来实现非线性假设的 Wald 检验
Restricted GMM	受限GMM
It is often desirable to impose restrictions on the coefficients	通常需要对系数施加约束
In the following section we consider nonlinear constraints	在下一节中，我们考虑非线性约束
The constrained GMM estimator minimizes the GMM criterion subject to the constraint	受约束的 GMM 估计量最小化受约束的 GMM 准则
This is the parameter vector which makes the estimating equations as close to zero as possible with respect to the weighted quadratic distance while imposing the restriction on the parameters	这是参数向量，它使估计方程相对于加权二次距离尽可能接近于零，同时对参数施加约束
We derive the asymptotic distribution under the assumption that the restriction is true	我们在约束成立的假设下推导出渐近分布
For a proof, see Exercise 13.8	证明请参见练习 13.8
which is the same formula (8.25) as efficient minimum distance. (For details, see Exercise 13.7.) We find that the asymptotic covariance matrix simplifies considerably	这与有效最小距离的公式（8.25）相同
For a proof, see Exercise 13.9	证明请参见练习 13.9
The asymptotic covariance matrix (13.20) can be estimated by	渐近协方差矩阵 (13.20) 可以通过以下方式估计
This is a natural estimator as it is the appropriate implementation of iterated GMM	这是一个自然估计量，因为它是迭代 GMM 的适当实现
Nonlinear Restricted GMM	非线性受限GMM
In this section we introduce GMM estimation subject to nonlinear constraints	在本节中，我们介绍受非线性约束的 GMM 估计
Fortunately there are excellent nonlinear constrained optimization solvers implemented in standard software packages	幸运的是，在标准软件包中实现了出色的非线性约束优化求解器
The asymptotic covariance matrix (13.18) in the general case is estimated similarly	一般情况下的渐近协方差矩阵 (13.18) 的估计方式类似
Constrained Regression	约束回归
the efficient minimum distance estimator	有效的最小距离估计量
Thus one convenient method to implement efficient minimum distance is GMM	因此，一种实现有效最小距离的便捷方法是 GMM
The general multivariate regression (projection) model is	一般的多元回归（投影）模型是
the multivariate least squares estimator	多元最小二乘估计量
Thus the unconstrained GMM estimator of the multivariate regression model is least squares	因此，多元回归模型的无约束 GMM 估计量是最小二乘法
The estimator does not depend on the weight matrix since the model is just-identified	由于模型刚刚被识别，因此估计量不依赖于权重矩阵
A important advantage of the GMM framework is the ability to incorporate cross-equation constraints	GMM 框架的一个重要优点是能够合并交叉方程约束
This estimator depends on the weight matrix because it is over-identified	该估计量依赖于权重矩阵，因为它被过度识别
Written as a vector system this is (13.24) and leads to the same restricted GMM estimators	将其写为矢量系统时，为 (13.24)，并导致相同的受限 GMM 估计量
These are general formula for imposing restrictions	这些是施加约束的一般公式
Distance Test	距离检验
The idea was first put forward by Newey and West (1987a)	这个想法首先由 Newey 和 West (1987a) 提出
The idea is to compare the unrestricted and restricted estimators by contrasting the criterion functions	这个想法是通过对比准则函数来比较无约束和受约束的估计量
The distance test shares the useful feature of LR tests in that it is a natural by-product of the computation of alternative models	距离检验具有 LR 检验的有用特征，因为它是替代模型计算的自然副产品
The test has the following large sample distribution	该检验具有以下大样本分布
The proof is given in Section 13.28	第 13.28 节给出了证明
The finding that the asymptotic distribution is chi-squared allows the calculation of asymptotic critical values and p-values	渐近分布是卡方的发现允许计算渐近临界值和 p 值
We now discuss the choice of weight matrix	现在我们讨论权重矩阵的选择
In this case we have the following result	在这种情况下，我们得到以下结果
Continuously-Updated GMM	持续更新的GMM
They solve distinct first-order conditions and can be quite different in applications	它们解决不同的一阶条件，并且在应用中可能有很大不同
Relative to traditional GMM the CU-GMM estimator has lower bias but thicker distributional tails	相对于传统 GMM，CU-GMM 估计量具有较低的偏误，但分布尾部较厚
While it has received considerable theoretical attention it is not used commonly in applications	虽然它在理论上受到了相当多的关注，但在应用中并不常用
OverIdentification Test	过度识别检验
Hansen (1982) generalized the test to cover the GMM estimator allowing for general heteroskedasticity	L. Hansen (1982) 将检验推广到了考虑到一般异方差性的 GMM 估计量
Thus the model-the overidentifying restrictions - are testable	因此，该模型——过度识别的约束——是可检验的
In this sense an exclusion restriction can be seen as an overidentifying restriction	从这个意义上说，排除约束可以被视为过度识别约束
This is important for the distribution theory	这对于分布理论很重要
The proof of the theorem is left to Exercise 13.13	该定理的证明留给练习 13.13
The degrees of freedom of the asymptotic distribution are the number of overidentifying restrictions	渐近分布的自由度是过度识别约束的数量
In Stata the command estat overid afer ivregress gmm can be used to implement the overidentification test	在Stata中，命令estat overid afer ivregress gmm可用于实现过度识别检验
In this section we describe how to construct analogous tests for the GMM estimator under general heteroskedasticity	在本节中，我们描述如何在一般异方差下构建 GMM 估计量的类似检验
Recall, subset overidentification tests are used when it is desired to focus attention on a subset of instruments whose validity is questioned	回想一下，当需要将注意力集中在有效性受到质疑的工具子集上时，使用子集过度识别检验
Endogeneity Test	内生性检验
The GMM test is constructed as follows	GMM 检验的构造如下
The distribution theory for the test is a special case of overidentification testing	该检验的分布理论是过度识别检验的一个特例
In Stata the command estat endogenous afer ivregress gmm can be used to implement the test for endogeneity	在Stata中，可以使用命令estat endogenous afer ivregress gmm来实现内生性检验
Subset Endogeneity Test	子集内生性检验
The distribution theory for the test is a special case of the theory of overidentification testing	检验的分布理论是过度识别检验理论的一个特例
Nonlinear GMM	非线性GMM
The efficient GMM estimator can be constructed by setting	有效的 GMM 估计量可以通过设置来构建
As in the case of the linear model the weight matrix can be iterated until convergence to obtain the iterated GMM estimator	与线性模型的情况一样，可以迭代权重矩阵直到收敛以获得迭代的 GMM 估计量
Proposition 13.1 Distribution of Nonlinear GMM Estimator	命题13.1非线性GMM估计量的分布
The proof of this result is omitted as it uses more advanced techniques	由于使用了更先进的技术，因此省略了该结果的证明
The asymptotic covariance matrices can be estimated by sample counterparts of the population matrices	渐近协方差矩阵可以通过总体矩阵的样本对应物来估计
For the case of the iterated efficient weight matrix,	对于迭代有效权重矩阵的情况，
All of the methods discussed in this chapter - Wald tests, constrained estimation, distance tests, overidentification tests, endogeneity tests - apply similarly to the nonlinear GMM estimator	本章讨论的所有方法 - Wald 检验、约束估计、距离检验、过度识别检验、内生性检验 - 类似地适用于非线性 GMM 估计量
Bootstrap for GMM	GMM 引导程序
The bootstrap for 2SLS (Section 12.23) can be used for GMM estimation	2SLS 的 bootstrap（第 12.23 节）可用于 GMM 估计
For variance and standard error estimation the same cautions apply as for 2SLS	对于方差和标准误差估计，同样的注意事项适用于 2SLS
Instead, use the bootstrap for percentile and percentile-t confidence intervals	相反，请使用引导程序来确定百分位数和百分位数-t 置信区间
When the model is overidentified, as discussed for 2SLS, bootstrap GMM inference will not achieve an asymptotic refinement unless the bootstrap estimator is recentered to satisfy the orthogonality condition	当模型被过度识别时，如 2SLS 所讨论的，自举 GMM 推断将无法实现渐近细化，除非自举估计量重新居中以满足正交性条件
We now describe the recentering recommended by Hall and Horowitz (1996)	我们现在描述 Hall 和 Horowitz (1996) 建议的重新定位
For nonlinear GMM (Section 13.25) the bootstrap criterion function is modified	对于非线性 GMM（第 13.25 节），修改了引导准则函数
The bootstrap can be used to calculate the p-value of the GMM overidentification test	bootstrap 可用于计算 GMM 过度识别检验的 p 值
Conditional Moment Equation Models	条件矩方程模型
In many contexts, an economic model implies conditional moment restriction of the form	在许多情况下，经济模型意味着以下形式的条件矩约束
It turns out that this conditional moment restriction is more powerful than the unconditional moment equation model discussed throughout this chapter	事实证明，这种条件矩约束比本章讨论的无条件矩方程模型更强大
Given a conditional moment restriction an unconditional moment restriction can always be constructed	给定条件矩约束，总是可以构造无条件矩约束
This is equivalent to the problem of selection of the best instruments	这相当于选择最优仪器的问题
One study of this problem is Donald and Newey (2001)	Donald 和 Newey (2001) 对此问题进行了一项研究
Another approach is to construct the optimal instrument which minimizes the asymptotic variance	另一种方法是构建最小化渐近方差的最优工具
This is the same as the GLS estimator; namely that improved efficiency can be obtained if the observations are weighted inversely to the conditional variance of the errors	这与 GLS 估计量相同；也就是说，如果观测值的加权与误差的条件方差成反比，则可以获得更高的效率
Putting together (13.25), (13.26), (13.27) and (13.28),	将(13.25)、(13.26)、(13.27)和(13.28)放在一起，
Time Series	时间序列
This chapter is primarily focused on univariate time series models, though we describe the concepts for the multivariate case when the added generality does not add extra complication	本章主要关注单变量时间序列模型，尽管我们描述了多变量情况的概念，但增加的通用性不会增加额外的复杂性
Most economic time series are recorded at discrete intervals such as annual, quarterly, monthly, weekly, or daily	大多数经济时间序列都是以离散的时间间隔记录的，例如每年、每季度、每月、每周或每天
Many of the issues which distinguish time series from cross-section econometrics concern the modeling of these dependence relationships	许多区分时间序列与横截面计量经济学的问题都涉及这些依赖关系的建模
There are many excellent textbooks for time series analysis	关于时间序列分析有很多优秀的教科书
For textbooks on the related subject of forecasting see Granger and Newbold (1986), Granger (1989), and Elliott and Timmermann (2016)	有关预测相关主题的教科书，请参阅 Granger 和 Newbold (1986)、Granger (1989) 以及 Elliott 和 Timmermann (2016)
Many economic time series are macroeconomic variables	许多经济时间序列都是宏观经济变量
FRED-QD has 248 variables over 236 quarters	FRED-QD 在 236 个季度中有 248 个变量
When working with time series data one of the first tasks is to plot the series against time	使用时间序列数据时，首要任务之一是绘制序列与时间的关系图
Figure 14.1: GDP, Exchange Rate, Interest Rate, Oil Price	图14.1：GDP、汇率、利率、油价
Many of the plots are smooth, meaning that the neighboring values (in calendar time) are similar to one another and hence are serially correlated	许多图都是平滑的，这意味着相邻值（以日历时间表示）彼此相似，因此是序列相关的
At least one plot (real GDP) displays an upward trend	至少有一个图（实际 GDP）显示出上升趋势
Figure 14.2: Unemployment Rate, Consumption Growth Rate, Inflation Rate, and S\&P 500 Return	图 14.2：失业率、消费增长率、通货膨胀率和标准普尔 500 指数回报
Differences and Growth Rates	差异和增长率
It is common to transform series by taking logarithms, differences, and/or growth rates	通过取对数、差值和/或增长率来变换序列是很常见的
The most credible is that this is the suitable transformation for the desired analysis	最可信的是，这是适合所需分析的转换
Many aggregate series such as real GDP are transformed by taking natural logarithms	许多总量序列（例如实际 GDP）是通过取自然对数进行转换的
This flattens the apparent exponential growth and makes fluctuations proportionate	这使得表面上的指数增长趋于平缓，并使波动成比例
Higher-order differences can be defined similarly but are not used in practice	高阶差分可以类似地定义，但在实践中不使用
There are several methods to calculate growth rates	有多种计算增长率的方法
For non-annual data the one-period growth rate (14.1) may be unappealing for interpretation	对于非年度数据，一期增长率 (14.1) 可能难以解释
Year-on-year growth rates are	同比增长率为
These do not need annualization	这些不需要年化
Growth rates are closely related to logarithmic transformations	增长率与对数变换密切相关
For analysis using growth rates I recommend the one-period growth rates (14.1) or differenced logarithms rather than the annualized growth rates (14.2)	对于使用增长率进行分析，我建议使用一期增长率（14.1）或差分对数，而不是年化增长率（14.2）
Differenced logarithms are the most common choice and are recommended for models which combine log-levels and growth rates for then the models are linear in all variables	差分对数是最常见的选择，建议用于结合对数水平和增长率的模型，这样模型在所有变量中都是线性的
Stationarity	平稳性
Recall that cross-sectional observations are conventionally treated as random draws from an underlying population	回想一下，横截面观测通常被视为从基础总体中随机抽取
This may only hold after a suitable transformation such as growth rates (as discussed in the previous section)	这可能仅在适当的转换（例如增长率）之后成立（如上一节所述）
The most commonly assumed form of constancy is stationarity	最常见的恒常性假设形式是平稳性
The first is sufficient for construction of linear models	第一个足以构建线性模型
Their constancy as stated in the above definition means that these features of the distribution are stable over time	上述定义中所述的恒定性意味着这些分布特征随着时间的推移是稳定的
The second definition of stationarity concerns the entire joint distribution	平稳性的第二个定义涉及整个联合分布
For formal statistical theory we generally require the stronger assumption of strict stationarity	对于正式的统计理论，我们通常需要严格平稳性的更强假设
Therefore if we label a process as "stationary" you should interpret it as meaning "strictly stationary"	因此，如果我们将一个过程标记为“静止”，你应该将其解释为“严格静止”
It is difficult, however, to know whether or not a given time series is stationary simply by examining a time series plot	然而，仅通过检查时间序列图很难知道给定时间序列是否平稳
Here are some examples of strictly stationary scalar processes	以下是严格平稳标量过程的一些示例
Here are some examples of processes which are not stationary	以下是非平稳过程的一些示例
From the examples we can see that stationarity means that the distribution is constant over time	从例子中我们可以看出，平稳性意味着分布随着时间的推移是恒定的
These restrictions are associated with the concepts of ergodicity and mixing which we shall introduce in subsequent sections	这些约束与遍历性和混合的概念相关，我们将在后续章节中介绍这些概念
Transformations of Stationary Processes	稳态过程的变换
One of the important properties of strict stationarity is that it is preserved by transformation	严格平稳性的重要特征之一是它可以通过变换得以保留
Convergent Series	收敛系列
A transformation which includes the full past history is an infinite-order moving average	包含完整过去历史的变换是无限阶移动平均线
Many time-series models involve representations and transformations of the form (14.3)	许多时间序列模型涉及形式（14.3）的表示和转换
Ergodicity	遍历性
Stationarity alone is not sufficient for the weak law of large numbers as there are strictly stationary processes with no time series variation	对于弱大数定律来说，仅仅平稳性是不够的，因为存在没有时间序列变化的严格平稳过程
What is a minimal assumption beyond stationarity so that the law of large numbers applies? This topic is called ergodicity	为了应用大数定律，除了平稳性之外的最小假设是什么？这个主题称为遍历性
For a rigorous treatment see a standard textbook such as Walters (1982)	对于严格的处理，请参阅标准教科书，例如 Walters (1982)
This definition is rather abstract and difficult to grasp but fortunately it is not needed by most economists	这个定义相当抽象且难以理解，但幸运的是大多数经济学家不需要它
We will first describe the properties of ergodic series which are relevant for our needs and follow with the more rigorous technical definitions	我们将首先描述与我们的需求相关的遍历级数的特征，然后是更严格的技术定义
For proofs of the results see Section 14.47	有关结果的证明，请参阅第 14.47 节
First, many standard time series processes can be shown to be ergodic	首先，许多标准时间序列过程可以被证明是遍历的
Second, ergodicity, like stationarity, is preserved by transformation	其次，遍历性与平稳性一样，通过变换得以保留
As an example, the infinite-order moving average transformation (14.3) is ergodic if the input is ergodic and the coefficients are absolutely convergent	例如，如果输入是遍历的且系数绝对收敛，则无限阶移动平均变换 (14.3) 是遍历的
We now present a useful property	我们现在提出一个有用的特征
It is that the Cesàro sum of the autocovariances limits to zero	自协方差的 Cesàro 和极值为零
The result (14.4) can be interpreted as that the autocovariances "on average" tend to zero	结果 (14.4) 可以解释为自协方差“平均”趋于零
The reason why (14.4) is particularly useful is because it is sufficient for the WLLN as we discover later in Theorem 14.9	(14.4) 特别有用的原因是它对于 WLLN 来说是足够的，正如我们稍后在定理 14.9 中发现的那样
We now give the formal definition of ergodicity for interested readers	现在我们为感兴趣的读者给出遍历性的正式定义
As the concepts will not be used again most readers can safely skip this discussion	由于这些概念不会再次使用，大多数读者可以安全地跳过此讨论
An important technical result is that ergodicity is equivalent to the following property	一个重要的技术成果是遍历性等价于以下性质
This result is rather deep so we do not prove it here	这个结果比较深，所以这里不证明
We discuss mixing in Section 14.12	我们在 14.12 节中讨论混合
Ergodic Theorem	遍历定理
The ergodic theorem is one of the most famous results in time series theory	遍历定理是时间序列理论中最著名的结果之一
Theorem 14.9 Ergodic Theorem	定理14.9 遍历定理
The ergodic theorem shows that ergodicity is sufficient for consistent estimation	遍历定理表明遍历性足以进行一致估计
A proof which relaxes this assumption is provided in Section 14.47	第 14.47 节提供了放宽这一假设的证明
This is a rather intruiging expression	这是一个比较耐人寻味的表达方式
Conditioning on Information Sets	以信息集为条件
In the past few sections we have introduced the concept of the infinite histories	在过去的几节中，我们介绍了无限历史的概念
We now consider conditional expectations given infinite histories	我们现在考虑给定无限历史的条件期望
When outcomes are infinite histories then events are collections of such histories and a probability law is a rule which assigns numbers to collections of infinite histories	当结果是无限历史时，事件就是这些历史的集合，而概率定律就是为无限历史的集合分配数字的规则
Now we wish to define a conditional expectation given an infinite past history	现在我们希望在给定无限的过去历史的情况下定义条件期望
Thus the conditional expectation is well defined	因此，条件期望是明确定义的
In this textbook we have avoided measure-theoretic terminology to keep the presentation accessible, and because it is my belief that measure theory is more distracting than helpful	在这本教科书中，我们避免使用测度论术语，以保持演示的易懂性，因为我相信测度论更多的是分散注意力而不是有帮助
Second, it is important to be precise about which variables are contained in the information set	其次，准确了解信息集中包含哪些变量非常重要
Third, the conditional expectations (14.10) follow the law of iterated expectations and the conditioning theorem, thus	第三，条件期望（14.10）遵循迭代期望定理和条件定理，因此
Martingale Difference Sequences	鞅差分序列
An important concept in economics is unforecastability, meaning that the conditional expectation is the unconditional expectation	经济学中的一个重要概念是不可预测性，即有条件期望就是无条件期望
An unforecastable process is called a martingale difference sequence (MDS)	不可预测的过程称为鞅差分序列 (MDS)
Thus a MDS is mean zero	因此 MDS 的平均值为零
However, it is best to explicitly specify the information sets so there is no confusion	但是，最好明确指定信息集，以免造成混淆
shock is a MDS as claimed	因此，i.i.d.正如所声称的那样，休克是一种MDS
An important property of a square integrable MDS is that it is serially uncorrelated	平方可积 MDS 的一个重要特征是它是序列不相关的
Thus the autocovariances and autocorrelations are zero	因此自协方差和自相关为零
We have proved the following	我们已经证明了以下事实
Another important special case is a homoskedastic martingale difference sequence	另一个重要的特例是同方差鞅差分序列
A homoskedastic MDS should more properly be called a conditionally homoskedastic MDS because the property concerns the conditional distribution rather than the unconditional	同方差 MDS 应该更恰当地称为条件同方差 MDS，因为该特征涉及条件分布而不是无条件分布
A homoskedatic MDS is analogous to a conditionally homoskedastic regression error	同方差 MDS 类似于条件同方差回归误差
sequence is a homoskedastic MDS and the latter is a MDS	序列是同方差MDS，后者是MDS
The reverse is not the case	反之则不然
One way to think about the difference between MDS and i.i.d. shocks is in terms of forecastability	思考 MDS 和 i.i.d 之间差异的一种方法是：冲击是在可预测性方面
A MDS is unforecastable in the mean but other moments may be forecastable	MDS 总体上是不可预测的，但其他时候可能是可以预测的
A good reference for this class of models is Campbell, Lo, and MacKinlay (1997)	Campbell、Lo 和 MacKinlay (1997) 是此类模型的一个很好的参考
CLT for Martingale Differences	马丁格尔差异的 CLT
We are interested in an asymptotic approximation for the distribution of the normalized sample mean	我们对归一化样本均值分布的渐近近似感兴趣
assumption has been replaced by the assumption of a strictly stationarity and ergodic MDS	唯一的区别是 i.i.d.假设已被严格平稳性和遍历 MDS 的假设所取代
To illustrate the role of the MDS assumption we give a sketch of the proof in Section 14.47	为了说明 MDS 假设的作用，我们在第 14.47 节中给出了证明的草图
Mixing	混合
For many results, including a CLT for correlated (non-MDS) series, we need a stronger restriction on the dependence between observations than ergodicity	对于许多结果，包括相关（非 MDS）序列的 CLT，我们需要对观测值之间的依赖性比遍历性进行更强的约束
This means that as the time separation increases between the information sets, the degree of dependence decreases, eventually reaching independence	这意味着随着信息集之间的时间间隔增加，依赖程度降低，最终达到独立
From the Theorem of Cesàro Means (Theorem A.4 of Probability and Statistics for Economists), strong mixing implies (14.5) which is equivalent to ergodicity	根据塞萨罗均值定理（经济学家概率与统计定理 A.4），强混合意味着 (14.5) 相当于遍历性
Thus a mixing process is ergodic	因此混合过程是遍历的
An intuition concerning mixing can be colorfully illustrated by the following example due to Halmos (1956)	Halmos (1956) 的以下示例可以生动地说明有关混合的直觉
If so, this is a mixing process	如果是这样，这就是一个混合过程
There are alternative measures of dependence beyond (14.13) and many have been proposed	除了（14.13）之外，还有其他替代的依赖度量，并且已经提出了许多替代度量
One reason why mixing is useful for applications is that it is preserved by transformations	混合对应用程序有用的原因之一是它通过转换得以保留
A limitation of the above result is that it is confined to a finite number of lags unlike the transformation results for stationarity and ergodicity	上述结果的局限性在于，与平稳性和遍历性的变换结果不同，它仅限于有限数量的滞后
Mixing can be a useful tool because of the following inequalities	由于以下不等式，混合可能是一个有用的工具
The proof is given in Section 14.47	第 14.47 节给出了证明
Our next result follows fairly directly from the definition of mixing	我们的下一个结果相当直接地来自混合的定义
CLT for Correlated Observations	相关观测的 CLT
In (14.8) we found that in the scalar case	在(14.8)中我们发现在标量情况下
where the convergence holds by the Theorem of Cesàro Means if the limit in (14.16) is convergent	其中，如果 (14.16) 中的极限收敛，则塞萨罗均值定理收敛
It turns out that these conditions are sufficient for the CLT	事实证明，这些条件对于 CLT 来说已经足够了
Linear Projection	线性投影
In Chapter 2 we extensively studied the properties of linear projection models	在第二章中，我们广泛研究了线性投影模型的特征
The property (14.18) implies that the projection errors are serially uncorrelated	特征 (14.18) 意味着投影误差是序列不相关的
White Noise	白噪声
This describes what is known as a white noise process	这描述了所谓的白噪声过程
It is helpful to observe that a white noise process can be conditionally heteroskedastic as the conditional variance is unrestricted	观察白噪声过程可以是条件异方差的是有帮助的，因为条件方差不受约束
The Wold Decomposition	世界分解
Since any covariance stationary process can be written in this format this justifies linear models as approximations	由于任何协方差平稳过程都可以用这种形式编写，这证明了线性模型作为近似值是合理的
This series is strictly stationary, mean zero, and variance one	该序列是严格平稳的，均值为零，方差为一
In practical applied time series analysis, deterministic components are typically excluded by assumption	在实际应用的时间序列分析中，确定性成分通常被假设排除
In this case the Wold decomposition has a simpler form	在这种情况下，Wold 分解具有更简单的形式
A limitation of the Wold decomposition is the restriction to linearity	Wold 分解的一个局限性是对线性的约束
While it shows that there is a valid linear approximation, it may be that a nonlinear model provides a better approximation	虽然它表明存在有效的线性近似，但非线性模型可能提供更好的近似
Lag Operator	滞后算子
An algebraic construct which is useful for the analysis of time series models is the lag operator	对于分析时间序列模型有用的代数构造是滞后算子
Using the lag operator the Wold decomposition can be written in the format	使用滞后算子，Wold 分解可以写成以下形式
Autoregressive Wold Representation	自回归 Wold 表示
It turns out that to obtain a unique and convergent representation we need a strengthening of the conditions	事实证明，为了获得独特且收敛的表示，我们需要加强条件
Linear Models	线性模型
In the previous two sections we showed that any non-deterministic covariance stationary time series has the projection representation	在前两节中，我们表明任何非确定性协方差平稳时间序列都具有投影表示
and under a restriction on the projection coefficients satisfies the autoregressive representation	并且在投影系数的约束下满足自回归表示
These representations help us understand that linear models can be used as approximations for stationary time series	这些表示帮助我们理解线性模型可以用作平稳时间序列的近似值
For the next several sections we reverse the analysis	在接下来的几节中，我们将进行反向分析
In particular, it allows for conditional heteroskedasticity	特别是，它允许条件异方差
Moving Average Processes	移动平均流程
The first-order moving average process, denoted MA(1), is	一阶移动平均过程，表示为 MA(1)，为
Thus the MA(1) process has a non-zero first autocorrelation with the remainder zero	因此，MA(1) 过程具有非零第一自相关且余数为零
The serial correlation is limited in that observations separated by multiple periods are mutually independent	序列相关性是有限的，因为由多个周期分隔的观测值是相互独立的
Infinite-Order Moving Average Process	无限阶移动平均过程
Figure 14.3: White Noise and MA(8)	图 14.3：白噪声和 MA(8)
First-Order Autoregressive Process	一阶自回归过程
The first-order autoregressive process, denoted AR(1), is	一阶自回归过程，表示为 AR(1)，为
The AR(1) model is probably the single most important model in econometric time series analysis	AR(1) 模型可能是计量经济时间序列分析中最重要的模型
Figure 14.4: AR(1) Processes	图 14.4：AR(1) 流程
Our first goal is to obtain conditions under which (14.25) is stationary	我们的第一个目标是获得 (14.25) 平稳的条件
Now suppose we continue this recursion into the infinite past	现在假设我们继续这种递归到无限的过去
The limit is provided by the following well-known result	该极限由以下众所周知的结果提供
One way to calculate the moments is as follows	计算力矩的一种方法如下
We can also express the AR(1) process using the lag operator notation:	我们还可以使用滞后算子符号来表达 AR(1) 过程：
This suggests an alternative way of obtaining the representation (14.27)	这提出了另一种获得表示的方法（14.27）
Substituted into (14.29) we obtain	代入 (14.29) 我们得到
This illustrates another important concept	这说明了另一个重要的概念
Invertibility turns out to be a useful property	可逆性被证明是一个有用的特征
Unit Root and Explosive AR(1) Processes	单位根和爆炸 AR(1) 过程
This is also called a unit root process, a martingale, or an integrated process	这也称为单位根过程、鞅或积分过程
The stochastic behavior of a random walk is noticably different from a stationary AR(1) process	随机游走的随机行为与平稳 AR(1) 过程明显不同
The difference is that a random walk will take a very large number of time periods to "revert"	不同之处在于随机游走将需要大量的时间段才能“恢复”
Figure 14.5: Random Walk Processes	图 14.5：随机游走过程
While aggregate time series such as the GDP process displayed in Figure 14.1 (a) exhibit a similar exponential growth pattern, the exponential growth can typically be removed by taking logarithms	虽然聚合时间序列（例如图 14.1（a）中显示的 GDP 过程）表现出类似的指数增长模式，但指数增长通常可以通过取对数来消除
Second-Order Autoregressive Process	二阶自回归过程
The dynamic patterns of an AR(2) process are more complicated than an AR(1) process	AR(2)过程的动态模式比AR(1)过程更复杂
As a motivating example consider the multiplier-accelerator model of Samuelson (1939)	作为一个激励性的例子，请考虑 Samuelson (1939) 的乘数-加速器模型
Using the lag operator we can write (14.31) as	使用滞后运算符，我们可以将 (14.31) 写为
Take the Samuelson multiplier-accelerator model (14.32)	采用萨缪尔森乘数加速器模型 (14.32)
For this reason the dynamic patterns of an AR(2) can be much more complicated than those of an AR(1)	因此，AR(2) 的动态模式可能比 AR(1) 的动态模式复杂得多
Again, take the Samuelson multiplier-accelerator model (14.32)	再次采用萨缪尔森乘数加速器模型 (14.32)
Figure 14.7: AR(2) Processes	图 14.7：AR(2) 流程
These coefficients produce complex factors so the process displays oscillations	这些系数会产生复杂的因素，因此过程会出现振荡
AR(p) Processes	AR(p) 流程
We have the following characterization of the moving average coefficients	我们对移动平均系数有以下描述
Impulse Response Function	脉冲响应函数
The coefficients of the moving average representation	移动平均表示的系数
are known among economists as the impulse response function (IRF)	经济学家将其称为脉冲响应函数 (IRF)
There are two methods which we now describe	我们现在描述两种方法
The first uses a simple recursion	第一个使用简单的递归
This recursion is conveniently calculated by the following simulation	通过以下模拟可以方便地计算该递归
A second method uses the vector representation (14.33) of the AR(p) model with coefficient matrix (14.40)	第二种方法使用带有系数矩阵 (14.40) 的 AR(p) 模型的向量表示 (14.33)
As mentioned at the beginning of the section it is often desirable to scale the IRF so that it is the response to a one-deviation shock	正如本节开头提到的，通常需要缩放 IRF，以便它能够响应单误差冲击
ARMA and ARIMA Processes	ARMA 和 ARIMA 过程
The autoregressive-moving-average process, denoted ARMA(p,q), is	自回归移动平均过程表示为 ARMA(p,q)，为
Mixing Properties of Linear Processes	线性过程的混合特性
There is a considerable probability literature investigating the mixing properties of time series processes	有大量概率文献研究时间序列过程的混合特性
In fact, a simple AR(1) is not necessarily mixing	事实上，简单的AR(1)不一定是混合
A useful characterization was provided by Pham and Tran (1985)	Pham 和 Tran (1985) 提供了有用的表征
This rules out Andrews' counter-example	这排除了安德鲁斯的反例
The primary message from this section is that linear processes, including autoregressive and ARMA processes, are mixing if the innovations satisfy suitable conditions	本节的主要信息是，如果创新满足适当的条件，则线性过程（包括自回归和 ARMA 过程）就会混合
The mixing coefficients decay at rates related to the decay rates of the moving average coefficients	混合系数以与移动平均系数的衰减率相关的速率衰减
The parameters of a model are identified if the parameters are uniquely determined by the probability distribution of the observations	如果模型的参数是由观测值的概率分布唯一确定的，则可以识别模型的参数
In contrast, AR models are generally identified	相比之下，AR模型普遍被识别
Let us start with the MA(1) model	让我们从 MA(1) 模型开始
It has first-order autocorrelation	具有一阶自相关性
The standard solution is to select the parameter which produces an invertible moving average polynomial	标准解决方案是选择产生可逆移动平均多项式的参数
This may be sensible when there is reason to believe that shocks have their primary impact in the contemporaneous period and secondary (lesser) impact in the second period	当有理由相信冲击在同期产生主要影响并在第二个时期产生次要（较小）影响时，这可能是明智的
Now consider the MA(2) model	现在考虑 MA(2) 模型
The moving average polynomial can be factored as	移动平均多项式可以分解为
This analysis extends to the MA(q) model	该分析扩展到 MA(q) 模型
The factors of the MA polynomial can be replaced by their inverses and consequently the coefficients are not identified	MA 多项式的因子可以用其倒数代替，因此无法识别系数
The standard solution is to confine attention to MA(q) models with invertible roots	标准解决方案是将注意力集中在具有可逆根的 MA(q) 模型上
This solution corresponds to the Wold decomposition, as it is defined in terms of the projection errors which correspond to the invertible representation	该解对应于 Wold 分解，因为它是根据对应于可逆表示的投影误差来定义的
A deeper identification failure occurs in ARMA models	ARMA 模型中出现了更深层次的识别失败
Written in lag operator notation	用滞后运算符符号写成
This extends to higher order ARMA models	这扩展到更高阶的 ARMA 模型
Thus all these models are identical and hence the coefficients are not identified	因此，所有这些模型都是相同的，因此系数未被识别
The problem is called "cancelling roots" due to the fact that it arises when there are two identical lag polynomial factors in the AR and MA polynomials	该问题称为“消根”，因为当 AR 和 MA 多项式中存在两个相同的滞后多项式因子时就会出现该问题
The standard solution in the ARMA literature is to assume that there are no cancelling roots	ARMA 文献中的标准解决方案是假设不存在抵消根
One recommendation is to be careful when using ARMA models and be aware that highly parameterized models may not have unique coefficients	一项建议是在使用 ARMA 模型时要小心，并注意高度参数化的模型可能没有唯一的系数
This is a linear projection model	这是一个线性投影模型
We conclude that any approximating AR(p) is identified	我们得出结论，任何近似 AR(p) 都已被识别
Estimation of Autoregressive Models	自回归模型的估计
The least squares estimator is	最小二乘估计量为
This shows that under very mild conditions the coefficients of an AR(p) model can be consistently estimated by least squares	这表明在非常温和的条件下，AR(p) 模型的系数可以通过最小二乘法一致地估计
It holds for any stationary process with the coefficient defined by projection	它适用于具有由投影定义的系数的任何平稳过程
Asymptotic Distribution of Least Squares Estimator	最小二乘估计的渐近分布
In this section we derive the asymptotic distribution under the assumption of correct specification	在本节中，我们在正确设定的假设下推导渐近分布
This is identical in form to the asymptotic distribution of least squares in cross-section regression	这在形式上与横截面回归中最小二乘的渐近分布相同
In particular, the asymptotic covariance matrix is estimated just as in the cross-section case	特别是，渐近协方差矩阵的估计就像在横截面情况下一样
Distribution Under Homoskedasticity	同方差下的分布
In cross-section regression we found that the covariance matrix simplifies under the assumption of conditional homoskedasticity	在横截面回归中，我们发现协方差矩阵在条件同方差的假设下得到简化
and the asymptotic distribution simplifies	并且渐近分布得到简化
These results show that under correct specification (a MDS error) the format of the asymptotic distribution of the least squares estimator exactly parallels the cross-section case	这些结果表明，在正确的设定（MDS 误差）下，最小二乘估计量的渐近分布形式与横截面情况完全平行
This means that we can expect (from advanced statistical theory) asymptotic inference to be less accurate than indicated by nominal levels	这意味着我们可以预期（根据高级统计理论）渐近推断的准确度低于标称水平所示的准确度
In the context of cross-section data we argued that the homoskedasticity assumption was dubious except for occassional theoretical insight	在横截面数据的背景下，我们认为除了偶尔的理论见解外，同方差假设是可疑的
Therefore in applications it is better to use the heteroskedasticityrobust distributional theory when possible	因此在应用中最好尽可能使用异方差稳健分布理论
Unfortunately, many existing time series textbooks report the distribution theory from (14.31)	不幸的是，许多现有的时间序列教科书都报道了（14.31）中的分布理论
Asymptotic Distribution Under General Dependence	一般依赖下的渐近分布
This result is substantially different from the cross-section case	这个结果与横截面情况有很大不同
Under the assumption of correct specification covariance matrix estimation is identical to the crosssection case	在正确设定的假设下，协方差矩阵估计与横截面情况相同
The heteroskedasticity-robust asymptotic covariance matrix estimator is	异方差稳健渐近协方差矩阵估计量为
Degree-of-freedom adjustments may be made as in the cross-section case though a theoretical justification has not been developed	尽管尚未开发出理论依据，但可以像横截面情况一样进行自由度调整
This means that for stationary autoregressions, inference can proceed using conventional regression methods	这意味着对于平稳自回归，可以使用传统的回归方法进行推断
Covariance Matrix Estimation Under General Dependence	一般依赖下的协方差矩阵估计
The appropriate class of estimators are called Heteroskedasticity and Autocorrelation Consistent (HAC) or Heteroskedasticity and Autocorrelation Robust (HAR) covariance matrix estimators	适当类别的估计量称为异方差和自相关一致 (HAC) 或异方差和自相关稳健 (HAR) 协方差矩阵估计量
Hansen (1982) for the generalized method of moments	该估计量由 L. Hansen 和 Hodrick (1980) 在多周期预测的背景下提出，并由 L. Hansen (1982) 在广义矩方法中提出
These two deficiencies can be resolved if we amend (14.49) by a weighted sum of autocovariances	如果我们通过自协方差的加权和来修正（14.49），这两个缺陷就可以得到解决
This is a weighted sum of the autocovariances	这是自协方差的加权和
Thus this estimator solves the two problems described above	因此，该估计量解决了上述两个问题
The assumption on the mixing coefficients is slightly stronger than in Theorem 14.32, due to the technical nature of the derivation	由于推导的技术性质，混合系数的假设比定理 14.32 中的假设稍强
Testing the Hypothesis of No Serial Correlation	检验无序列相关的假设
The test can be implemented by a Wald or F test	检验可以通过Wald检验或F检验来实现
(The Newey-West estimator should not be used as there is no serial correlation under the null hypothesis.) Accept the hypothesis if the test statistic is smaller than a conventional critical value (or if the p-value exceeds the significance level) and reject the hypothesis otherwise	）如果检验统计量小于常规临界值（或者 p 值超过显著性水平），则接受假设并拒绝否则假设
Thus include four lags for quarterly data or twelve lags for monthly data	因此，季度数据包含四个滞后，月度数据包含十二个滞后
Testing for Omitted Serial Correlation	检验遗漏的串行相关性
When using an AR(p) model it may be of interest to know if there is any remaining serial correlation	使用 AR(p) 模型时，可能有兴趣了解是否存在任何剩余的序列相关性
One approach to obtain the correct asymptotic distribution is to use the generalized method of moments, treating (14.52)-(14.53) as a two-equation just-identified system	获得正确渐近分布的一种方法是使用广义矩方法，将 (14.52)-(14.53) 视为二方程刚辨识系统
An easier solution is to re-write (14.52)-(14.53) as a higher-order autoregression so that we can use a standard test statistic	一个更简单的解决方案是将 (14.52)-(14.53) 重写为高阶自回归，以便我们可以使用标准检验统计量
Otherwise we accept the hypothesis that the AR(p) model is correctly specified	否则我们接受 AR(p) 模型被正确指定的假设
Another way of deriving the test is as follows	导出检验的另一种方法如下
While this discussion is all good fun, it is unclear if there is good reason to use the test described in this section	虽然这个讨论很有趣，但尚不清楚是否有充分的理由使用本节中描述的检验
One is described in the following section	下一节将介绍其中之一
Model Selection	选型
By selecting the model with the smallest value of the AIC you select the model with the smallest estimated divergence - the highest estimated fit between the estimated and true densities	通过选择 AIC 值最小的模型，你可以选择估计差异最小的模型，即估计密度和真实密度之间的最高估计拟合度
The AIC is also a monotonic transformation of an estimator of the one-step-ahead forecast mean squared error	AIC 也是一步超前预测均方误差估计量的单调变换
Thus selecting the model with the smallest value of the AIC you are selecting the model with the smallest estimated forecast error	因此，选择 AIC 值最小的模型，你就选择了估计预测误差最小的模型
The AIC of an estimated regression model can be displayed in Stata by using the estimates stats command	可以使用estimates stats命令在Stata中显示估计回归模型的AIC
Illustrations	说明
rates are positively correlated from quarter to quarter, but only mildly so, and most of the correlation is captured by the first lag	每个季度的利率都呈正相关，但只是轻微的正相关，并且大部分相关性是由第一滞后捕获的
Here, we report heteroskedasticity-robust standard errors	在这里，我们报告异方差稳健的标准误差
The third example is the first difference of CPI inflation (first difference of growth rate of cpiaucsl)	第三个例子是CPI通胀一阶差分（cpiaucsl增长率一阶差分）
There are meaningful differences only for the lower order AR models	仅对于低阶 AR 模型存在有意义的差异
Time Series Regression Models	时间序列回归模型
Least squares regression methods can be used broadly with stationary time series	最小二乘回归方法可广泛用于平稳时间序列
Furthermore, it is necessary to be aware of the serial correlation properties of the series involved, and to use the appropriate covariance matrix estimator when the dynamics have not been explicitly modeled	此外，有必要了解所涉及序列的序列相关特征，并在动态尚未明确建模时使用适当的协方差矩阵估计量
The coefficient vector is defined by projection and therefore equals	系数向量由投影定义，因此等于
However, under the stronger assumption that the error is a MDS the asymptotic covariance matrix simplifies	然而，在误差是 MDS 的更强假设下，渐近协方差矩阵会简化
This means we can apply the MDS CLT to obtain the asymptotic distribution	这意味着我们可以应用 MDS CLT 来获得渐近分布
We summarize this discussion with the following formal statement	我们通过以下正式声明总结了这次讨论
Static, Distributed Lag, and Autoregressive Distributed Lag Models	静态、分布滞后和自回归分布滞后模型
In this section we describe standard linear time series regression models	在本节中，我们描述标准线性时间序列回归模型
The simplest regression model is the static equation	最简单的回归模型是静态方程
If this regression is estimated it is important that the standard errors be calculated using the Newey-West method to account for serial correlation in the error	如果估计此回归，则重要的是使用 Newey-West 方法计算标准误差，以考虑误差中的序列相关性
A model which allows the regressor to have impact over several periods is called a distributed lag (DL) model	允许自变量在多个时期内产生影响的模型称为分布式滞后 (DL) 模型
It is also necessary to use Newey-West standard errors to account for the serial correlation	还需要使用 Newey-West 标准误差来解释序列相关性
A more complete model combines autoregressive and distributed lags	更完整的模型结合了自回归和分布式滞后
This is called an autoregressive distributed lag (AR-DL) model	这称为自回归分布式滞后 (AR-DL) 模型
In an AR-DL specification the long-run multiplier is	在 AR-DL 设定中，长期乘数为
which is a nonlinear function of the coefficients	这是系数的非线性函数
Time Trends	时间趋势
Many economic time series have means which change over time	许多经济时间序列都具有随时间变化的均值
The trend component is often modeled as a linear function in the time index	趋势成分通常被建模为时间指数中的线性函数
or a quadratic function in time	或时间的二次函数
These models are typically not thought of as being literally true but rather as useful approximations	这些模型通常不被认为是字面上真实的，而是被认为是有用的近似值
Consequently these should not be interpreted outside of how the time index is defined	因此，不应在时间标引的定义方式之外对这些进行解释
One traditional way of dealing with time trends is to "detrend" the data	处理时间趋势的一种传统方法是对数据进行“去趋势化”
the coefficients are estimated by least squares	系数通过最小二乘法估计
More intricate methods can be used but they have a similar flavor	可以使用更复杂的方法，但它们具有相似的味道
To understand the properties of the detrending method we can apply an asymptotic approximation	为了理解去趋势方法的特征，我们可以应用渐近近似
The rates of convergence change but this does not affect anything of practical importance	收敛速度发生了变化，但这并不影响任何具有实际意义的事情
Let us demonstrate that the least squares estimator of the coefficients in (14.57) is consistent	让我们证明 (14.57) 中系数的最小二乘估计是一致的
We need to study the behavior of the sums in the design matrix	我们需要研究设计矩阵中总和的行为
An alternative is to include a time trend in the estimated regression	另一种方法是在估计的回归中包含时间趋势
Estimation by least squares is equivalent to estimation after linear detrending by the FWL theorem	通过最小二乘估计相当于通过 FWL 定理线性去趋势后的估计
Inclusion of a linear (and possibly quadratic) time trend in a regression model is typically the easiest method to incorporate time trends	在回归模型中包含线性（可能是二次）时间趋势通常是合并时间趋势的最简单方法
We illustrate the models described in the previous section using a classical Phillips curve for inflation prediction	我们使用经典的菲利普斯曲线进行通货膨胀预测来说明上一节中描述的模型
This specification relates the change in inflation in a given period to the level of the unemployment rate in the previous period	该设定将给定时期的通货膨胀变化与上一时期的失业率水平联系起来
The least squares estimate of (14.58) using U.S. quarterly series from FRED-QD is reported in the first column of Table 14.3	表 14.3 的第一列报告了使用 FRED-QD 的美国季度序列得出的最小二乘估计值 (14.58)
The estimate is consistent with a small effect of the unemployment rate on the inflation rate but it is not precisely estimated	该估计与失业率对通货膨胀率的微小影响一致，但并未精确估计
A distributed lag (DL) model takes the form	分布式滞后 (DL) 模型采用以下形式
The least squares estimate of (14.59) is reported in the second column of Table 14.3	表 14.3 的第二列报告了最小二乘估计 (14.59)
It implies that an increase in the unemployment rate by 5 percentage points (a typical recession) decreases the long-run annual inflation rate by about a half of a percentage point	这意味着失业率上升 5 个百分点（典型的衰退）会使长期年通胀率降低约半个百分点
An AR-DL takes the form	AR-DL 采用以下形式
The point estimate of the long-run multiplier is also nearly identical but with a smaller standard error	长期乘数的点估计也几乎相同，但标准误差较小
Granger Causality	格兰杰因果关系
This definition of causality was developed by Granger (1969) and Sims (1972)	因果关系的定义是由 Granger (1969) 和 Sims (1972) 提出的
The reason why we call this "Granger causality" rather than "causality" is because this is not a structural definition	我们之所以称其为“格兰杰因果关系”而不是“因果关系”，是因为这不是一个结构性定义
An alternative label is "predictive causality"	另一个标签是“预测因果关系”
Table 14.3: Phillips Curve Regressions	表 14.3：菲利普斯曲线回归
The definition can alternatively be written in terms of conditional expectations rather than projections	该定义也可以用条件期望而不是预测来编写
Granger causality can be tested in AR-DL models using a standard Wald or F test	可以使用标准 Wald 或 F 检验在 AR-DL 模型中检验 Granger 因果关系
The test rejects the hypothesis (and thus finds evidence of Granger causality) if the statistic is larger than the critical value (if the p-value is small) and fails to reject the hypothesis (and thus finds no evidence of causality) if the statistic is smaller than the critical value	小于临界值
This is statistically significant at any conventional level so we can conclude that the unemployment rate has a predictively causal impact on inflation	这在任何传统水平上都具有统计显著性，因此我们可以得出结论，失业率对通货膨胀具有预测性因果影响
Granger causality should not be interpreted structurally outside the context of an economic model	格兰杰因果关系不应在经济模型的背景下进行结构性解释
The coefficients on the lagged stock price growth rates are small in magnitude but the first lag appears statistically significant	滞后股价增长率的系数幅度很小，但第一次滞后似乎具有统计显著性
Thus stock prices move in advance of actual economic activity but are not necessarily structurally causal	因此，股票价格的变动先于实际经济活动，但不一定具有结构性因果关系
Testing for Serial Correlation in Regression Models	回归模型中的序列相关性检验
Consider the problem of testing for omitted serial correlation in an AR-DL model such as	考虑在 AR-DL 模型中检验遗漏的序列相关性的问题，例如
Therefore this approach is not recommended	因此不推荐这种方法
The second approach is to combine equations (14.61)-(14.62) into a single model and execute the test as a restriction within this model	第二种方法是将方程（14.61）-（14.62）组合成单个模型，并作为该模型内的约束执行检验
This test has a conventional asymptotic distribution so is simple to implement	该检验具有传统的渐近分布，因此易于实现
The basic message is that testing for omitted serial correlation can be implement in regression models by estimating and contrasting different dynamic specifications	基本信息是，通过估计和对比不同的动态设定，可以在回归模型中实现对遗漏序列相关性的检验
Bootstrap for Time Series	时间序列的 Bootstrap
Recall that the bootstrap approximates the sampling distribution of estimators and test statistics by the empirical distribution of the observations	回想一下，引导程序通过观测的经验分布来近似估计量的抽样分布和检验统计量
For dependent observations alternative methods should be used	对于相关观测，应使用替代方法
Bootstrapping for time series is considerably more complicated than the cross section case	时间序列的引导比横截面情况复杂得多
One of the challenges is that theoretical justifications are more difficult to establish than in the independent observation case	挑战之一是理论依据比独立观测案例更难建立
In this section we describe the most popular methods to implement bootstrap resampling for time series data	在本节中，我们将描述对时间序列数据实现引导重采样的最流行的方法
Recursive Bootstrap	递归引导程序
Another limitation is that it is inappropriate for AR-DL models unless the conditioning variables are strictly exogenous	另一个局限是它不适合 AR-DL 模型，除非条件变量是严格外生的
There are alternative versions of this basic method	这种基本方法还有其他版本
This can improve precision when sample sizes are small but otherwise is not recommended	当样本量较小时，这可以提高精度，但在其他情况下不建议这样做
Pairwise Bootstrap	成对引导
This method may be useful when we are interested in the distribution of nonlinear functions of the coefficient estimates and therefore desire an improvement on the Delta Method approximation	当我们对系数估计的非线性函数的分布感兴趣并因此希望对 Delta 方法近似进行改进时，此方法可能很有用
Fixed Design Residual Bootstrap	固定设计残差自举
This construction is similar to the pairwise bootstrap but imposes an i.i.d. error	这种结构类似于成对引导，但强加了独立同分布
Fixed Design Wild Bootstrap	固定设计狂野引导程序
This construction is similar to the pairwise and fixed design bootstrap combined with the wild bootstrap	这种结构类似于成对固定设计引导程序与狂野引导程序的结合
This imposes the conditional mean assumption on the error but allows heteroskedasticity	这对误差施加了条件均值假设，但允许异方差
Block Bootstrap	块引导程序
This construction allows for arbitrary stationary serial correlation, heteroskedasticity, and modelmisspecification	这种结构允许任意平稳序列相关、异方差和模型误设
Thus the block bootstrap is a natural generalization of the nonparametric bootstrap	因此，块引导程序是非参数引导程序的自然推广
The second equality is Markov's inequality (B.36) and the following is the triangle inequality (B.1)	第二个不等式是马尔可夫不等式（B.36），接下来是三角不等式（B.1）
Proof of Theorem 14.4 See Theorem 14.14	定理 14.4 的证明 参见定理 14.14
Proof of Theorem 14.5 Strict stationarity follows from Theorem 14.2	定理 14.5 的证明 严格平稳性由定理 14.2 得出
Proof of Theorem 14.9 We show (14.6). (14.7) follows by Markov's inequality (B.36)	定理 14.9 的证明 我们展示 (14.6)
By the triangle inequality (B.1)	由三角不等式 (B.1)
By another application of the triangle inequality and (14.63)	通过三角不等式的另一个应用和 (14.63)
By Jensen's inequality (B.27), direct calculation, and (14.64)	通过 Jensen 不等式 (B.27)，直接计算，以及 (14.64)
The approximation in (14.70) is (14.68)	(14.70) 中的近似值为 (14.68)
This is why the MDS assumption cannot be easily replaced by a milder assumption such as white noise	这就是为什么 MDS 假设不能轻易地被更温和的假设（例如白噪声）取代
which is (14.73) as claimed	正如所声称的那样，它是（14.73）
The desired relationship (14.74) holds as follows	所需的关系 (14.74) 成立如下
Consider separately the cases of real roots and complex roots	分别考虑实根和复根的情况
Using the properties of the determinant (Theorem A.1.5)	使用行列式的性质（定理 A.1.5）
Multivariate Time Series	多元时间序列
VARs were introduced to econometrics by Sims (1980)	Sims (1980) 将 VAR 引入计量经济学
Some excellent textbooks and review articles on multivariate time series include Hamilton (1994), Watson (1994), Canova (1995), Lütkepohl (2005), Ramey (2016), Stock and Watson (2016), and Kilian and Lütkepohl (2017)	关于多元时间序列的一些优秀教科书和评论文章包括 Hamilton (1994)、Watson (1994)、Canova (1995)、Lütkepohl (2005)、Ramey (2016)、Stock 和 Watson (2016) 以及 Kilian 和 Lütkepohl (2017)
Multiple Equation Time Series Models	多方程时间序列模型
These two equations specify that each variable is a linear function of its own lag and the lag of the other variable	这两个方程指定每个变量都是其自身滞后和另一个变量滞后的线性函数
Thus a multivariate autoregression is a set of autoregressive distributed lag models	因此，多元自回归是一组自回归分布式滞后模型
The above derivation assumed a single lag	上述推导假设有一个滞后
Furthermore, there is nothing special about the two variable case	此外，两个变量的情况没有什么特别的
The VAR model falls in the class of multivariate regression models studied in Chapter 11	VAR 模型属于第 11 章中研究的多元回归模型类别
In the following several sections we take a step back and provide a rigorous foundation for vector autoregressions for stationary time series	在下面的几个部分中，我们退后一步，为平稳时间序列的向量自回归提供严格的基础
The uncorrelatedness of the projection errors is a property of a multivariate white noise process	投影误差的不相关性是多元白噪声过程的一个特征
Multivariate Wold Decomposition	多元世界分解
We can write the moving average representation using the lag operator notation as	我们可以使用滞后运算符符号将移动平均表示形式写为
The series in (15.4) is convergent	(15.4) 中的级数是收敛的
For a proof see Section 2 of Meyer and Kreiss (2015)	证明请参见 Meyer 和 Kreiss (2015) 的第 2 节
We can also provide an analog of Theorem 14.6	我们还可以提供定理 14.6 的模拟
While there is not a closed-form solution there is a simple recursion by which the coefficients may be calculated	虽然没有封闭式解决方案，但可以通过简单的递归来计算系数
Impulse Response	脉冲响应
Recall the multivariate Wold representation	回想一下多元 Wold 表示
Here we have defined the impulse response in terms of the linear projection operator	这里我们根据线性投影算子定义了脉冲响应
In a linear vector autoregression the impulse response function is symmetric in negative and positive innovations	在线性向量自回归中，脉冲响应函数在负创新和正创新中是对称的
The impulse response functions can be scaled as desired	脉冲响应函数可以根据需要缩放
In this latter case impulse response functions can be interpreted as responses due to a "typical" sized (one standard deviation) innovation	在后一种情况下，脉冲响应函数可以解释为由于“典型”大小（一个标准误差）创新而产生的响应
Closely related to the IRF is the cumulative impulse response function (CIRF) defined as	与 IRF 密切相关的是累积脉冲响应函数 (CIRF)，定义为
This is the full (summed) effect of the innovation over all time	这是历年来创新的全部（总和）效果
In fact, in this context many authors will label the cumulative impulse response as "the impulse response"	事实上，在这种情况下，许多作者将累积脉冲响应标记为“脉冲响应”
VAR(1) Model	VAR(1)模型
The first-order vector autoregressive process, denoted VAR(1), is	一阶向量自回归过程，表示为 VAR(1)，为
The proof is given in Section 15.31	第 15.31 节给出了证明
We can write the model using the lag operator notation as	我们可以使用滞后运算符符号将模型编写为
The condition for stationarity of the system can be expressed as a restriction on the roots of the determinantal equation of the autoregressive polynomial	系统平稳性的条件可以表示为对自回归多项式行列式方程根的约束
Regression Notation	回归符号
This is a multivariate regression model	这是一个多元回归模型
Estimation	预估
From Chapter 11 the systems estimator of a multivariate regression is least squares	从第 11 章开始，多元回归的系统估计量是最小二乘法
VAR models can be estimated in Stata using the var command	可以使用 var 命令在 Stata 中估计 VAR 模型
In words, these are the correct lags and there is no omitted nonlinearity	换句话说，这些是正确的滞后并且没有遗漏非线性
If we further strengthen the MDS assumption to conditional homoskedasticity	如果我们进一步将 MDS 假设强化为条件同方差
then the asymptotic variance simplifies as	那么渐近方差简化为
In contrast, if the VAR(p) is an approximation then the MDS assumption is not appropriate	相反，如果 VAR(p) 是近似值，则 MDS 假设不合适
In this case the asymptotic distribution can be derived under mixing conditions	在这种情况下，可以在混合条件下导出渐近分布
This theorem does not require that the true process is a VAR	该定理不要求真实过程是 VAR
The theorem shows that the coefficient estimators are asymptotically normal with a covariance matrix which takes a "long-run" sandwich form	该定理表明，系数估计量对于采用“长期”三明治形式的协方差矩阵是渐近正态的
Estimators adjusted for degree-of-freedom can also be used though there is no established finite-sample justification	尽管没有确定的有限样本合理性，但也可以使用针对自由度进行调整的估计量
The heteroskedasticity-robust estimator equals	异方差稳健估计量等于
Traditional textbooks have only used the homoskedastic variance estimation formula (15.9) and consequently existing software follows the same convention	传统教科书仅使用同方差估计公式（15.9），因此现有软件遵循相同的约定
The Newey-West estimator (15.11) is not commonly used for VAR models	Newey-West 估计量 (15.11) 并不常用于 VAR 模型
Asymptotic approximations tend to be much less accurate under time series dependence than for independent observations	与独立观测相比，渐近近似在时间序列依赖性下往往不太准确
Selection of Lag Length in an VAR	VAR 中滞后长度的选择
The log determinant is the criterion from the multivariate normal likelihood	对数行列式是多元正态似然的标准
In Stata the AIC for a set of estimated VAR models can be compared using the varsoc command	在 Stata 中，可以使用 varsoc 命令比较一组估计 VAR 模型的 AIC
This does not affect the ranking of the models but makes the differences between models appear misleadingly small	这不会影响模型的排名，但会使模型之间的差异显得很小，从而产生误导
We estimate a three-variable system which is a simplified version of a model often used to study the impact of monetary policy	我们估计一个三变量系统，这是经常用于研究货币政策影响的模型的简化版本
The coefficient estimates and (homoskedastic) standard errors for the VAR(6) are reported in Table 15.1	表 15.1 报告了 VAR(6) 的系数估计值和（同方差）标准误差
Examining the coefficients in the table we can see that GDP displays a moderate degree of serial correlation and shows a large response to the federal funds rate, especially at lags 2 and 3	检查表中的系数，我们可以看到 GDP 显示出中等程度的序列相关性，并对联邦基金利率显示出较大的响应，尤其是在滞后 2 和 3 时
Because of this difficulty it is typical to focus on other representations of the coefficient estimates such as impulse responses which we discuss in the upcoming sections	由于这一困难，通常将重点放在系数估计的其他表示上，例如我们将在接下来的部分中讨论的脉冲响应
Predictive Regressions	预测回归
In some contexts (including prediction) it is useful to consider models where the dependent variable is dated multiple periods ahead of the right-hand-side variables	在某些情况下（包括预测），考虑因变量的日期早于右侧变量多个周期的模型是有用的
There are several implications of this theorem	这个定理有几个含义
The predictive regression (15.12) can be estimated by least squares	预测回归（15.12）可以通过最小二乘法来估计
For a distributional theory we can apply Theorem 15.11	对于分布理论，我们可以应用定理 15.11
Impulse Response Estimation	脉冲响应估计
Reporting of impulse response estimates is one of the most common applications of vector autoregressive modeling	脉冲响应估计报告是矢量自回归建模最常见的应用之一
In this section we review the most common estimator based on the estimated VAR parameters	在本节中，我们将回顾基于估计 VAR 参数的最常见估计量
Within a VAR(p) model the impulse responses are determined by the VAR coefficients	在 VAR(p) 模型中，脉冲响应由 VAR 系数确定
This is the the most commonly used method for impulse response estimation and it is the method implemented in standard packages	这是脉冲响应估计最常用的方法，并且是在标准包中实现的方法
These can be used to form asymptotic confidence intervals for the impulse responses	这些可用于形成脉冲响应的渐近置信区间
The asymptotic approximations, however, can be poor	然而，渐近近似可能很差
Consequently, asymptotic approximations are less popular than bootstrap approximations	因此，渐近逼近不如自举逼近受欢迎
A disadvantage of this estimator is that it is a highly nonlinear function of the VAR coefficient estimators	该估计量的缺点是它是 VAR 系数估计量的高度非线性函数
Impulse response functions can be calculated and displayed in Stata using the irf command	可以使用 irf 命令在 Stata 中计算并显示脉冲响应函数
Better options such as the bias-corrected percentile confidence interval are not provided as options	未提供更好的选项（例如偏误校正百分位数置信区间）
Local Projection Estimator	局部投影估计量
Jordà (2005) observed that the impulse response can be estimated by a least squares predictive regression	Jordà (2005) 观察到脉冲响应可以通过最小二乘预测回归来估计
The method is as follows	方法如下
Newey-West methods must be used for calculation of asymptotic standard errors since the regression errors are serially correlated	由于回归误差是序列相关的，因此必须使用 Newey-West 方法来计算渐近标准误差
Jordà (2005) speculates that the local projection estimator will be less sensitive to misspecification since it is a straightforward linear estimator	Jordà (2005) 推测局部投影估计量对误设不太敏感，因为它是一个简单的线性估计量
Without a formal theory it is difficult to know which estimator is more robust than the other	如果没有正式的理论，就很难知道哪个估计量比另一个更稳健
An advantage of the local projection method is that it is a linear estimator of the impulse response and thus likely to have a better-behaved sampling distribution	局部投影方法的优点是它是脉冲响应的线性估计量，因此可能具有更好的采样分布
A disadvantage is that the method relies on a regression (15.12) that has serially correlated errors	缺点是该方法依赖于具有序列相关误差的回归（15.12）
Local projection estimators tend to be less smooth and more erratic than those produced by the conventional estimator reflecting a possible lack of precision	与传统估计量产生的估计量相比，局部投影估计量往往不太平滑且更不稳定，这反映出可能缺乏精度
Regression on Residuals	残差回归
This idea originated with Durbin (1960)	这个想法起源于 Durbin (1960)
This is a two-step estimator with generated regressors. (See Section 12.26.) The impulse response estimators are consistent and asymptotically normal but with a non-standard covariance matrix due to the two-step estimation	这是一个带有生成自变量的两步估计量
Conventional, robust, and Newey-West standard errors do not account for this without modification	如果不进行修改，传统的、稳健的和 Newey-West 标准误差无法解释这一点
Chang and Sakata (2007) proposed a simplified version of the Durbin regression	Chang 和 Sakata (2007) 提出了 Durbin 回归的简化版本
Similar to the Durbin regression the Chang-Sakata estimator is a two-step estimator with a generated regressor	与 Durbin 回归类似，Chang-Sakata 估计量是带有生成自变量的两步估计量
Chang and Sakata (2007) also point out the following implication of the FWL theorem	Chang 和 Sakata (2007) 还指出了 FWL 定理的以下含义
Thus the Chang-Sakata estimator is similar to a local projection estimator	因此，Chang-Sakata 估计量类似于局部投影估计量
Orthogonalized Shocks	正交冲击
We can use the impulse response function to examine how the innnovations impact the time-paths of the variables	我们可以使用脉冲响应函数来检查创新如何影响变量的时间路径
The natural solution is to orthogonalize the innovations so that they are uncorrelated and then view the orthogonalized errors as the fundamental "shocks"	自然的解决方案是对创新进行正交化，使它们不相关，然后将正交化误差视为根本的“冲击”
with non-negative diagonal elements	具有非负对角线元素
Equivalently, the innovations are related to the orthogonalized shocks by the equations	同样，创新与方程的正交冲击有关
When using the Cholesky decomposition the recursive structure is determined by the ordering of the variables in the system	当使用 Cholesky 分解时，递归结构由系统中变量的顺序确定
We will return to this issue later	我们稍后会回到这个问题
Finally, we mention that the system (15.15) is equivalent to the system	最后，我们提到系统（15.15）相当于系统
The representation (15.15) is more convenient, however, for most of our purposes	然而，对于我们的大多数目的来说，表示（15.15）更方便
Orthogonalized Impulse Response Function	正交脉冲响应函数
We can write the multivariate Wold representation as	我们可以将多元 Wold 表示写为
The cumulative orthogonalized impulse response function (COIRF) is	累积正交脉冲响应函数 (COIRF) 为
Orthogonalized Impulse Response Estimation	正交脉冲响应估计
We first estimate the VAR(p) model by least squares	我们首先通过最小二乘法估计 VAR(p) 模型
As discussed earlier, the asymptotic approximations can be quite poor	如前所述，渐近近似可能非常差
Consequently bootstrap approximations are more widely used than asymptotic methods	因此，自举近似比渐近方法使用更广泛
Orthogonalized impulse response functions can be displayed in Stata using the irf command	正交脉冲响应函数可以使用 irf 命令在 Stata 中显示
The bootstrap confidence intervals are calculated using the normal approximation bootstrap confidence interval	自举置信区间是使用正态近似自举置信区间计算的
To illustrate we use the three-variable system from Section 15.13	为了说明这一点，我们使用 15.13 节中的三变量系统
We use the estimated VAR(6) and calculate the orthogonalized impulse response functions using the standard VAR estimator	我们使用估计的 VAR(6) 并使用标准 VAR 估计量计算正交脉冲响应函数
Forecast Error Decomposition	预测误差分解
An alternative tool to investigate an estimated VAR is the forecast error decomposition which decomposes multi-step forecast error variances by the component shocks	研究估计 VAR 的另一种工具是预测误差分解，它通过成分冲击分解多步预测误差方差
The forecast error decomposition indicates which shocks contribute towards the fluctuations of each variable in the system	预测误差分解表明哪些冲击导致系统中每个变量的波动
Figure 15.1: Response of GDP Growth to Orthogonalized Fed Funds Shock	图 15.1：GDP 增长对正交联邦基金冲击的反应
It is defined as follows	它的定义如下
The variance of this forecast error is	该预测误差的方差为
A forecast error decomposition requires orthogonalized innovations	预测误差分解需要正交创新
The forecast error decomposition can be calculated and displayed in Stata using the irf command	可以使用 irf 命令在 Stata 中计算并显示预测误差分解
Identification of Recursive VARs	递归 VAR 的识别
As we have discussed, a common method to orthogonalize the VAR errors is the lower triangular Cholesky decomposition which implies a recursive structure	正如我们所讨论的，正交化 VAR 误差的常用方法是下三角 Cholesky 分解，它意味着递归结构
The ordering must be selected by the user; there is no data-dependent choice	订购必须由用户选择；不存在依赖于数据的选择
In order for impulse responses and forecast error decompositions to be interpreted causally the orthogonalization must be identified by the user based on a structural economic argument	为了对脉冲响应和预测误差分解进行因果解释，用户必须根据结构性经济论证来识别正交化
One approach is to order first the variables which are believed to be contemporaneously affected by the fewest number of shocks	一种方法是首先对被认为同时受到最少冲击影响的变量进行排序
By listing the federal funds rate last the model allows monetary policy to respond within a period to contemporeneous information about output and prices	通过将联邦基金利率列在最后，该模型允许货币政策在一段时间内对有关产出和价格的同期信息做出反应
In general, this line of reasoning suggests that production measures should be listed first, goods prices second, and financial prices last	总的来说，这种推理表明应该首先列出生产指标，其次列出商品价格，最后列出金融价格
In any situation it is best to be explicit about your choice and reasoning	在任何情况下，最好明确你的选择和推理
Returning to the empirical illustration it is fairly conventional to order the fed funds rate last	回到实证例证，将联邦基金利率放在最后是相当传统的
This is the ordering used in our example	这是我们示例中使用的顺序
In contrast, suppose that the aggregate supply curve is perfectly elastic in the short run	相反，假设总供给曲线在短期内是完全弹性的
If the choice between perfectly elastic and perfectly inelastic aggregate supply is not credible then the supply and demand shocks cannot be separately identified based on ordering alone	如果完全弹性和完全非弹性总供给之间的选择不可信，则不能仅根据排序来单独识别供给和需求冲击
The remaining impulse responses (responses to GDP and inflation shocks), however, will differ across these two orderings	然而，其余的脉冲响应（对 GDP 和通胀冲击的响应）在这两种排序中会有所不同
Oil Price Shocks	油价冲击
To further illustrate the identification of impulse response functions by recursive structural assumptions we repeat here some of the analysis from Kilian (2009)	为了进一步说明通过递归结构假设来识别脉冲响应函数，我们在这里重复 Kilian (2009) 的一些分析
The goal is to determine how oil prices respond to economic shocks and how the responses differ by the type of shock	目标是确定油价如何应对经济冲击以及不同冲击类型的反应有何不同
This data set is posted on the textbook webpage as Kilian2009	该数据集在教科书网页上发布为 Kilian2009
Kilian argues that these three variables are determined by three economic shocks: oil supply, aggregate demand, and oil demand	基利安认为，这三个变量是由三种经济冲击决定的：石油供应、总需求和石油需求
Kilian also argues that oil demand shocks are primarily due to the precautionary demand for oil driven by uncertainty about future oil supply shortfalls	基利安还认为，石油需求冲击主要是由于未来石油供应短缺的不确定性所驱动的预防性石油需求
To identify the shocks Kilian makes the following exclusion restrictions	为了确定冲击，Kilian 做出了以下排除约束
Crude oil prices, however, are allowed to respond simultaneously to all three shocks	然而，原油价格可以同时对这三种冲击做出反应
Kilian's identification strategy is similar to that described in the previous section for the simple aggregate demand/aggregate supply model	Kilian 的识别策略与上一节中描述的简单总需求/总供给模型类似
While much economic activity is pre-planned and hence sluggish to respond, some economic activity (recreational driving, for example) may immediately respond to price changes	虽然许多经济活动是预先计划的，因此反应缓慢，但某些经济活动（例如休闲驾驶）可能会立即对价格变化做出反应
Kilian estimates the three-variable VAR using 24 lags and calculates the orthogonalized impulse response functions using the ordering implied by these assumptions	Kilian 使用 24 个滞后估计三变量 VAR，并使用这些假设隐含的顺序计算正交脉冲响应函数
Notice that both figures have been displayed using the same y-axis scalings so that the figures are comparable	请注意，两个数字均使用相同的 y 轴比例显示，因此这些数字具有可比性
What is noticeable about the figures is how differently crude oil prices respond to the two shocks	这些数据值得注意的是原油价格对这两种冲击的反应有何不同
Presumaby, this is because economic activity relies on crude oil and output growth is positively serially correlated	据推测，这是因为经济活动依赖原油且产出增长呈正序列相关
The Kilian (2009) paper is an excellent example of how recursive orderings can be used to identify an orthogonalized VAR through a careful discussion of the causal system and the use of monthly observations	Kilian (2009) 的论文是一个很好的例子，它展示了如何通过仔细讨论因果系统和使用每月观测结果，使用递归排序来识别正交化 VAR
Structural VARs	结构性VAR
Figure 15.2: Response of Oil Prices to Orthogonalized Shocks	图 15.2：油价对正交冲击的反应
In this section we review SVARs based on short-run restrictions	在本节中，我们根据短期约束回顾 SVAR
The system as written is under-identified	所写的系统未得到充分识别
We will illustrate by using a simplified version of the model employed by Blanchard and Perotti (2002) who were interested in decomposing the effects of government spending and taxes on GDP	我们将使用 Blanchard 和 Perotti (2002) 使用的模型的简化版本进行说明，他们对分解政府支出和税收对 GDP 的影响感兴趣
We just described six restrictions while nine are required for identification	我们刚刚描述了六项约束，而识别则需要九项约束
In general, either of the two simpler structures are simpler to compute and interpret	一般来说，这两种更简单的结构都更容易计算和解释
Taking the variance of the variables on each side of (15.21) we find	取 (15.21) 两侧变量的方差，我们发现
This is a system of quadratic equations in the free parameters	这是自由参数的二次方程组
The latter is appropriate when the model is correctly specified (including normality) but otherwise an unclear choice	当模型被正确指定（包括正态性）但否则选择不明确时，后者是合适的
Given the parameter estimates the structural impulse response function is	给定参数估计，结构脉冲响应函数为
The structural impulse responses are nonlinear functions of the VAR coefficient and covariance matrix estimators so by the delta method are asymptotically normal	结构脉冲响应是 VAR 系数和协方差矩阵估计量的非线性函数，因此通过 Delta 方法是渐近正态的
As for orthogonalized impulse responses the asymptotic normal approximation is unlikely to be a good approximation so bootstrap methods are an attractive alternative	对于正交化脉冲响应，渐近正态近似不太可能是一个好的近似，因此自举方法是一个有吸引力的替代方案
Structural VARs should be interpreted similarly to instrumental variable estimators	结构 VAR 的解释应类似于工具变量估计量
Their interpretation relies on valid exclusion restrictions which can only be justified by external information	他们的解释依赖于有效的排除约束，而这些约束只能通过外部信息来证明
We replicate a simplified version of Blanchard-Perotti (2002)	我们复现了 Blanchard-Perotti (2002) 的简化版本
The estimated impulse responses are similar to those reported by Blanchard-Perotti	估计的脉冲响应与 Blanchard-Perotti 报告的类似
Figure 15.3: Response of GDP to Government Spending and Tax Shocks	图 15.3：GDP 对政府支出和税收冲击的反应
Increased spending has a positive effect on GDP while increased taxes has a negative effect	增加支出对GDP有积极影响，而增加税收则有消极影响
Structural vector autoregressions can be estimated in Stata using the svar command	结构向量自回归可以在 Stata 中使用 svar 命令进行估计
The same limitations for standard error and confidence interval construction in Stata hold for structural impulse responses as for non-structural impulse responses	Stata 中的标准误差和置信区间构造对于结构脉冲响应和非结构脉冲响应具有相同的局限
Identification of Structural VARs	结构性 VAR 的识别
It is easy to write down restrictions which satisfy the order condition but do not produce an identified system	很容易写下满足订单条件但不产生识别系统的约束
It is difficult to see if the system is identified simply by looking at the restrictions (except in the recursive case, which is relatively straightforward to identify)	仅仅通过查看约束很难看出系统是否被识别（除了递归情况，它相对容易识别）
We can identify the equations sequentially, one at a time, or in blocks, using the metaphor of instrumental variables	我们可以使用工具变量的比喻，按顺序、一次一个或分块地识别方程
The general technique is as follows	一般技术如下
Take the equations one at a time and ask if they can be estimated by instrumental variables using the excluded variables as instruments	一次提出一个方程，并询问是否可以使用排除的变量作为工具，通过工具变量来估计它们
Once an equation has been verified as identified then its shock is identified and can be used as an instrument since it is uncorrelated with the shocks in the other equations	一旦方程被验证为确定的，那么它的冲击就被确定并且可以用作工具，因为它与其他方程中的冲击不相关
In this example take the equations as ordered	在此示例中，按顺序取方程
We deduce that the system is identified	我们推断系统已被识别
Consider another example based on Keating (1992)	考虑另一个基于 Keating (1992) 的例子
where the four shocks are "aggregate supply", "money supply", "money demand", and "I-S"	其中四种冲击是“总供给”、“货币供给”、“货币需求”和“I-S”
This structure can be based on the following assumptions: An elastic short-run aggregate supply curve (prices do not respond within a quarter); a simple monetary supply policy (the fed funds rate only responds within quarter to the money supply); money demand only responds to nominal output (log price plus log real output) and fed funds rate within a quarter; and unrestricted I-S curve	这种结构可以基于以下假设： 有弹性的短期总供给曲线（价格在一个季度内不会做出反应）；简单的货币供应政策（联邦基金利率仅在季度内对货币供应量做出反应）；货币需求仅对季度内名义产出（对数价格加对数实际产出）和联邦基金利率做出反应；和不受约束的 I-S 曲线
To analyze conditions for identification we start by checking the order condition	为了分析识别条件，我们首先检查订单条件
Thus the order condition is exactly satisfied	因此订单条件完全满足
We check the equations for identification	我们检查方程进行识别
Regardless, the point of this exercise is to determine specific conditions for identification and articulate them in your analysis	无论如何，此练习的目的是确定识别的具体条件并在分析中阐明它们
Long-Run Restrictions	长期约束
One important class of such structural VARs are those based on long-run restrictions	此类结构性 VAR 的一个重要类别是基于长期约束的 VAR
These can provide a compelling case for identification	这些可以为识别提供令人信服的案例
An influential example of a structural VAR based on a long-run restriction is Blanchard and Quah (1989)	Blanchard 和 Quah (1989) 是基于长期约束的结构 VAR 的一个有影响力的例子
This can be used as an identifying restriction	这可以用作识别约束
The long-run structural impulse response is the cumulative sum of all impulse responses	长期结构脉冲响应是所有脉冲响应的累积和
Another way of thinking about this is that Blanchard-Quah label "aggregate supply" as the long-run component of GDP and label "aggregate demand" as the transitory component of GDP	另一种思考方式是，布兰查德-夸赫将“总供给”标记为GDP的长期组成部分，将“总需求”标记为GDP的暂时组成部分
Notice that by construction the long-run impulse response is	请注意，通过构造，长期脉冲响应是
Long-run structural vector autoregressions can be estimated in Stata using the svar command using the lreq option	可以使用 svar 命令和 lreq 选项在 Stata 中估计长期结构向量自回归
The same limitations for such intervals constructed in Stata hold for structural impulse response functions as the other cases discussed	与讨论的其他情况一样，在 Stata 中构建的此类区间的约束也适用于结构脉冲响应函数
Unfortunately, a limitation of the Stata svar command is that it does not display cumulative structural impulse response functions	不幸的是，Stata svar 命令的一个局限是它不显示累积结构脉冲响应函数
This means that for serious applied work programming needs to be done outside of Stata	这意味着对于严肃的应用工作来说，编程需要在 Stata 之外完成
Blanchard and Quah (1989) Illustration	布兰查德和夸 (1989) 说明
As we described in the previous section, Blanchard and Quah (1989) estimated a bivariate VAR in GDP growth and the unemployment rate assuming that the the structural shocks are aggregate supply and aggregate demand imposing that that the long-run response of GDP with respect to aggregate demand is zero	正如我们在上一节中所描述的，Blanchard 和 Quah（1989）估计了 GDP 增长和失业率的双变量 VAR，假设结构性冲击是总供给和总需求，并假设 GDP 对总需求为零
Blanchard and Quah used a careful detrending method; instead we including a linear time trend in the estimated VAR	布兰查德和夸赫使用了一种谨慎的去趋势方法；相反，我们在估计的 VAR 中包含了线性时间趋势
The fitted reduced form model coefficients satisfy	拟合的简化形式模型系数满足
and the residual covariance matrix is	残差协方差矩阵为
The estimated impulse responses have similar hump shapes with a peak around four quarters, and are similar to those found by Blanchard and Quah (1989)	估计的脉冲响应具有类似的驼峰形状，峰值在四分之四左右，并且与 Blanchard 和 Quah (1989) 发现的相似
Let's examine and contrast panels (a) and (b) of Figure 15.4	让我们检查并对比图 15.4 的面板 (a) 和 (b)
The confidence intervals for the supply shock impulse responses are wider than those for the demand shocks indicating that the estimates of the impulse responses due to supply shocks are not precisely estimated	供给冲击脉冲响应的置信区间比需求冲击的置信区间宽，这表明对供给冲击引起的脉冲响应的估计并未精确估计
The confidence intervals are very wide, however, indicating that these estimates are not precise	然而，置信区间非常宽，表明这些估计并不精确
Figure 15.4: Response of Unemployment Rate	图 15.4：失业率的反应
It is fascinating that the structural impulse response estimates shown here are nearly identical to those found by Blanchard and Quah (1989) despite the fact that we have used a considerably different sample period	令人着迷的是，这里显示的结构脉冲响应估计与 Blanchard 和 Quah (1989) 发现的几乎相同，尽管我们使用了相当不同的采样周期
External Instruments	外部仪器
Structural VARs can also be identified and estimated using external instrumental variables	结构 VAR 也可以使用外部工具变量来识别和估计
Identification rests on the validity of these assumptions	识别取决于这些假设的有效性
Figure 15.5: Forecast Error Decomposition, Percent due to Supply Shock	图 15.5：预测误差分解，由于供应冲击造成的百分比
Bootstrap confidence intervals are appropriate	Bootstrap 置信区间是合适的
The structure (15.26)-(15.28) is convenient as four coefficients can be identified	结构(15.26)-(15.28)很方便，因为可以识别四个系数
For more details see Stock and Watson (2012) and Mertens and Ravn (2013)	有关更多详细信息，请参阅 Stock 和 Watson (2012) 以及 Mertens 和 Ravn (2013)
Dynamic Factor Models	动态因素模型
Dynamic factor models are increasingly popular in applied time series, in particular for forecasting	动态因子模型在应用时间序列中越来越受欢迎，特别是在预测方面
In Sections 11.13-11.16 we introduced the standard multi-factor model (11.23):	在第 11.13-11.16 节中，我们介绍了标准多因素模型 (11.23)：
In the time-series case it is natural to augment the model to allow for dynamic relationships	在时间序列的情况下，很自然地增强模型以允许动态关系
Hence we will focus on the standard model (15.32)-(15.33)-(15.34)	因此，我们将重点关注标准模型 (15.32)-(15.33)-(15.34)
To estimate the explicit dynamic model (15.32)-(15.33)-(15.34) state-space methods are convenient	估计显式动态模型 (15.32)-(15.33)-(15.34) 状态空间方法很方便
For details and references see Stock and Watson (2016)	有关详细信息和参考文献，请参阅 Stock 和 Watson (2016)
The dynamic factor model (15.32)-(15.33)-(15.34) can be estimated in Stata using df actor	动态因子模型 (15.32)-(15.33)-(15.34) 可以在 Stata 中使用 df actor 进行估计
Proof of Theorem 15.12 The first part of the theorem is established by back-substitution	定理证明 15.12 定理的第一部分是通过回代建立的
We then substitute out the first lag	然后我们替换掉第一个滞后
Panel Data	面板数据
Economists traditionally use the term panel data to refer to data structures consisting of observations on individuals for multiple time periods	经济学家传统上使用术语面板数据来指代由多个时间段的个体观测组成的数据结构
More broadly, panel data methods can be applied to any context with cluster-type dependence	更广泛地说，面板数据方法可以应用于具有群组类型依赖性的任何上下文
There are several distinct advantages of panel data relative to cross-section data	相对于横截面数据，面板数据有几个明显的优点
A third is modeling dynamic relationships and effects	第三是对动态关系和效果进行建模
There are two broad categories of panel data sets in economic applications: micro panels and macro panels	经济应用中的面板数据集有两大类：微观面板和宏观面板
7-20) and a moderate number of time periods (20-60 years)	宏观面板通常是国家或地区宏观经济变量，其特征是适度数量的个体（例如 7-20 人）和适度数量的时间段（20-60 年）
Panel data was once relatively esoteric in applied economic practice	面板数据曾经在应用经济实践中相对深奥
Now, it is a dominant feature of applied research	现在，它已成为应用研究的一个显着特征
A typical maintained assumption for micro panels (which we follow in this chapter) is that the individuals are mutually independent while the observations for a given individual are correlated across time periods	微型面板的一个典型的假设（我们在本章中遵循）是个体相互独立，而对给定个体的观测在不同时间段内是相关的
countries) is much less compelling	类似的假设经常用于宏观面板，尽管个体（例如国家）之间的独立性假设不那么令人信服
The application of panel data methods in econometrics started with the pioneering work of Mundlak (1961) and Balestra and Nerlove (1966)	面板数据方法在计量经济学中的应用始于 Mundlak (1961) 以及 Balestra 和 Nerlove (1966) 的开创性工作
Several excellent monographs and textbooks have been written on panel econometrics, including Arellano (2003), Hsiao (2003), Wooldridge (2010), and Baltagi (2013)	关于面板计量经济学，已经撰写了几本优秀的专着和教科书，包括 Arellano (2003)、Hsiao (2003)、Wooldridge (2010) 和 Baltagi (2013)
This chapter will summarize some of the main themes but for a more in-depth treatment see these references	本章将总结一些主要主题，但要进行更深入的处理，请参阅这些参考资料
One challenge arising in panel data applications is that the computational methods can require meticulous attention to detail	面板数据应用中出现的一项挑战是计算方法可能需要对细节一丝不苟
For most panel data applications in economics Stata is the standard package	对于经济学中的大多数面板数据应用，Stata 是标准软件包
Time Indexing and Unbalanced Panels	时间标引和不平衡面板
Panel data sets can involve data at any time series frequency though the typical application involves annual data	尽管典型应用涉及年度数据，但面板数据集可以涉及任何时间序列频率的数据
When observations are available on all individuals for the same time periods we say that the panel is balanced	当在同一时间段内对所有个体进行观测时，我们说该小组是平衡的
When different time periods are available for the individuals in the sample we say that the panel is unbalanced	当样本中的个体有不同的时间段时，我们说该小组不平衡
It does not pose a problem for applications but does make the notation cumbersome and also complicates computer programming	它不会给应用程序带来问题，但确实使符号变得麻烦并且使计算机编程变得复杂
To illustrate, consider the data set Invest 1993 on the textbook webpage	为了说明这一点，请考虑教科书网页上的数据集 Invest 1993
You can see that the years vary considerably across the firms so this is an unbalanced panel	你可以看到，各个年份之间的差异很大所以这是一个不平衡的小组
The observed time periods for a given individual are typically contiguous (for example, in Table 17.1, firm \#32 is observed for each year from 1970 through 1977) but in some cases are non-continguous (if, for example, 1973 was missing for firm \#32)	给定个体的观察时间段通常是连续的（例如，在表 17.1 中，从 1970 年到 1977 年，每年观察到公司 \#32），但在某些情况下是不连续的（例如，如果缺少 1973 年）对于公司\#32）
Table 17.1: Observations from Investment Data Set	表 17.1：投资数据集的观测结果
Notation	符号
It will be useful to cluster the observations at the level of the individual	在个体层面上对观测结果进行聚类是很有用的
We will also sometimes use matrix notation for the full sample	有时我们还会对完整样本使用矩阵表示法
Pooled Regression	汇总回归
The simplest model in panel regresion is pooled regresssion	面板回归中最简单的模型是合并回归
As in (4.55) this can be multiplied by a degree-of-freedom adjustment	如 (4.55) 中所示，这可以乘以自由度调整
The pooled regression estimator with cluster-robust standard errors can be obtained using the Stata command regress cluster(id) where id indicates the individual	可以使用 Stata 命令 regress cluster(id) 获得具有群组稳健标准误差的汇总回归估计量，其中 id 表示个体
Since strict mean independence is a strong and undesirable restriction it is typically preferred to adopt one of the alternative estimators described in the following sections	由于严格均值独立性是一种强烈且不受欢迎的约束，因此通常优选采用以下各节中描述的替代估计量之一
To illustrate the pooled regression estimator consider the data set Invest1993 described earlier	为了说明合并回归估计量，请考虑前面描述的 Invest1993 数据集
One-Way Error Component Model	单向误差成分模型
Table 17.2: Estimates of Investment Equation	表 17.2：投资方程估算
Cluster-robust standard errors in parenthesis	括号中的群组稳健标准误差
This is known as a oneway error component model	这称为单向误差成分模型
The one-way error component regression model is	单向误差成分回归模型为
To illustrate why an error-component structure such as (17.4) might be appropriate, examine Table 17.1	为了说明为什么像 (17.4) 这样的误差成分结构可能是合适的，请检查表 17.1
Random Effects	随机效应
Assumption 17.1 Random Effects	假设 17.1 随机效应
The random effects model is equivalent to an equi-correlation model	随机效应模型相当于等相关模型
Thus random effects and equi-correlation are identical	因此，随机效应和等相关是相同的
The random effects regression model is	随机效应回归模型为
We now describe some statistical properties of the estimator under Assumption 17.1	我们现在描述假设 17.1 下估计量的一些统计特性
Using the algebra of the Gauss-Markov Theorem we deduce that	使用高斯-马尔可夫定理的代数我们推导出
Under the assumption that the random effects model is a useful approximation but not literally true then we may consider a cluster-robust covariance matrix estimator such as	假设随机效应模型是一个有用的近似值，但实际上并不正确，那么我们可以考虑使用群组稳健的协方差矩阵估计量，例如
In the next section we consider a less restrictive specification	在下一节中，我们将考虑约束较少的设定
Fixed Effect Model	固定效应模型
Consider the one-way error component regression model	考虑单向误差成分回归模型
To illustrate, consider the entries in Table 17.1	为了说明这一点，请考虑表 17.1 中的条目
It is not reasonable to infer too much from these limited observations, but the relevance is that such correlation violates strict mean independence	从这些有限的观测中推断太多是不合理的，但相关性在于这种相关性违反了严格的均值独立性
Figure 17.1: Scatter Plot and Pooled Regression Line	图 17.1：散点图和合并回归线
Strict exogeneity (17.17) is typically inappropriate in dynamic models	严格的外生性（17.17）通常不适用于动态模型
Within Transformation	转型之内
One such transformation is the within transformation	其中一种转变就是内在转变
In this section we describe this transformation in detail	在本节中，我们将详细描述这种转变
Define the mean of a variable for a given individual as	将给定个体的变量平均值定义为
We call this the individual-specific mean since it is the mean of a given individual	我们将其称为个体特定均值，因为它是给定个体的均值
Contrarywise, some authors call this the time-average or time-mean since it is the average over the time periods	相反，一些作者将其称为时间平均或时间平均值，因为它是一段时间内的平均值
Subtracting the individual-specific mean from the variable we obtain the deviations	从变量中减去个体特定平均值，我们得到离差
This is known as the within transformation	这称为内部转换
What is important is that the demeaning has occured at the individual level	重要的是这种侮辱发生在个体层面
Some algebra may also be useful	一些代数也可能有用
Similarly for the regressors we define the individual-specific means and demeaned values:	同样，对于自变量，我们定义了个体特定的平均值和离差：
We illustrate demeaning in Table 17.1	我们在表 17.1 中说明了离差化
We can also define the full-sample within operator	我们还可以定义运算符内的完整样本
Now apply these operations to equation (17.15)	现在将这些运算应用到方程（17.15）中
We can alternatively write this in vector notation	我们也可以用向量表示法来写它
Equation (17.22) is a vector version of (17.21)	方程（17.22）是（17.21）的向量版本
The equation (17.21) is a linear equation in the transformed (demeaned) variables	方程（17.21）是变换（贬值）变量的线性方程
This means that the the endogeneity bias described in the previous section will be eliminated	这意味着上一节中描述的内生性偏误将被消除
Another consequence, however, is that all time-invariant regressors are also eliminated	然而，另一个结果是所有时不变自变量也被消除
The two have observationally equivalent effects and cannot be separately identified	两者在观察上具有相同的效果，无法单独识别
The within transformation can greatly reduce the variance of the regressors	内变换可以大大减少自变量的方差
It is not typically needed to directly program the within transformation, but if it is desired the following Stata commands easily do so	通常不需要直接对内部转换进行编程，但如果需要，可以使用以下 Stata 命令轻松实现
Fixed Effects Estimator	固定效应估计量
Consider least squares applied to the demeaned equation (17.21) or equivalently (17.22)	考虑将最小二乘应用于离差方程（17.21）或等效方程（17.22）
It is called the within estimator because it is based on the variation of the data within each individual	它被称为内部估计量，因为它基于每个个体内数据的变化
The fixed effects residuals are	固定效应残差为
Let us describe some of the statistical properties of the estimator under strict mean independence (17.18)	让我们描述严格均值独立性下估计量的一些统计特性（17.18）
This expression simplifies when the idiosyncratic errors are homoskedastic and serially uncorrelated:	当特异误差同方差且序列不相关时，该表达式得到简化：
Differenced Estimator	差分估计量
The within transformation is not the only transformation which eliminates the individual-specific effect	内部转变并不是唯一消除个体特异性效应的转变
Another important transformation which does the same is first-differencing	另一个具有相同作用的重要变换是一阶差分
Least squares applied to the differenced equation (17.29) is	应用于差分方程 (17.29) 的最小二乘为
We can reduce estimation variance by using GLS	我们可以通过使用 GLS 来减少估计方差
What we have shown is that under i.i.d. errors, GLS applied to the first-differenced equation precisely equals the fixed effects estimator	我们所展示的是在 i.i.d. 下
This argument extends to any other transformation which eliminates the fixed effect	这个论点扩展到消除固定效应的任何其他变换
This shows that the fixed effects estimator is Gauss-Markov efficient in the class of estimators which eliminate the fixed effect, under these assumptions	这表明，在这些假设下，固定效应估计量在消除固定效应的估计量类别中是高斯-马尔可夫有效的
Dummy Variables Regression	虚拟变量回归
It turns out that this is algebraically equivalent to the within estimator	事实证明，这在代数上等价于组内估计量
To see this start with the error-component model without a regressor:	要了解这一点，请从没有自变量的误差成分模型开始：
The least squares residuals are	最小二乘残差为
as shown in (17.19)	如(17.19)所示
Thus the least squares residuals from the simple error-component model are the within transformed variables	因此，简单误差成分模型的最小二乘残差是内变换变量
Now consider the error-component model with regressors, which can be written as	现在考虑带有自变量的误差成分模型，可以写为
We call this the dummy variable estimator of the fixed effects model	我们将其称为固定效应模型的虚拟变量估计量
This is sufficiently important that we state this result as a theorem	这非常重要，我们将这个结果表述为定理
The two estimators have the same residuals	两个估计量具有相同的残差
This may be the most important practical application of the Frisch-Waugh-Lovell Theorem	这可能是弗里施-沃-洛弗尔定理最重要的实际应用
This is important because in some cases one approach is more convenient than the other and it is important to know that the two methods are algebraically equivalent	这很重要，因为在某些情况下，一种方法比另一种方法更方便，并且了解这两种方法在代数上是等效的很重要
The dummy variable formulation may add insight about how the fixed effects estimator achieves invariance to the fixed effects	虚拟变量公式可以增加关于固定效应估计量如何实现固定效应不变性的见解
Fixed Effects Covariance Matrix Estimation	固定效应协方差矩阵估计
Notice that the assumptions (17.18), (17.25), and (17.26) are identical to (17.5)-(17.7) of Assumption 17.1	请注意，假设 (17.18)、(17.25) 和 (17.26) 与假设 17.1 的 (17.5)-(17.7) 相同
These estimators are convenient because they are simple to apply and allow for unbalanced panels	这些估算器很方便，因为它们易于应用并且允许不平衡面板
Hence the choice between (17.38), (17.39), and (17.40) can be substantial	因此，(17.38)、(17.39) 和 (17.40) 之间的选择可能很大
which is the idealized estimator with the true errors rather than the residuals	这是具有真实误差而不是残差的理想化估计量
This (crude) analysis suggests that for the cluster robust covariance estimator for fixed effects regression the adjustment recommended by C	此（粗略）分析表明，对于固定效应回归的群组稳健协方差估计量，C. Hansen (17.39) 建议的调整是最合适的
The main argument for the latter is that it produces the largest standard errors and is thus the most conservative choice	后者的主要论点是它产生最大的标准误差，因此是最保守的选择
In current practice the estimators (17.38) and (17.40) are the most commonly used covariance matrix estimators for fixed effects estimation	在当前实践中，估计量 (17.38) 和 (17.40) 是固定效应估计中最常用的协方差矩阵估计量
The point estimates are similar to the random effects estimates, though the coefficients on debt and cash flow increase in magnitude	点估计与随机效应估计相似，尽管债务和现金流量的系数增加了
Fixed Effects Estimation in Stata	Stata 中的固定效应估计
The first method is dummy variable regression	第一种方法是虚拟变量回归
(Other statistics can be reported as well.) The second method is to manually create the within transformed variables as described in Section 17.8, and then use regress	）第二种方法是手动创建内部转换变量，如第 17.8 节所述，然后使用回归
The fourth method is areg absorb (id)	第四种方法是aregsorb(id)
An important difference between the Stata xtreg and areg commands is that they implement different cluster-robust covariance matrix estimators: (17.38) in the case of xtreg and (17.40) in the case of areg	Stata xtreg 和 areg 命令之间的一个重要区别是，它们实现了不同的群组稳健协方差矩阵估计量：对于 xtreg 为 (17.38)，对于 areg 为 (17.40)
As discussed in the previous section the adjustment used by areg is ad hoc and not well-justified but produces the largest and hence most conservative standard errors	正如上一节中所讨论的，areg 使用的调整是临时的且没有充分理由，但会产生最大且因此最保守的标准误差
In current econometric practice both xtreg and areg are used, though areg appears to be the more popular choice	在当前的计量经济学实践中，xtreg 和 areg 都被使用，尽管 areg 似乎是更流行的选择
Between Estimator	估计量之间
The between estimator is calculated from the individual-mean equation (17.20)	间估计量是根据个体均值方程 (17.20) 计算的
Estimation can be done at the level of individuals or at the level of observations	估计可以在个体层面或观测层面进行
Least squares applied to (17.41) at the level of observations is	在观测级别应用于 (17.41) 的最小二乘为
is the variance of the error in (17.41)	是 (17.41) 中误差的方差
Consequently there seems little direct use for the between estimator in linear panel data applications	因此，线性面板数据应用中似乎很少直接使用间估计量
It is possible for (17.43) to be negative	(17.43) 可能为负数
Feasible GLS	可行的GLS
The random effects estimator can be written as	随机效应估计量可以写为
It is instructive to study these transformations	研究这些转变是有启发性的
Therefore the transformation used by the GLS estimator is	因此 GLS 估计量使用的变换是
which is a partial within transformation	这是转换中的一部分
The feasible random effects estimator is (17.45) using (17.49) and (17.50)	可行的随机效应估计量是使用（17.49）和（17.50）的（17.45）
What this shows is the following	这表明了以下内容
Thus when the variance estimates suggest that the individual effect is relatively large the random effect estimator is close to the fixed effects estimator	因此，当方差估计表明个体效应相对较大时，随机效应估计量接近固定效应估计量
Intercept in Fixed Effects Regression	固定效应回归中的截距
The fixed effect estimator does not apply to any regressor which is time-invariant for all individuals	固定效应估计量不适用于对所有个体都是时不变的任何自变量
This is the estimator reported by xtreg	这是 xtreg 报告的估计量
Estimation of Fixed Effects	固定效应的估计
Alternatively, using (17.34) this is	或者，使用 (17.34) 这是
If an intercept has been estimated (as discussed in the previous section) it should be subtracted from (17.51)	如果已估计截距（如上一节所述），则应从 (17.51) 中减去该截距
The fixed effects (17.52) may be obtained in Stata after ivreg, fe using the predict u command or after areg using the predict d command	固定效应 (17.52) 可以在 Stata 中在 ivreg、fe 之后使用 Predict u 命令获得，或者在 areg 之后使用 Predict d 命令获得
GMM Interpretation of Fixed Effects	固定效应的 GMM 解释
We can also interpret the fixed effects estimator through the generalized method of moments	我们还可以通过广义矩方法来解释固定效应估计量
Take the fixed effects model after applying the within transformation (17.21)	采用应用内变换（17.21）后的固定效应模型
Thus the 2SLS estimator simplifies to	因此 2SLS 估计量简化为
This shows that if we treat each time period as a separate equation with its separate moment equation so that the system is over-identified, and then estimate by GMM using the 2SLS weight matrix, the resulting GMM estimator equals the simple fixed effects estimator	这表明，如果我们将每个时间段视为具有单独矩方程的单独方程，从而使系统过度识别，然后使用 2SLS 权重矩阵通过 GMM 进行估计，则得到的 GMM 估计量等于简单固定效应估计量
There is no change by adding the additional moment conditions	添加附加力矩条件不会带来任何变化
The 2SLS estimator is the appropriate GMM estimator when the equation error is serially uncorrelated and homoskedastic	当方程误差序列不相关且同方差时，2SLS 估计量是合适的 GMM 估计量
Notationally, this GMM estimator has been written for a balanced panel	值得注意的是，这个 GMM 估计量是为平衡面板编写的
Otherwise no changes need to be made	否则无需进行任何更改
Identification in the Fixed Effects Model	固定效应模型中的识别
Equation (17.54) is the identification condition for the fixed effects estimator	方程（17.54）是固定效应估计量的识别条件
The regressors cannot contain any variable which does not have time-variation at the individual level nor a set of regressors whose time-variation at the individual level is collinear	自变量不能包含任何在个体水平上不具有时间变化的变量，也不能包含在个体水平上的时间变化是共线的一组自变量
Asymptotic Distribution of Fixed Effects Estimator	固定效应估计量的渐近分布
In this section we present an asymptotic distribution theory for the fixed effects estimator in balanced panels	在本节中，我们提出平衡面板中固定效应估计量的渐近分布理论
Unbalanced panels are considered in the following section	下一节将考虑不平衡面板
We use the following assumptions	我们使用以下假设
We now discuss the assumptions	我们现在讨论假设
Assumption 17.2.4 is the identification condition discussed in the previous section	假设17.2.4是上一节讨论的辨识条件
Assumptions 17.2.5 and 17.2.6 are needed for the central limit theorem	中心极限定理需要假设 17.2.5 和 17.2.6
We now prove Theorem 17.2	现在我们证明定理17.2
Assumption 17.2.3 implies	假设 17.2.3 意味着
so they are mean zero	所以它们的均值为零
Asymptotic Distribution for Unbalanced Panels	不平衡面板的渐近分布
In this section we extend the theory of the previous section to cover unbalanced panels under random selection	在本节中，我们将上一节的理论扩展到随机选择下的不平衡面板
Think of an unbalanced panel as a shortened version of an idealized balanced panel where the shortening is due to "missing" observations due to random selection	将不平衡面板视为理想化平衡面板的缩短版本，其中缩短是由于随机选择导致的“缺失”观测结果造成的
Then we can describe the estimators algebraically as follows	然后我们可以用代数方式描述估计量如下
Consequently, they do not appear in matrix products and sums	因此，它们不会出现在矩阵乘积和和中
This is the easiest approach but the most unsatisfactory	这是最简单的方法，但也是最不令人满意的
The disadvantage is that we must use a conditional mean restriction rather than uncorrelatedness to identify the coefficients	缺点是我们必须使用条件均值约束而不是不相关性来识别系数
The specific assumptions we impose are as follows	我们施加的具体假设如下
Given the above development it is straightforward to establish asymptotic normality	鉴于上述发展，建立渐近正态性是很简单的
Together we obtain the stated result	我们共同获得了所陈述的结果
Heteroskedasticity-Robust Covariance Matrix Estimation	异方差-稳健协方差矩阵估计
We have introduced two covariance matrix estimators for the fixed effects estimator	我们为固定效应估计量引入了两个协方差矩阵估计量
Assume that (17.18) and (17.26) hold but not necessarily (17.25)	假设(17.18)和(17.26)成立，但不一定(17.25)成立
We can see this by a simple bias calculation	我们可以通过简单的偏误计算看到这一点
Using (17.26) and (17.55)	使用 (17.26) 和 (17.55)
These leads to the practical recommendation that areg should be used with the cluster(id) option	这些导致实际建议 areg 应与 cluster(id) 选项一起使用
At present the corrected estimator (17.58) has not been programmed as a Stata option	目前，校正估计量 (17.58) 尚未被编程为 Stata 选项
Heteroskedasticity-Robust Estimation - Unbalanced Case	异方差-稳健估计-不平衡情况
A limitation with the bias-corrected robust covariance matrix estimator of Stock and Watson (2008) is that it was only derived for balanced panels	Stock 和 Watson (2008) 的偏误校正稳健协方差矩阵估计量的一个局限性是它仅针对平衡面板得出
In this section we generalize their estimator to cover unbalanced panels	在本节中，我们将其估计量概括为涵盖不平衡面板
Hausman Test for Random vs Fixed Effects	随机效应与固定效应的豪斯曼检验
The random effects model is a special case of the fixed effects model	随机效应模型是固定效应模型的特例
In this case the test should be implemented only on the coefficients on the time-varying regressors	在这种情况下，应仅对时变自变量的系数进行检验
On the other hand if the test fails to reject this evidence says that the random effects hypothesis cannot be rejected	另一方面，如果检验未能拒绝该证据，则表明随机效应假设不能被拒绝
It is tempting to use the Hausman test to select whether to use the fixed effects or random effects estimator	使用豪斯曼检验来选择是使用固定效应估计量还是随机效应估计量是很诱人的
The bias arises because the result of the test is random and correlated with the estimators	出现偏误是因为检验结果是随机的并且与估计量相关
Instead, the Hausman test can be used as a specification test	相反，豪斯曼检验可以用作设定检验
If you are planning to use the random effects estimator (and believe that the random effects assumptions are appropriate in your context) the Hausman test can be used to check this assumption and provide evidence to support your approach	如果你计划使用随机效应估计量（并且相信随机效应假设适合你的情况），则可以使用豪斯曼检验来检查此假设并提供证据来支持你的方法
Random Effects or Fixed Effects?	随机效应还是固定效应？
We have presented the random effects and fixed effects estimators of the regression coefficients	我们提出了回归系数的随机效应和固定效应估计量
Random effects estimators are only used in contexts where fixed effects estimation is unknown or challenging (which occurs in many nonlinear models)	随机效应估计量仅用于固定效应估计未知或具有挑战性的情况（这发生在许多非线性模型中）
The labels "random effects" and "fixed effects" are misleading	“随机效应”和“固定效应”标签具有误导性
In general we expect that economic agents will experience common shocks during the same time period	一般来说，我们预计经济主体将在同一时期经历共同的冲击
Therefore it is often desirable to include time effects in a panel regression model	因此，通常需要在面板回归模型中包含时间效应
The simplest specification is a linear time trend	最简单的设定是线性时间趋势
For a introduction to time trends see Section 14.42	有关时间趋势的介绍，请参阅第 14.42 节
In some cases the time trends may be individual-specific	在某些情况下，时间趋势可能因人而异
Two-Way Error Components	双向误差成分
In the previous section we discussed inclusion of time trends and individual-specific time trends	在上一节中，我们讨论了时间趋势和个体特定时间趋势的包含
In this section we consider the most flexible specification where the trend is allowed to take any arbitrary shape but will require that it is common rather than individual-specific	在本节中，我们考虑最灵活的设定，其中允许趋势采取任意形状，但要求它是常见的而不是特定于个体的
The model we consider is the two-way error component model	我们考虑的模型是双向误差成分模型
The two-way model (17.63) can be handled either using random effects or fixed effects	双向模型 (17.63) 可以使用随机效应或固定效应来处理
When the panel is unbalanced a similar but cumbersome expression for (17.64) can be derived	当面板不平衡时，可以导出类似但繁琐的 (17.64) 表达式
More typically (17.63) is handled using fixed effects	更典型的是（17.63）是使用固定效应来处理的
For the case of balanced panels the two-way within transformation is	对于平衡面板的情况，变换中的双向是
so the individual and time effects are eliminated	这样就消除了个体和时间的影响
The two-way within transformation applied to (17.63) yields	应用于 (17.63) 的双向内变换得到
The two-way within estimator is least squares applied to (17.66)	双向内估计量是应用于 (17.66) 的最小二乘法
For the unbalanced case there are two computational approaches to implement the estimator	对于不平衡的情况，有两种计算方法来实现估计量
This is the dummy variable representation of the two-way error components model	这是双向误差成分模型的虚拟变量表示
As the number of time periods is typically modest this is a computationally attractive approach	由于时间段的数量通常是适度的，因此这是一种在计算上有吸引力的方法
The second computational approach is to eliminate the time effects by residual regression	第二种计算方法是通过残差回归消除时间影响
What is important about this two-step procedure is that the second step is not a within transformation across the time index but rather standard regression	这个两步过程的重要之处在于，第二步不是跨时间标引的内部转换，而是标准回归
Coefficients are only identified for regressors which have variation both across individuals and across time	仅针对在个体和时间上都有变化的自变量来确定系数
If the test rejects the hypothesis of zero coefficients then this indicates that the time effects are relevant in the regression model	如果检验拒绝零系数的假设，则表明时间效应在回归模型中相关
In this example the coefficient estimates and standard errors are not greatly affected by the inclusion of the year dummy variables	在此示例中，包含年份虚拟变量不会对系数估计值和标准误差产生太大影响
Take the fixed effects model	采用固定效应模型
In Section 12.12, we described several alternative representations for the 2SLS estimator	在 12.12 节中，我们描述了 2SLS 估计量的几种替代表示
This estimator can be obtained using the Stata command xtivreg fe	该估计量可以使用 Stata 命令 xtivreg fe 获得
It can also be obtained using the Stata command ivregress after making the within transformations	也可以在进行内变换后使用 Stata 命令 ivregress 获得
The presentation above focused for clarity on the one-way fixed effects model	为了清楚起见，上述演示重点关注单向固定效应模型
Identification with Instrumental Variables	工具变量的识别
The 2SLS estimator is a function of the within transformed variables	2SLS 估计量是内部变换变量的函数
Thus for identification of the fixed effects instrumental variables model we need	因此，为了识别固定效应工具变量模型，我们需要
Condition (17.70) is the same as the condition for identification in fixed effects regression - the instruments must have full variation after the within transformation	条件 (17.70) 与固定效应回归中的识别条件相同 - 工具在内部变换后必须具有完全变异
Condition (17.71) is analogous to the relevance condition for identification of instrumental variable regression in the cross-section context but applies to the within-transformed instruments and regressors	条件 (17.71) 类似于在横截面上下文中识别工具变量回归的相关条件，但适用于内部转换的工具和自变量
Condition (17.71) shows that to examine instrument validity in the context of fixed effects 2SLS it is important to estimate the reduced form equation using fixed effects (within) regression	条件 (17.71) 表明，要检查固定效应 2SLS 背景下的工具有效性，重要的是使用固定效应（内）回归来估计简化形式方程
However, since the correlation structure of the reduced form equation is in general unknown it is appropriate to use a cluster-robust covariance matrix, clustered at the level of the individual	然而，由于简化形式方程的相关结构通常是未知的，因此适合使用在个体水平上聚类的群组稳健协方差矩阵
Asymptotic Distribution of Fixed Effects 2SLS Estimator	固定效应 2SLS 估计量的渐近分布
In this section we present an asymptotic distribution theory for the fixed effects estimator	在本节中，我们提出固定效应估计量的渐近分布理论
We provide a formal theory for the case of balanced panels and discuss an extension to the unbalanced case	我们为平衡面板的情况提供了正式的理论，并讨论了对不平衡情况的扩展
We use the following assumptions for balanced panels	我们对平衡面板使用以下假设
The identification conditions are Assumptions 17.4.4 and 17.4.5, which were discussed in the previous section	识别条件是假设 17.4.4 和 17.4.5，这在上一节中已经讨论过
The theorem is stated for balanced panels	该定理是针对平衡面板提出的
In this case a classical homoskedastic covariance matrix estimator can be used	在这种情况下，可以使用经典的同方差协方差矩阵估计量
The Stata command xtivreg, fe by default reports the classical homoskedastic covariance matrix estimator	Stata 命令 xtivreg, fe 默认报告经典同方差协方差矩阵估计量
To obtain a cluster-robust covariance matrix use option vce (robust) orvce (cluster id)	要获得群组稳健协方差矩阵，请使用选项 vce（稳健）或vce（群组 ID）
Linear GMM	线性高斯模
Consider the just-identified 2SLS estimator	考虑刚刚确定的 2SLS 估计量
The population orthogonality conditions hold in the overidentified case as well	总体正交条件在过度识别的情况下也成立
Estimation with Time-Invariant Regressors	使用时不变自变量进行估计
One of the disappointments with the fixed effects estimator is that it cannot estimate the effect of regressors which are time-invariant	固定效应估计量的令人失望的地方之一是它无法估计时不变自变量的影响
In contrast, the random effects estimator allows for time-invariant regressors but does so only by assuming strict exogeneity which is stronger than typically desired in economic applications	相比之下，随机效应估计量允许时不变自变量，但只有通过假设严格的外生性才能做到这一点，该外生性比经济应用中通常期望的更强
It turns out that we can consider an intermediate case which maintains the fixed effects assumptions for the time-varying regressors but uses stronger assumptions on the time-invariant regressors	事实证明，我们可以考虑一种中间情况，它保持时变自变量的固定效应假设，但对时不变自变量使用更强的假设
Consider the linear regression model	考虑线性回归模型
At the level of the individual this can be written as	在个体层面，这可以写成
This instrumental variables estimator is algebraically equal to a simple two-step estimator	该工具变量估计量在代数上等于简单的两步估计量
This equivalence was first observed by Hausman and Taylor (1981)	这种等价性首先由 Hausman 和 Taylor (1981) 观察到
Hausman-Taylor Model	豪斯曼泰勒模型
Hausman and Taylor (1981) consider a generalization of the previous model	Hausman 和 Taylor (1981) 考虑了先前模型的推广
Write the model in matrix notation as	将模型用矩阵表示法写为
It is recommended to use cluster-robust covariance matrix estimation clustered at the individual level	建议使用在个体级别聚类的群组稳健协方差矩阵估计
When the model is over-identified the equation can also be estimated by GMM with a cluster-robust weight matrix using the same equations and instruments	当模型被过度识别时，也可以使用相同的方程和仪器，通过具有群组稳健权重矩阵的 GMM 来估计方程
The 2SLS estimator described above corresponds with the Hausman and Taylor (1981) estimator in the just-identified case with a balanced panel	上述 2SLS 估计量与刚刚确定的平衡面板情况下的 Hausman 和 Taylor (1981) 估计量相对应
Otherwise, the estimator can be implemented using the instrumental variable method described above	否则，可以使用上述工具变量方法来实现估计量
The Hausman-Taylor estimator was refined by Amemiya and MaCurdy (1986) and Breusch, Mizon and Schmidt (1989) who proposed more efficient versions using additional instruments which are valid under stronger orthogonality conditions	Hausman-Taylor 估计量由 Amemiya 和 MaCurdy (1986) 以及 Breusch、Mizon 和 Schmidt (1989) 进行了改进，他们提出了使用附加工具的更有效版本，这些工具在更强的正交性条件下有效
Jackknife Covariance Matrix Estimation	折刀协方差矩阵估计
As an alternative to asymptotic inference the delete-cluster jackknife can be used for covariance matrix calculation	作为渐近推断的替代方法，删除群组折刀可用于协方差矩阵计算
As in the context of i.i.d. samples one advantage of the jackknife covariance matrix estimator is that it does not require the user to make a technical calculation of the asymptotic distribution	正如在 i.i.d. 的上下文中一样
For the fixed effects 2SLS estimator usextivreg fe vce(jackknife)	对于固定效应 2SLS 估计量，请使用xtivreg fe vce(jackknife)
Panel Bootstrap	面板引导程序
Bootstrap methods can also be applied to panel data by a straightforward application of the pairs cluster bootstrap which samples entire individuals rather than single observations	引导方法还可以通过直接应用成对群组引导方法应用于面板数据，该引导方法对整个个体而不是单个观测结果进行采样
In the context of panel data we call this the panel nonparametric bootstrap	在面板数据中，我们将其称为面板非参数引导程序
In Stata, to obtain bootstrap standard errors and confidence intervals use either xtreg, vce(bootstrap, reps (\#)) or areg, absorb(id) cluster(id) vce(bootstrap, reps(\#)) where id is the cluster variable and \# is the number of bootstrap replications	在 Stata 中，要获取 bootstrap 标准误差和置信区间，请使用 xtreg、vce(bootstrap,reps (\#)) 或 areg,absorb(id) cluster(id) vce(bootstrap,reps(\#))，其中 id 是cluster 变量，\# 是引导复制的数量
For the fixed effects 2SLS estimator use xtivreg, fe vce(bootstrap, reps(\#))	对于固定效应 2SLS 估计量，请使用 xtivreg, fe vce(bootstrap,reps(\#))
Dynamic Panel Models	动态面板模型
The models so far considered in this chapter have been static with no dynamic relationships	到目前为止，本章考虑的模型都是静态的，没有动态关系
These considerations lead us to consider explicitly dynamic models	这些考虑使我们考虑明确的动态模型
For many illustrations we will focus on the AR(1) model	对于许多说明，我们将重点关注 AR(1) 模型
The dynamics should be interpreted individual-by-individual	动态应该逐个解释
Thus in applications it will often be useful to include time effects to eliminate spurious serial correlation	因此，在应用中，包含时间效应以消除虚假串行相关性通常很有用
The Bias of Fixed Effects Estimation	固定效应估计的偏误
To estimate the panel autoregression (17.81) it may appear natural to use the fixed effects (within) estimator	为了估计面板自回归 (17.81)，使用固定效应（内部）估计量似乎很自然
We describe the basic problem in this section focusing on the AR(1) model (17.82)	我们在本节中重点描述 AR(1) 模型 (17.82) 的基本问题
Applying the within operator to (17.82) we obtain	将 inside 运算符应用到 (17.82) 我们得到
Because of the lagged dependent variable and differencing there is effectively one observation per individual	由于滞后因变量和差异，每个体实际上只有一个观测结果
Notice that the individual effect has been eliminated	请注意，个体效应已被消除
The differenced regressor and error are negatively correlated	差分自变量和误差呈负相关
The bias found in (17.85) is large	(17.85) 中发现的偏误很大
Thus the Nickell bias problem applies to both micro and macro panel applications	因此，Nickell偏误问题适用于微型和宏观面板应用
Anderson-Hsiao Estimator	Anderson-Hsiao 估计量
Anderson and Hsiao (1982) made an important breakthrough by showing that a simple instrumental variables estimator is consistent for the parameters of (17.81)	Anderson 和 Hsiao (1982) 取得了重要突破，证明简单的工具变量估计量对于 (17.81) 的参数是一致的
The Anderson-Hsiao IV estimator relies on two critical assumptions	Anderson-Hsiao IV 估计量依赖于两个关键假设
These considerations suggest that the validity and accuracy of the estimator are likely to be sensitive to these unknown features	这些考虑因素表明估计量的有效性和准确性可能对这些未知特征敏感
Arellano-Bond Estimator	阿雷拉诺债券估计量
The orthogonality condition (17.88) is one of many implied by the dynamic panel model	正交条件 (17.88) 是动态面板模型隐含的众多条件之一
This was first pointed out by Holtz-Eakin, Newey, and Rosen (1988) and further developed by Arellano and Bond (1991)	这首先由 Holtz-Eakin、Newey 和 Rosen (1988) 指出，并由 Arellano 和 Bond (1991) 进一步发展
Using these extra instruments has a complication that there are a different number of instruments for each time period	使用这些额外的工具有一个复杂之处，即每个时间段都有不同数量的工具
It will be useful to first write the model in vector notation	首先用矢量表示法编写模型会很有用
Estimator (17.91) is known as the one-step Arellano-Bond GMM estimator	估计量 (17.91) 被称为一步 Arellano-Bond GMM 估计量
An asymptotically efficient two-step GMM estimator which allows heterskedasticity is	允许异方差的渐近有效两步 GMM 估计量是
Estimator (17.94) is known as the two-step Arellano-Bond GMM estimator	估计量 (17.94) 被称为两步 Arellano-Bond GMM 估计量
The GMM estimator can be iterated until convergence to produce an iterated GMM estimator	GMM 估计量可以迭代直至收敛以产生迭代 GMM 估计量
The advised compromise is to limit the number of lags used as instruments	建议的折衷方案是限制用作工具的滞后数量
The advantage of the two-step estimator is that it achieves asymptotic efficiency allowing for heteroskedasticity and is thus expected to perform better in large samples with non-homoskedastic errors	两步估计量的优点是它实现了允许异方差性的渐近效率，因此预计在具有非同方差误差的大样本中表现更好
The robust covariance matrix (17.95) nor the iterated GMM estimator are implemented	实现了稳健协方差矩阵 (17.95) 和迭代 GMM 估计量
Blundell and Bond (1998) pointed out that the Anderson-Hsiao and Arellano-Bond estimators suffer from weak instruments	Blundell 和 Bond (1998) 指出 Anderson-Hsiao 和 Arellano-Bond 估计量受到工具较弱的影响
Assuming stationarity so that (17.83) holds,	假设平稳性使得 (17.83) 成立，
An alternative estimator which has improved performance is discussed in Section 17.42	第 17.42 节讨论了一种具有改进性能的替代估计量
Dynamic Panels with Predetermined Regressors	具有预定自变量的动态面板
The assumption that regressors are strictly exogenous is restrictive	回归变量严格是外生的假设是有约束性的
Dynamic panel methods can be modified to handle predetermined regressors by using their lags as instruments	可以修改动态面板方法，通过使用滞后量作为工具来处理预定的自变量
One way of interpreting a regression model with predetermined regressors is that the model is a projection on the complete past history of the regressors	解释具有预定自变量的回归模型的一种方法是，该模型是对自变量的完整过去历史的投影
Consider the differenced equation (17.87)	考虑差分方程 (17.87)
To understand how the model is identified we examine the reduced form equation for the regressor	为了了解模型是如何识别的，我们检查自变量的简化形式方程
This indicates that the model will be weakly identified when the predetermined regressors are highly persistent	这表明当预定的自变量高度持久时，模型将被弱识别
The method generalizes to handle multiple lags of the predetermined regressors	该方法概括为处理预定自变量的多个滞后
In first differences the model is	一阶差分模型是
The advantage obtained by treating a regressor as predetermined (rather than strictly exogenous) is that it is a substantial relaxation of the dynamic assumptions	将自变量视为预先确定的（而不是严格外生的）所获得的优点是，它大大放松了动态假设
Otherwise the parameter estimates will be inconsistent due to endogeneity	否则，由于内生性，参数估计将不一致
The major disadvantage of treating a regressor as predetermined is that it substantially reduces the strength of identification especially when the predetermined regressors are highly persistent	将自变量视为预定的主要缺点是，它大大降低了识别的强度，特别是当预定自变量高度持久时
In Stata the xtabond command by default treats independent regressors as strictly exogenous	在 Stata 中，xtabond 命令默认将独立自变量视为严格外生的
By default all regressor lags are used as instruments, but the number can be limited if specified	默认情况下，所有自变量滞后都用作工具，但如果指定，可以限制数量
Blundell-Bond Estimator	布伦德尔债券估计量
Consider the levels AR(1) model with no regressors (17.82)	考虑没有回归变量的水平 AR(1) 模型 (17.82)
Blundell and Bond (1998) show that a sufficient condition for (17.100) is	Blundell 和 Bond (1998) 表明 (17.100) 的充分条件是
Condition (17.101) is implied by stationarity but is somewhat weaker	条件 (17.101) 隐含着平稳性，但稍弱
To see that (17.101) implies (17.100), by applying recursion to (17.87) we find that	为了看出 (17.101) 蕴涵 (17.100)，通过对 (17.87) 应用递归，我们发现
under (17.101), as claimed	如所声称的，根据(17.101)
Now consider the full model (17.81) with predetermined regressors	现在考虑具有预定自变量的完整模型 (17.81)
Using (17.100) and (17.102) Blundell and Bond propose the following moment conditions for GMM estimation	使用 (17.100) 和 (17.102) Blundell 和 Bond 提出以下矩条件进行 GMM 估计
The Blundell-Bond estimator is found by applying GMM to this equation	Blundell-Bond 估计量是通过将 GMM 应用于该方程来找到的
The Blundell-Bond one-step GMM estimator is	Blundell-Bond 一步 GMM 估计量为
The Blundell-Bond two-step GMM estimator is	Blundell-Bond 两步 GMM 估计量为
The explanation is that the orthogonality condition (17.103) does not suffer the weak instrument problem in these cases	解释是，在这些情况下，正交条件 (17.103) 不会遇到弱仪器问题
The advantage of the Blundell-Bond estimator is that the added orthogonality condition (17.103) greatly improves performance relative to the Arellano-Bond estimator when the latter is weakly identified	Blundell-Bond 估计量的优点在于，当后者弱识别时，相对于 Arellano-Bond 估计量，添加的正交条件 (17.103) 大大提高了性能
A disadvantage of the Blundell-Bond estimator is that their orthogonality condition is justified by a stationarity condition (17.101) and violation of the latter may induce estimation bias	Blundell-Bond 估计量的缺点是其正交性条件由平稳性条件 (17.101) 证明是合理的，违反后者可能会导致估计偏误
The advantages and disadvantages of the one-step versus two-step Blundell-Bond estimators are the same as described for the Arellano-Bond estimator as described in Section 17.39	一步与两步 Blundell-Bond 估计量的优点和缺点与第 17.39 节中描述的 Arellano-Bond 估计量相同
The Blundell-Bond estimator may be obtained in Stata using either the xtdpdsys or xtdpd command	Blundell-Bond 估计量可以在 Stata 中使用 xtdpdsys 或 xtdpd 命令获得
The robust covariance matrix estimator (17.109) nor the iterated GMM estimator are implemented	实现了稳健协方差矩阵估计量 (17.109) 和迭代 GMM 估计量
Forward Orthogonal Transformation	正向正交变换
Arellano and Bover (1995) proposed an alternative transformation which eliminates the individualspecific effect and may have advantages in dynamic panel models	Arellano 和 Bover (1995) 提出了一种替代变换，它消除了个体特定效应，并且可能在动态面板模型中具有优势
The transformation (17.111) was originally proposed for time-series observations by Hayashi and Sims (1983)	变换 (17.111) 最初是由 Hayashi 和 Sims (1983) 针对时间序列观测提出的
These can be verified by direct multiplication	这些可以通过直接乘法来验证
This is the one-step GMM estimator	这是一步 GMM 估计量
Forward orthogonalization may have advantages over first differencing	前向正交化可能比一阶差分具有优势
The disadvantages of forward orthogonalization are that it treats early observations asymmetrically from late observations, it is less thoroughly studied than first differencing, and is not available with several popular estimation methods	前向正交化的缺点是它对早期观测值与后期观测值的处理不对称，与一阶差分相比，其研究较少，并且不适用于几种流行的估计方法
The Stata command xtdpd includes forward orthogonalization as an option but not when levels (Blundell-Bond) instruments are included or if there are gaps in the data	Stata 命令 xtdpd 包括前向正交化作为选项，但当包括水平（Blundell-Bond）工具或数据中存在间隙时则不包括
Empirical Illustration	实证说明
We illustrate the dynamic panel methods with the investment model (17.3)	我们用投资模型（17.3）来说明动态面板方法
Both are estimated by Blundell-Bond two-step GMM with lags 2 through 6 as instruments, a cluster-robust weight matrix, and clustered standard errors	两者均由 Blundell-Bond 两步 GMM 估计，其中滞后 2 至 6 作为工具、群组稳健权重矩阵和群组标准误差
The first column presents estimates of an AR(2) model	第一列介绍 AR(2) 模型的估计
This pattern of serial correlation is consistent with the presence of investment projects which span two years	这种序列相关模式与跨度两年的投资项目的存在是一致的
The second column presents estimates of the dynamic version of the investment regression (17.3) excluding the trading indicator	第二列介绍了不包括交易指标的投资回归动态版本 (17.3) 的估计
Contemporaneous variables are likely endogenous so should not be treated as predetermined	同期变量可能是内生的，因此不应被视为预先确定的
All regressions include time effects	所有回归都包含时间效应
GMM instruments include lags 2 through 6	GMM 工具包括滞后 2 到 6
Difference in Differences	差异中的差异
One of the most popular ways to estimate the effect of a policy change is the method of difference in differences, often called "diff in diffs"	估计政策变化影响的最流行的方法之一是差异中的差异法，通常称为“差异中的差异”
Clustered variance estimation is generally recommended for inference	通常建议使用群组方差估计进行推断
In order to intrepret a difference in difference estimate as a policy effect there are three key conditions	为了将差异估计的差异解释为政策效应，需要满足三个关键条件
If these assumptions are satisfied the difference in difference estimand is a valid causal effect	如果满足这些假设，则差异估计值的差异是有效的因果效应
Minimum Wage in New Jersey	新泽西州最低工资
Table 18.1: Average Employment at Fast Food Restaurants	表 18.1：快餐店的平均就业人数
The data file CK1994 is extracted from the original Card-Krueger data set and is posted on the textbook webpage	数据文件CK1994是从原始Card-Krueger数据集中提取的，并发布在教科书网页上
This estimate - the change in employment - could be called a difference estimator	这种估计——就业变化——可以称为差异估计
It does not provide direct evidence of the counterfactual - what would have happened if the minimum wage had not been increased	它没有提供反事实的直接证据——如果最低工资没有增加会发生什么
A difference in difference estimator improves on a difference estimator by comparing the change in the treatment sample with a comparable change in a control sample	差异估计量中的差异通过将处理样本中的变化与对照样本中的可比变化进行比较来改进差异估计量
Card and Krueger selected eastern Pennsylvania for their control sample	卡德和克鲁格选择宾夕法尼亚州东部作为他们的对照样本
This means that in the absence of a minimum wage increase they expected the same changes in employment to occur in both New Jersey and eastern Pennsylvania	这意味着，在没有提高最低工资的情况下，他们预计新泽西州和宾夕法尼亚州东部的就业情况也会发生同样的变化
Card and Krueger surveyed a panel of 79 fast food restaurants in eastern Pennsylvania simultaneously while surveying the New Jersey restaurants	卡德和克鲁格在调查新泽西州餐馆的同时，还对宾夕法尼亚州东部的 79 家快餐店进行了调查
Our estimate of the regression (18.1) is	我们对回归（18.1）的估计是
The standard errors are clustered by restaurant	标准误按餐厅进行聚类
which are identical to the previous regression	与之前的回归相同
Equation (18.3) is the basic difference-in-difference model	方程（18.3）是基本的双重差分模型
The equation (18.3) can also be generalized by changing the trend specification and by using a continuous treatment variable	方程（18.3）也可以通过改变趋势设定和使用连续处理变量来推广
Many empirical studies report estimates both of the basic model and regressions with controls	许多实证研究报告估计了基本模型和控制回归
A restaurant with longer hours will tend to have more employees	营业时间较长的餐厅往往会拥有更多的员工
The estimated treatment effect is not meaningfully changed	估计的治疗效果没有发生有意义的改变
Theorem 18.1 Suppose the following conditions hold:	定理 18.1 假设以下条件成立：
Condition 1 states that the outcome equals the specified linear regression model which is additively separable in the observables, individual effect, and time effect	条件 1 表明结果等于指定的线性回归模型，该模型在可观察量、个体效应和时间效应中可加性分离
Condition 2 states that the two-way within transformed regressors have a non-singular design matrix	条件 2 表明变换自变量内的双向具有非奇异设计矩阵
Condition 3 is the standard exogeneity asumption for regressors in a fixed-effects model	条件 3 是固定效应模型中自变量的标准外生性假设
Condition 4 states that the treatment variable is conditionally independent of the idiosyncratic error	条件 4 表明治疗变量有条件地独立于特殊误差
This is the conditional independence assumption for fixed effects regression	这是固定效应回归的条件独立假设
To show Theorem 18.1 apply the two-way within transformation (17.65) to (18.5)	为了证明定理 18.1，应用 (17.65) 到 (18.5) 内的双向变换
Without this assumption it would not be possible to claim that the diff-in-diff regression identifies the causal effect of the treatment	如果没有这个假设，就不可能声称差异回归确定了治疗的因果效应
This means that the policy (treatment) was not enacted in response to knowledge about the response variable in either period and it means that the outcome (employment) did not change in the first period in anticipation of the upcoming policy change	这意味着政策（处理）不是根据对任一时期的响应变量的了解而制定的，也意味着在第一个时期的结果（就业）没有因预期即将到来的政策变化而改变
In the case of the Card-Krueger application the authors argue that the policy was exogeneous because it was adopted two years before taking effect	就卡德-克鲁格申请而言，作者认为该政策是外生的，因为它是在生效前两年通过的
It thus seems credible that employment decisions at that time were not determined in anticipation of the upcoming minimum wage increase	因此，当时的就业决定并不是根据即将到来的最低工资上涨而做出的，这似乎是可信的
The authors do not discuss, however, whether or not there were other coincident events in the New Jersey or Pennsylvania economies during 1992 which could have affected employment differentially in the two states	然而，作者没有讨论 1992 年新泽西州或宾夕法尼亚州经济中是否发生了其他同时发生的事件，这些事件可能对两个州的就业产生不同的影响
This seems to be the greatest weakness in their identification argument	这似乎是他们的认同论证中最大的弱点
Identification (the conditions for Theorem 18.1) also requires that the regression model is correctly specified	辨识（定理 18.1 的条件）还要求正确指定回归模型
This is not the case in applications with more than two states or time periods and thus model specification needs to be carefully considered in such cases	在具有两个以上状态或时间段的应用中，情况并非如此，因此在这种情况下需要仔细考虑模型设定
Multiple Units	多个单位
The basic difference-in-difference model has two aggregate units (e.g. states) and two time periods	基本的双重差分模型具有两个聚合单位（例如状态）和两个时间段
The Card-Krueger data set only contains observations from two states but the authors did record additional variables including the region of the state	卡德-克鲁格数据集仅包含来自两个州的观测结果，但作者确实记录了包括该州区域在内的其他变量
They divided New Jersey into three regions (North, Central, and South) and eastern Pennsylvania into two regions ( 1 for northeast Philadelphia suburbs and 2 for the remainder)	他们将新泽西州分为三个区域（北部、中部和南部），将宾夕法尼亚州东部分为两个区域（1 个区域用于费城东北部郊区，2 个区域用于其余区域）
We can also observe that both of the Pennsylvania regions had employment decreases though with different magnitudes	我们还可以观察到，宾夕法尼亚州的两个地区的就业人数均出现下降，但幅度不同
A more serious problem arises if the control effect is heterogeneous	如果控制效果是异质的，则会出现更严重的问题
It is not statistically significant, meaning that we cannot reject the hypothesis that the control effect is homogeneous	它在统计上不显着，这意味着我们不能拒绝控制效应是同质的假设
In contrast, if the control effect were heterogeneous then the difference-in-difference estimation strategy is misspecified	相反，如果控制效果是异质的，那么双重差分估计策略就会被错误设定
Therefore if a test for equal control effects rejects the hypothesis of homogeneous control effects this should be taken as evidence against interpretation of the difference-in-difference parameter as a treatment effect	因此，如果相等控制效应的检验拒绝同质控制效应的假设，则应将其视为反对将双重差分参数解释为治疗效应的证据
Table 18.2: Average Employment at Fast Food Restaurants	表 18.2：快餐店的平均就业人数
Do Police Reduce Crime?	警察能减少犯罪吗？
DiTella and Schargrodsky (2004) use a difference-in-difference approach to study the question of whether the street presence of police officers reduces car theft	DiTella 和 Schargrodsky (2004) 使用双重差分法来研究警察在街上的存在是否会减少汽车盗窃的问题
The innovation in DiTella-Schargrodsky was to use the police response to a terrorist attack as exogenous variation	DiTella-Schargrodsky 的创新在于利用警方对恐怖袭击的反应作为外生变量
In July 1994 there was a horrific terrorist attack on the main Jewish center in Buenos Aires, Argentina	1994 年 7 月，阿根廷布宜诺斯艾利斯的主要犹太中心发生了可怕的恐怖袭击
Their sample has 37 blocks with Jewish institutions (the treatment sample) and 839 blocks without an institution (the control sample)	他们的样本有 37 个有犹太机构的街区（处理样本）和 839 个没有机构的街区（对照样本）
The data file DS2004 is a slightly revised version of the author's AER replication file and is posted on the textbook webpage	数据文件DS2004是作者的AER复现文件的稍微修改版本，并发布在教科书网页上
Table 18.3: Number of Car Thefts by City Block	表 18.3：按城市街区划分的汽车盗窃案数量
The model (18.3) makes the strong assumption that the treatment effect is constant across the five treated months	模型 (18.3) 做出了强有力的假设，即治疗效果在五个治疗个月内保持不变
Given the small sample size (37) of the treatment sample this is strikingly uniform evidence	鉴于治疗样本的样本量较小（37），这是惊人的一致证据
We can formally test the homogeneity of the treatment effect by including four dummy variables for the interactions of four post-attack months with the treatment sample and then testing the exclusion of these variables	我们可以通过包含四个虚拟变量来正式检验治疗效果的同质性，这些虚拟变量用于攻击后四个月与治疗样本的相互作用，然后检验这些变量的排除
Thus there is no reason in the data to be suspicious of the homogeneity assumption	因此，数据中没有理由怀疑同质性假设
The goal was to estimate the causal effect of police presence as a deterrence for crime	目标是评估警察存在对犯罪威慑的因果效应
Police presence greatly reduces the incidence of car theft	警察的存在大大减少了汽车盗窃的发生率
The authors asserted the inference that police presence deters crime more broadly	作者断言警察的存在可以更广泛地阻止犯罪
While it may seem reasonable we should be cautious about making generalizations without supporting evidence	虽然这似乎是合理的，但我们应该谨慎对待没有证据支持的概括
Overall, DiTella and Schargrodsky (2004) is an excellent example of a well-articulated and credibly identified difference-in-difference estimate of an important policy effect	总体而言，DiTella 和 Schargrodsky（2004）是对重要政策效果进行清晰阐述和可信识别的双重差异估计的一个极好的例子
Trend Specification	趋势设定
Some applications (including the two introduced earlier in this chapter) apply to a short period of time such as one year in which case we may not expect the variables to be trended	一些应用程序（包括本章前面介绍的两种）适用于较短的时间段，例如一年，在这种情况下，我们可能不会期望变量具有趋势
It is reasonable to expect that trends may differ across units and are not fully captured by observed controls	可以合理地预期，不同单位的趋势可能有所不同，并且观察到的控制不能完全捕获趋势
One way to think about this is in terms of overidentification	思考这个问题的一种方法是过度识别
In addition to considering heterogeneous treatment effects it is reasonable to consider heterogeneous trends	除了考虑异质治疗效果之外，考虑异质趋势也是合理的
One generalization is to include interactions of a linear trend with a control variable	一种概括是包括线性趋势与控制变量的相互作用
A broader generalization is to include unit-specific linear time trends	更广泛的概括是包括特定于单位的线性时间趋势
Estimation of model (18.6) can be done one of three ways	模型（18.6）的估计可以通过三种方式之一来完成
This is a generalized within transformation	这是一个概括性的内部转变
Naïve tests will over-state significance	简单的检验会夸大其重要性
Our discussion for simplicity has focused on the case of balanced panels	为了简单起见，我们的讨论集中在平衡面板的情况上
The methods equally apply to unbalanced panels, using standard panel data estimation	这些方法同样适用于使用标准面板数据估计的不平衡面板
Do Blue Laws Affect Liquor Sales?	蓝色法律会影响酒类销售吗？
Historically many U.S. states prohibited or limited the sale of alcoholic beverages on Sundays	历史上，美国许多州都禁止或限制周日销售酒精饮料
The fact that different states changed their laws during different years allows for a difference-in-difference methodology to identify the treatment effect	不同州在不同年份改变法律的事实允许采用双重差分方法来确定治疗效果
The paper focuses on distilled liquor sales though wine and beer sales are also included in their data	该论文重点关注蒸馏酒销售，尽管葡萄酒和啤酒销售也包含在其数据中
states for the years 1970-2007, unbalanced	这些数据是 1970-2007 年美国 47 个州的州级数据，不平衡
The authors carefully gathered information on the allowable hours that alcohol can be sold on a Sunday	作者仔细收集了有关周日允许出售酒类的时间的信息
OnHours and OffHours are the number of allowable Sunday on-premises and off-premises sale hours	OnHours 和 OffHours 是允许的周日场内和场外销售时间数
The standard errors are clustered by state	标准误按州进行聚类
The estimates indicate that increased on-premise sale hours lead to a small increase in liquor sales	估计表明，店内销售时间的增加导致酒类销量小幅增长
The negative effect of the unemployment rate means that liquor sales are pro-cyclical	失业率的负面影响意味着白酒销售是顺周期的
The authors were concerned whether their dynamic and trend specifications were correctly specified so tried some alternative specifications and interactions	作者担心他们的动态和趋势设定是否正确指定，因此尝试了一些替代设定和交互
This suggests that it may be incorrect to treat the trends as common across states	这表明将这些趋势视为各州的共同趋势可能是不正确的
If we augment the basic model to include state-specific linear trends the estimates are as follows	如果我们扩展基本模型以包括特定于州的线性趋势，则估计如下
The estimated coefficient for OnHours drops to zero and becomes insignificant	OnHours 的估计系数降至零并且变得微不足道
Figure 18.1: Liquor Sales by State	图 18.1：按州划分的酒类销售情况
indicating that the effects are better identified	表明效果得到了更好的识别
That explains why the coefficient estimates change when the trend specification changes	这就解释了为什么当趋势设定改变时系数估计值也会改变
Bernheim, Meer and Novarro (2016) is an excellent example of meticulous empirical work with careful attention to detail and isolating a treatment strategy	Bernheim、Meer 和 Novarro（2016）是细致的实证工作的一个很好的例子，仔细关注细节并隔离治疗策略
It is also a good example of how attention to trend specification can affect results	这也是一个很好的例子，说明了对趋势设定的关注如何影响结果
Check Your Code: Does Abortion Impact Crime?	检查你的代码：堕胎会影响犯罪吗？
In a highly-discussed paper, Donohue and Levitt (2001) used a difference-in-difference approach to develop an unusual theory	在一篇备受讨论的论文中，Donohue 和 Levitt (2001) 使用双重差分方法发展了一种不同寻常的理论
This suggests the substantial increase in abortions in the early 1970s will translate into a substantial reduction in crime 20 years later	这表明 20 年后，20 世纪 70 年代初堕胎数量的大幅增加将转化为犯罪率的大幅减少
As you might imagine this paper was controversial on several dimensions	正如你可能想象的那样，这篇论文在多个方面都存在争议
Based on these estimates Donohue and Levitt suggest that legalizing abortion reduced crime by about 15-25%	根据这些估计，Donohue 和 Levitt 认为堕胎合法化可以减少大约 15-25% 的犯罪率
Unfortunately, their estimates contained an error	不幸的是，他们的估计存在误差
Foote and Gootz include more extensive empirical analysis as well	富特和古茨还进行了更广泛的实证分析
Regardless of the errors and political ramifications the Donohue-Levitt paper is a very clever and creative use of the difference-in-difference method	不管错误和政治后果如何，多诺休-莱维特的论文都是对双重差分法的非常聪明和创造性的运用
It is unfortunate that this creative work was somewhat overshadowed by a debate over computer code	不幸的是，这项创造性的工作在某种程度上被关于计算机代码的争论所掩盖
I believe there are two important messages from this episode	我相信这一集有两个重要信息
The solution is to be pro-active and vigilant	解决办法是积极主动、保持警惕
Inference	推断
Many difference-in-difference applications use highly aggregate (e.g. state level) data because they are investigating the impact of policy changes which occur at an aggregate level	许多双重差分应用程序使用高度聚合（例如州级）数据，因为它们正在调查聚合级别发生的政策变化的影响
It has become customary in the recent literature to use clustering methods to calculate standard errors with clustering applied at a high level of aggregation	在最近的文献中，使用聚类方法来计算标准误差并在高聚合水平上应用聚类已成为惯例
To understand the motivation for this choice it is useful to review the traditional argument for clustered variance estimation	为了理解这种选择的动机，回顾一下群组方差估计的传统论点是有用的
as originally derived by Moulton (1990)	最初由 Moulton (1990) 得出
The clustered variance estimator imposes no structure on the conditional variances and correlations within each group	群组方差估计量不对每组内的条件方差和相关性强加任何结构
One implication is that if you are estimating more than 51 coefficients the sample covariance matrix estimator will not be full rank which can invalidate potentially relevant inference methods	一个含义是，如果你估计的系数超过 51 个，则样本协方差矩阵估计量将不是满秩的，这可能会使潜在相关的推断方法无效
The case for clustered standard errors was made convincingly in an influential paper by Bertrand, Duflo, and Mullainathan (2004)	Bertrand、Duflo 和 Mullainathan (2004) 在一篇有影响力的论文中令人信服地阐述了群组标准误差的案例
Based on the recommendations from this paper, researchers in economics now routinely cluster at the state level	根据本文的建议，经济学研究人员现在通常聚集在州一级
If we cannot rule out clustered dependence structures, and cannot use clustering methods due to the small number of states, then it may be inappropriate to trust the reported standard errors	如果我们不能排除群组依赖结构，并且由于状态数量少而不能使用聚类方法，那么信任报告的标准误差可能是不合适的
The problem is because the variance of the sub-group is estimated from a single observation	问题是因为子组的方差是根据单个观测值估计的
The same analysis applies to cluster-variance estimators	相同的分析适用于群组方差估计量
For a more detailed analysis and recommendations for inference see Conley and Taber (2011)	有关更详细的分析和推断建议，请参阅 Conley 和 Taber (2011)
Nonparametric Regression	非参数回归
We now turn to nonparametric estimation of the conditional expectation function (CEF)	我们现在转向条件期望函数（CEF）的非参数估计
In Chapter 20 of this textbook we explore estimation by series methods	在本教科书的第 20 章中，我们探讨了级数方法的估计
There are many excellent monographs written on nonparametric regression estimation, including Härdle (1990), Fan and Gijbels (1996), Pagan and Ullah (1999), and Li and Racine (2007)	关于非参数回归估计有许多优秀的专着，包括 Härdle (1990)、Fan 和 Gijbels (1996)、Pagan 和 Ullah (1999) 以及 Li 和 Racine (2007)
We discuss clustered observations in Section 19.20	我们在 19.20 节中讨论群组观测
Binned Means Estimator	分箱均值估计量
Figure 19.1: Nadaraya-Watson and Local Linear Regression	图 19.1：Nadaraya-Watson 和局部线性回归
However, the huge jumps at the edges of the partitions are disconcerting, counter-intuitive, and clearly an artifact of the discrete binning	然而，分区边缘的巨大跳跃令人不安、违反直觉，并且显然是离散分箱的产物
If we take another look at the estimation formula (19.1) there is no reason why we need to evaluate (19.1) only on a course grid	如果我们再看一下估计公式（19.1），就没有理由只在路线网格上评估（19.1）
This estimator, while less abrupt than the Binned Means estimator, is still quite jagged	该估计量虽然不如 Binned Means 估计量那么突然，但仍然相当锯齿状
Kernel Regression	核回归
Appropriate weight functions are called kernel functions	适当的权重函数称为核函数
Essentially, a kernel function is a bounded probability density function which is symmetric about zero	本质上，核函数是关于零对称的有界概率密度函数
Some of the mathematical expressions are simplified if we restrict attention to kernels whose variance is normalized to unity	如果我们将注意力集中在方差归一化为单位的核上，一些数学表达式就会被简化
There are a large number of functions which satisfy Definition 19.1, and many are programmed as options in statistical packages	有大量函数满足定义 19.1，并且许多函数被编程为统计包中的选项
For more discussion on kernel functions see Chapter 17 of Probability and Statistics for Economists	有关核函数的更多讨论，请参阅《经济学家的概率与统计》第 17 章
The estimator (19.2) is known as the Nadaraya-Watson estimator, the kernel regression estimator, or the local constant estimator, and was introduced independently by Nadaraya (1964) and Watson (1964)	估计量 (19.2) 被称为 Nadaraya-Watson 估计量、核回归估计量或局部常数估计量，由 Nadaraya (1964) 和 Watson (1964) 独立引入
The rolling binned means estimator (19.1) is the Nadarya-Watson estimator with the rectangular kernel	滚动分箱均值估计量 (19.1) 是具有矩形核的 Nadarya-Watson 估计量
Local Linear Estimator	局部线性估计量
The NW estimator is a local estimator of this approximate model using weighted least squares	NW 估计量是使用加权最小二乘法的该近似模型的局部估计量
The LL estimator then applies weighted least squares similarly as in NW estimation	然后，LL 估计量应用与 NW 估计类似的加权最小二乘法
One way to represent the LL estimator is as the solution to the minimization problem	表示 LL 估计量的一种方法是作为最小化问题的解决方案
Another is to write the approximating model as	另一种方法是将近似模型写为
The local linear estimator was first suggested by Stone (1977) and came into prominence through the work of Fan (1992, 1993)	局部线性估计量首先由 Stone (1977) 提出，并通过 Fan (1992, 1993) 的工作而受到重视
To visualize, Figure 19.1(b) displays the scatter plot of the same 100 observations from panel (a) divided into the same five bins	为了可视化，图 19.1(b) 显示了面板 (a) 中相同 100 个观测值的散点图，这些观测值被划分为相同的 5 个箱
In this sense the LL estimator is a flexible generalization of the linear OLS estimator	从这个意义上说，LL 估计量是线性 OLS 估计量的灵活推广
Local Polynomial Estimator	局部多项式估计量
The NW and LL estimators are both special cases of the local polynomial estimator	NW 和 LL 估计量都是局部多项式估计量的特例
Asymptotic Bias	渐近偏误
The following regularity conditions will be maintained through the chapter	本章将保持以下规律性条件
These conditions are similar to those used for the asymptotic theory for kernel density estimation	这些条件类似于用于核密度估计的渐近理论的条件
The proof for the Nadaraya-Watson estimator is presented in Section 19.26	Nadaraya-Watson 估计量的证明在第 19.26 节中给出
For a proof for the local linear estimator see Fan and Gijbels (1996)	有关局部线性估计量的证明，请参阅 Fan 和 Gijbels (1996)
This is called smoothing bias	这称为平滑偏误
We illustrate asymptotic smoothing bias in Figure 19.2	我们在图 19.2 中说明了渐近平滑偏误
The dashed lines are smoothed versions of the CEF, attenuating the peaks and valleys	虚线是 CEF 的平滑版本，减弱了峰值和谷值
Smoothing bias is a natural by-product of nonparametric estimation of nonlinear functions	平滑偏误是非线性函数非参数估计的自然副产品
As we see in the following section this will result in high estimation variance	正如我们在下一节中看到的，这将导致较高的估计方差
Figure 19.2: Smoothing Bias	图 19.2：平滑偏误
Asymptotic Variance	渐近方差
From (19.3) we deduce that	从（19.3）我们推断出
Theorem 19.2 Under Assumption 19.1,	定理 19.2 在假设 19.1 下，
For the local linear estimator see Fan and Gijbels (1996)	对于局部线性估计，请参见 Fan 和 Gijbels (1996)
AIMSE	目的
(See Exercise 19.2.) The solution is given in the following theorem	）下面的定理给出了解
Theorem 19.3 The bandwidth which minimizes the AIMSE (19.5) is	定理 19.3 最小化 AIMSE (19.5) 的带宽为
This result characterizes the AIMSE-optimal bandwidth	该结果表征了 AIMSE 最优带宽
Inserting (19.6) into (19.5) plus some algebra we find that the AIMSE using the optimal bandwidth is	将(19.6)代入(19.5)加上一些代数，我们发现使用最优带宽的AIMSE是
This is true for both the NW and LL estimators	对于 NW 和 LL 估计量都是如此
The efficiency loss by using the other standard kernels, however, is small	然而，使用其他标准内核的效率损失很小
Since the Gaussian kernel produces the smoothest estimates, which is important for estimation of marginal effects, our overall recommendation is the Gaussian kernel	由于高斯核产生最平滑的估计，这对于边际效应的估计很重要，因此我们总体推荐是高斯核
Reference Bandwidth	参考带宽
It is useful to have a reference bandwith which mimics the optimal bandwidth in a simplified setting and provides a baseline for further investigations	拥有一个参考带宽非常有用，它可以在简化的设置中模拟最优带宽，并为进一步研究提供基础
A reference approach can be used to develop a rule-of-thumb for regression estimation	参考方法可用于制定回归估计的经验法则
We now describe their derivation	我们现在描述它们的推导
Fan and Gijbels developed similar rules for higher-order odd local polynomial estimators but not for the local constant (Nadaraya-Watson) estimator	Fan 和 Gijbels 为高阶奇局部多项式估计量开发了类似的规则，但没有为局部常数 (Nadaraya-Watson) 估计量开发了类似的规则
This motivates using (19.9) as a ROT bandwidth for both the LL and NW estimators	这促使使用 (19.9) 作为 LL 和 NW 估计量的 ROT 带宽
To illustrate, take the data shown in Figure 19.1	为了说明这一点，请采用图 19.1 中所示的数据
Estimation at a Boundary	边界处的估计
To understand the problem it may be helpful to examine Figure 19.3	为了理解这个问题，查看图 19.3 可能会有所帮助
Since the expectation is correctly specified there is no estimation bias	由于期望被正确指定，因此不存在估计偏误
To calculate the asymptotic smoothing bias we can revisit the proof of Theorem 19.1.1 which calculated the asymptotic bias at interior points	为了计算渐近平滑偏误，我们可以重新审视定理 19.1.1 的证明，该定理计算了内点处的渐近偏误
Figure 19.3: Boundary Bias	图 19.3：边界偏误
Similarly we can evaluate the performance of the LL estimator	类似地，我们可以评估 LL 估计量的性能
We summarize the results without derivation (as they are more technically challenging) and instead refer interested readers to Cheng, Fan and Marron (1997) and Imbens and Kalyahnaraman (2012)	我们总结了结果，但没有推导（因为它们在技术上更具挑战性），而是建议感兴趣的读者参考 Cheng、Fan 和 Marron (1997) 以及 Imbens 和 Kalyahnaraman (2012)
The theorem also shows that the asymptotic variance has the same rate as at interior points	该定理还表明，渐进方差与内点处的渐近方差具有相同的比率
A similar argument can be made to recommend the local cubic estimator, but this is not widely used	可以提出类似的论点来推荐局部三次估计量，但这并没有被广泛使用
The asymptotic bias and variance of the LL estimator at the boundary is slightly different than in the interior	边界处 LL 估计量的渐近偏误和方差与内部略有不同
An interesting question is to find the optimal kernel function for boundary estimation	一个有趣的问题是找到边界估计的最优核函数
Nonparametric Residuals and Prediction Errors	非参数残差和预测误差
Cross-Validation Bandwidth Selection	交叉验证带宽选择
The most popular method in applied statistics to select bandwidths is cross-validation	应用统计学中选择带宽最流行的方法是交叉验证
The method applies to NW, LL, and LP estimation, as well as other nonparametric estimators	该方法适用于 NW、LL 和 LP 估计以及其他非参数估计
There is not an explicit solution to the minimization problem (19.13), so it must be solved numerically	最小化问题（19.13）没有明确的解，因此必须通过数值求解
Evaluation using a coarse grid is typically sufficient for practical application	使用粗网格进行评估通常足以满足实际应用的需要
Figure 19.4(a) shows the minimizing bandwidths by the arrows	图 19.4(a) 通过箭头显示了最小化带宽
The CV criterion can also be used to select between different nonparametric estimators	CV 准则还可用于在不同的非参数估计量之间进行选择
Figure 19.4: Bandwidth Selection	图 19.4：带宽选择
The estimators track the true function quite well, and the difference between the bandwidths is relatively minor in this application	估计量很好地跟踪了真实函数，并且在此应用中带宽之间的差异相对较小
We first provide a consistency result	我们首先提供一致性结果
A proof for the Nadaraya-Watson estimator is presented in Section 19.26	Nadaraya-Watson 估计量的证明在第 19.26 节中给出
We next present an asymptotic distribution result	接下来我们给出一个渐近分布结果
A proof for the Nadaraya-Watson estimator appears in Section 19.26	Nadaraya-Watson 估计量的证明出现在第 19.26 节中
There are several interesting features about the asymptotic distribution which are noticeably different than for parametric estimators	渐近分布有几个有趣的特征，它们与参数估计量明显不同
This is harder than estimating a finite dimensional parameter, and thus comes at a cost	这比估计有限维参数更困难，因此是有代价的
Unlike parametric estimation the asymptotic distribution of the nonparametric estimator includes a term representing the bias of the estimator	与参数估计不同，非参数估计量的渐近分布包括表示估计量偏误的项
Undersmoothing	欠平滑
The following is the technical statement	以下是技术声明
Finally, the theory is simply misleading as a characterization of the distribution of the estimator	最后，该理论作为估计量分布的表征完全具有误导性
Conditional Variance Estimation	条件方差估计
There is one subtle difference between CEF and conditional variance estimation	CEF 和条件方差估计之间存在细微差别
For these reasons, the NW estimator may be preferred for conditional variance estimation	由于这些原因，NW 估计量可能更适合条件方差估计
Fan and Yao (1998) derive the asymptotic distribution of the estimator (19.17)	Fan 和 Yao (1998) 推导了估计量 (19.17) 的渐近分布
It is relatively straightforward to calculate the exact conditional variance of the Nadaraya-Watson, local linear, or local polynomial estimator	计算 Nadaraya-Watson、局部线性或局部多项式估计量的精确条件方差相对简单
A simple option is the asymptotic formula	一个简单的选择是渐近公式
In general we recommend (19.18) calculated with prediction errors as this is the closest analog of the finite sample covariance matrix	一般来说，我们建议使用预测误差计算（19.18），因为这是有限样本协方差矩阵的最接近的模拟
Confidence Bands	置信带
We can construct asymptotic confidence intervals	我们可以构造渐近置信区间
It should be noted, however, that this confidence interval has two unusual properties	然而，应该指出的是，这个置信区间有两个不寻常的特性
Thus they are typically called pointwise confidence intervals	因此，它们通常称为逐点置信区间
The plain fact is that once we honestly acknowledge that the true CEF is nonparametric it then follows that any finite sample estimator will have finite sample bias and this bias will be inherently unknown and thus difficult to incorporate into confidence intervals	显而易见的事实是，一旦我们诚实地承认真正的 CEF 是非参数的，那么任何有限样本估计量都将具有有限样本偏误，并且这种偏误本质上是未知的，因此很难纳入置信区间
Despite these unusual properties we can still use the interval (19.20) to display uncertainty and as a check on the precision of the estimates	尽管有这些不寻常的特性，我们仍然可以使用区间 (19.20) 来显示不确定性并检查估计的精度
The Local Nature of Kernel Regression	核回归的局部性质
Picking local bandwidths adds extra noise	选择本地带宽会增加额外的噪音
Furthermore, selected bandwidths may be meaningfully large so that the estimation window may be a large portion of the sample	此外，所选择的带宽可以是有意义的大，使得估计窗口可以是样本的大部分
In this case estimation is neither local nor fully global	在这种情况下，估计既不是局部的也不是完全全局的
Application to Wage Regression	工资回归的应用
We illustrate the methods with an application to the the CPS data set	我们通过 CPS 数据集的应用来说明这些方法
This sample has 762 observations	该样本有 762 个观测值
We first need to decide on the region of interest (range of experience) for which we will calculate the regression estimator	我们首先需要决定我们将计算回归估计量的感兴趣区域（经验范围）
To avoid boundary bias we use the local linear estimator	为了避免边界偏误，我们使用局部线性估计量
We calculate the local linear estimator using both bandwidths and display the estimates in Figure 19.5(b)	我们使用两种带宽计算局部线性估计量，并在图 19.5(b) 中显示估计值
Based on this inspection we select the estimate based on the ROT bandwidth (the solid line in panel (b))	基于此检查，我们选择基于 ROT 带宽的估计（面板 (b) 中的实线）
We next consider estimation of the conditional variance function	接下来我们考虑条件方差函数的估计
We next compute standard errors for the regression function estimates using formula (19.18)	接下来我们使用公式（19.18）计算回归函数估计的标准误差
The estimates imply that for this population (Black men who are high school graduates) the average wage rises for the first 20 years of work experience (from 18 to 38 years of age) and then flattens with no further increases in average wages for the next 20 years of work experience (from 38 to 58 years of age)	20年工作经验（38岁至58岁）
Figure 19.5: Log Wage Regression on Experience	图 19.5：经验的对数工资回归
Clustered Observations	群组观测
Dependence within each cluster is unstructured	每个群组内的依赖性是非结构化的
The natural method to obtain prediction errors is by delete-cluster regression	获得预测误差的自然方法是通过删除群组回归
Figure 19.6: Confidence Band Construction	图 19.6：置信带构建
Application to Testscores	检验成绩的应用
We illustrate kernel regression with clustered observations by using the Duflo, Dupas, and Kremer (2011) investigation of the effect of student tracking on testscores	我们通过使用 Duflo、Dupas 和 Kremer（2011）对学生跟踪对检验分数的影响的调查，用群组观测来说明核回归
We investigate the authors' specification of this control using local linear regression	我们使用局部线性回归研究了作者对该控制的设定
We took the subsample of 1487 girls who experienced tracking and estimated the regression of testscores on percentile	我们对 1487 名经历过跟踪的女孩进行了子样本分析，并估计了百分位数检验分数的回归
We used local linear regression with a Gaussian kernel	我们使用带有高斯核的局部线性回归
This means that the clustered CV criterion has difficulty discriminating between these bandwidth choices	这意味着群组 CV 准则很难区分这些带宽选择
Students with initial testscores at the top of the initial distribution have higher final testscores on average than predicted by a linear specification	初始检验成绩位于初始分布顶部的学生的平均最终检验成绩高于线性设定的预测
Multiple Regressors	多重自变量
Figure 19.7: Testscore as a Function of Initial Percentile	图 19.7：检验分数作为初始百分位数的函数
For the local-linear estimator, define	对于局部线性估计量，定义
In multiple regressor kernel regression cross-validation remains a recommended method for bandwidth selection	在多重自变量核回归中，交叉验证仍然是带宽选择的推荐方法
This means that numerical minimization needs to be done more efficiently than by a simple grid search	这意味着数值最小化需要比简单的网格搜索更有效地完成
The asymptotic distribution of the estimators in the multiple regressor case is an extension of the single regressor case	多自变量情况下估计量的渐近分布是单自变量情况的扩展
For the Nadaraya-Watson estimator	对于尊敬的沃森估计者
and for the Local Linear estimator	对于局部线性估计量
We do not provide regularity conditions or a formal proof but instead refer interested readers to Fan and Gijbels (1996)	我们不提供正则性条件或正式证明，而是建议感兴趣的读者参考 Fan 和 Gijbels (1996)
Curse of Dimensionality	维度诅咒
The term "curse of dimensionality" is used to describe the phenomenon that the convergence rate of nonparametric estimators slows as the dimension increases	术语“维数灾难”用于描述非参数估计量的收敛速度随着维数的增加而减慢的现象
This is a slower rate of convergence than in the one-dimensional case	与一维情况相比，这是一个较慢的收敛速度
This phenomenon - that the rate of convergence of nonparametric estimation decreases as the dimension increases - is called the curse of dimensionality	这种现象——非参数估计的收敛速度随着维数的增加而降低——被称为维数灾难
It is common across most nonparametric estimation problems and is not specific to kernel regression	它在大多数非参数估计问题中都很常见，并且并非特定于核回归
The curse of dimensionality has led to the practical rule that most applications of nonparametric regression have a single regressor	维数灾难导致了这样的实际规则：非参数回归的大多数应用都只有一个自变量
Partially Linear Regression	部分线性回归
To handle discrete regressors and/or reduce the dimensionality we can separate the regression function into a nonparametric and a parametric part	为了处理离散自变量和/或降低维度，我们可以将回归函数分为非参数部分和参数部分
This model combines two elements	该模型结合了两个元素
In practice it is best to think of the assumptions as approximations	在实践中，最好将假设视为近似值
This may not be a restriction in practice as many econometric applications only have a small number of continuously distributed regressors	这在实践中可能不是一个约束，因为许多计量经济学应用仅具有少量连续分布的自变量
The seminal contribution for estimation of (19.26) is Robinson (1988) who proposed a nonparmametric version of residual regression	Robinson (1988) 对 (19.26) 的估计做出了开创性的贡献，他提出了残差回归的非参数版本
Subtract this from (19.26), obtaining	从 (19.26) 中减去该值，得到
Robinson's estimator replaces the infeasible regression errors by nonparametric counterparts	罗宾逊估计量用非参数对应物代替了不可行的回归误差
The resulting estimators and standard errors have conventional asymptotic distributions under specific assumptions on the bandwidths	在带宽的特定假设下，所得的估计量和标准误差具有传统的渐近分布
Andrews (2004) provides a more general treatment with insight to the general structure of semiparametric estimators	Andrews (2004) 提供了一种更通用的处理方法，深入了解半参数估计量的一般结构
The reason why the third step estimator has a conventional asymptotic distribution is a bit simpler to explain	第三步估计量具有传统渐近分布的原因比较容易解释
Once again, the theory is advanced so the above two paragraphs should not be taken as an explanation	再次，理论是先进的，因此以上两段不应被视为解释
The good news is that the estimation method is straightforward	好消息是估计方法很简单
The l poly command automatically displays the estimated CEF along with 95% confidence bands with standard errors computed using (19.18)	l poly 命令自动显示估计的 CEF 以及 95% 置信带以及使用 (19.18) 计算的标准误差
The Stata command npregress estimates local linear (the default) or Nadaraya-Watson regression	Stata 命令 npregress 估计局部线性（默认）或 Nadaraya-Watson 回归
A display of the estimated CEF and 95% confidence bands at specific points (computed using the percentile bootstrap) may be obtained with the postestimation command margins	可以使用后估计命令裕度来显示特定点处的估计 CEF 和 95% 置信带（使用百分位数引导程序计算）
There are several R packages which implement kernel regression	有几个 R 包可以实现内核回归
There are options which allow local linear and local polynomial estimation, alternative kernels, and alternative bandwidth selection methods	有一些选项允许局部线性和局部多项式估计、替代内核和替代带宽选择方法
Inserted into (19.29) we find that (19.29) equals	代入(19.29)我们发现(19.29)等于
The second equality writes the expectation as an integral	第二个等式将期望写成积分
Together with (19.27) this implies Theorem 19.1.1	与 (19.27) 一起意味着定理 19.1.1
Proof of Theorem 19.2.1	定理证明19.2.1
Proof of Theorem 19.7	定理19.7的证明
Taking the unconditional expecation yields	采取无条件期望收益率
Combined with (19.35) we obtain (19.12), as desired	结合（19.35）我们得到（19.12），如所期望的
Proof of Theorem 19.8	定理19.8的证明
Proof of Theorem 19.9	定理19.9的证明
The CLT holds if we can verify the Lindeberg condition	如果我们能够验证 Lindeberg 条件，则 CLT 成立
This is an advanced calculation and will not interest most readers	这是一种高级计算，大多数读者不会感兴趣
Series Regression	系列回归
Chapter 19 studied nonparametric regression by kernel smoothing methods	第19章研究了核平滑方法的非参数回归
In this chapter we study an alternative class of nonparametric methods known as series regression	在本章中，我们研究另一类非参数方法，称为序列回归
The basic model is identical to that examined in Chapter 19	基本模型与第 19 章中检查的模型相同
For a detailed review see Chen (2007)	详细综述请参见 Chen (2007)
Linear series regression models take the form	线性系列回归模型采用以下形式
For a textbook treatment of series regression see Li and Racine (2007)	有关序列回归的教科书处理，请参阅 Li 和 Racine (2007)
Two recent important papers are Belloni, Chernozhukov, Chetverikov, and Kato (2015) and Chen and Christensen (2015)	最近的两篇重要论文是 Belloni、Chernozhukov、Chetverikov 和 Kato (2015) 以及 Chen 和 Christensen (2015)
Polynomial Regression	多项式回归
We can write it in vector notation as (20.4) where	我们可以用向量表示法将其写为 (20.4) 其中
In general, a linear series regression model takes the form	一般来说，线性系列回归模型采用以下形式
Illustrating Polynomial Regression	说明多项式回归
Examine panel (a) which shows the estimates for the sub-sample of white women	检查面板 (a)，它显示了白人女性子样本的估计值
The difference between the polynomials of order 4,8 , and 12 is relatively minor, especially for experience levels below 20	4,8 阶多项式和 12 阶多项式之间的差异相对较小，特别是对于经验水平低于 20 的情况
Now examine panel (b) which shows the estimates for the sub-sample of Black women	现在检查面板 (b)，它显示了黑人女性子样本的估计值
Assuming we are expecting a concave (or nearly concave) experience profile the only estimate which satisfies this is the quadratic	假设我们期望凹（或接近凹）的经验曲线，满足这一点的唯一估计是二次
Why the difference between panels (a) and (b)? The most likely explanation is the different sample sizes	为什么面板（a）和（b）之间存在差异？最可能的解释是样本量不同
The erratic nature of the estimated polynomial regressions in Figure 20.1(b) is a common feature of higher-order estimated polynomial regressions	图 20.1(b) 中估计多项式回归的不稳定性质是高阶估计多项式回归的一个共同特征
Better results can sometimes be obtained by a spline regression which is described in Section 20.5	有时可以通过第 20.5 节中描述的样条回归获得更好的结果
Figure 20.1: Polynomial Estimates of Experience Profile	图 20.1：经验曲线的多项式估计
Orthogonal Polynomials	正交多项式
In most applications one of these methods will be sufficient for a well-conditioned regression	在大多数应用中，这些方法之一足以进行条件良好的回归
A computationally more robust implementation can be obtained by using orthogonal polynomials	通过使用正交多项式可以获得计算上更稳健的实现
One approach is to use sample orthogonalization	一种方法是使用样本正交化
This is the approach used for the examples presented in the previous section	这是上一节中介绍的示例所使用的方法
Another approach is to use an algebraic orthogonal polynomial	另一种方法是使用代数正交多项式
The following three choices are most relevant for economic applications	以下三个选择与经济应用最相关
The R package orthopolynom provides a convenient set of commands to compute many orthogonal polynomials including the above	R 包正交多项式提供了一组方便的命令来计算许多正交多项式，包括上述多项式
Splines	样条曲线
A spline is a piecewise polynomial	样条曲线是分段多项式
The join points between the segments are called knots	线段之间的连接点称为结
To impose smoothness and parsimony it is common to constrain the spline function to have continuous derivatives up to the order of the spline	为了实现平滑性和简约性，通常将样条函数约束为具有高达样条阶数的连续导数
Thus a linear spline is constrained to be continuous, a quadratic spline is constrained to have a continuous first derivative, and a cubic spline is constrained to have continuous first and second derivatives	因此，线性样条被约束为连续，二次样条被约束为具有连续的一阶导数，三次样条被约束为具有连续的一阶和二阶导数
A simple way to construct a regression spline is as follows	构造回归样条的简单方法如下
A quadratic spline with one knot is	具有一个结的二次样条是
This distinction is not critical to our treatment so for simplicity we refer to splines as series regression models	这种区别对我们的处理并不重要，因此为了简单起见，我们将样条称为系列回归模型
Illustrating Spline Regression	说明样条回归
Now we consider a similar regression for Black men with a college education, a sub-sample with 394 observations	现在我们考虑对受过大学教育的黑人进行类似的回归，这是一个包含 394 个观测值的子样本
While the spline is a quadratic over each segment, what you can see is that the first two segments (experience levels between 0-10 and 10-20 years) are essentially linear	虽然样条曲线在每个段上都是二次方，但你可以看到前两个段（0-10 年和 10-20 年之间的经验水平）基本上是线性的
The estimated regression function is smooth	估计的回归函数是平滑的
A quadratic or cubic spline is useful when it is desired to impose smoothness as in Figure 20.2(a)	当需要如图 20.2(a) 所示的平滑度时，二次或三次样条很有用
In contrast, a linear spline is useful when it is desired to allow for sharp changes in slope	相反，当需要允许斜率急剧变化时，线性样条很有用
To illustrate we consider the data set CHJ2004 which is a sample of 8684 urban Phillipino households from Cox, B	为了说明这一点，我们考虑数据集 CHJ2004，它是 Cox、B. E. Hansen 和 Jimenez (2004) 的 8684 个城市菲律宾家庭的样本
Figure 20.2: Spline Regression Estimates	图 20.2：样条回归估计
This model has a total of 22 coefficients	该模型共有 22 个系数
A linear spline model is particularly well suited for this application as it allows for discontinuous changes in slope	线性样条模型特别适合此应用，因为它允许斜率的不连续变化
Linear spline models with a single knot have been recently popularized by Card, Lee, Pei, and Weber (2015) with the label regression kink design	Card、Lee、Pei 和 Weber (2015) 最近通过标签回归扭结设计推广了具有单结的线性样条模型
The Global/Local Nature of Series Regression	系列回归的全局/局部性质
While this description has some merit it is not a complete description	虽然这个描述有一些优点，但它并不是一个完整的描述
To see this, observe that we can write the estimator as	为了看请这一点，观察到我们可以将估计量写为
Figure 20.3: Kernel Representation of Polynomial Weight Function	图 20.3：多项式权重函数的核表示
Qualitatively similar plots are obtained for spline regression	样条回归获得了定性相似的图
Stone-Weierstrass and Jackson Approximation Theory	斯通-韦尔斯特拉斯和杰克逊近似理论
Formal statements can be derived from the mathematical theory of the approximation of functions	形式陈述可以从函数逼近的数学理论中导出
An elegant and famous theorem is the Stone-Weierstrass Theorem (Weierstrass, 1885, Stone, 1948) which states that any continuous function can be uniformly well approximated by a polynomial of sufficiently high order	一个优雅且著名的定理是 Stone-Weierstrass 定理（Weierstrass，1885；Stone，1948），该定理指出任何连续函数都可以通过足够高阶的多项式一致地很好地近似
and define the minimized value of (20.7)	并定义 (20.7) 的最小值
For most of of our results the latter bound will be sufficient	对于我们的大多数结果来说，后一个界限就足够了
Since economists are often more interested in marginal effects (derivatives) than in levels this may be a good reason to prefer splines over polynomials	由于经济学家通常对边际效应（导数）比对水平更感兴趣，这可能是更喜欢样条而不是多项式的一个很好的理由
It turns out, however, that the projection error can be easily deduced from (20.11)	然而，事实证明，投影误差可以很容易地从（20.11）中推导出来
Definition 20.1 The projection approximation error is	定义20.1 投影近似误差为
The available theory of the approximation of functions goes beyond the results described here	可用的函数逼近理论超出了此处描述的结果
Regressor Bounds	自变量界
Figure 20.4: Normalized Regressor Length	图 20.4：归一化自变量长度
Matrix Convergence	矩阵收敛
One of the challenges which arise when developing a theory for the least squares estimator is how to describe the large-sample behavior of the sample design matrix	开发最小二乘估计理论时出现的挑战之一是如何描述样本设计矩阵的大样本行为
It turns out to be convenient if we first rotate the regressor vector so that the elements are orthogonal in expectation	如果我们首先旋转回归向量以使元素在期望中正交，结果会很方便
The standardized regressors are not used in practice; they are introduced only to simplify the theoretical derivations	标准化自变量并未在实践中使用；引入它们只是为了简化理论推导
We are now in a position to describe a convergence result for the standardized design matrix	我们现在可以描述标准化设计矩阵的收敛结果
For the least squares estimator what is particularly important is the inverse of the sample design matrix	对于最小二乘估计量来说，特别重要的是样本设计矩阵的逆
Fortunately we can easily deduce consistency of its inverse from (20.19) when the regressors have been orthogonalized as described	幸运的是，当自变量按所述正交化时，我们可以轻松地从 (20.19) 推断出其逆的一致性
Consistent Estimation	一致的估计
We can establish the following	我们可以建立以下内容
Convergence Rate	收敛率
We now give a rate of convergence	我们现在给出一个收敛速度
It is based on Newey (1997)	它基于 Newey (1997)
This is the same convergence rate as obtained by kernel regression under similar assumptions	这与在类似假设下通过核回归获得的收敛速度相同
To obtain a doubling in the optimal number of coefficients you need to multiply the sample size by 32	要获得最优系数数量加倍，你需要将样本大小乘以 32
Figure 20.5: Integrated Squared Error	图 20.5：积分平方误差
Assumption 20.2.1 is conditional square integrability	假设 20.2.1 是条件平方可积
The asymptotic bias is similar to that found in kernel regression	渐近偏误与核回归中的渐近偏误类似
If we are estimating the regression function then the bias is the error in approximating the regression function; if we are estimating the regression derivative then the bias is the error in the derivative in the approximation error for the regression function	如果我们估计回归函数，那么偏误就是逼近回归函数的误差；如果我们估计回归导数，那么偏误就是回归函数近似误差中导数的误差
Regression Estimation	回归估计
There are several important features about the asymptotic distribution (20.27)	渐近分布 (20.27) 有几个重要特征
This means that the precision of the series regression estimator is considerably degraded at the edge of the support	这意味着系列回归估计量的精度在支持边缘处显着降低
This means that the estimator itself is inefficient	这意味着估计量本身效率低下
It shows that the asymptotic distribution is normal but has a non-trivial finite sample bias	它表明渐近分布是正态分布，但具有非平凡的有限样本偏误
Residuals and Regression Fit	残差和回归拟合
Cross-Validation Model Selection	交叉验证模型选择
What may be surprising is that even for panel (a), which has a large sample and smooth estimates, the CV-selected model is still relatively parsimonious	可能令人惊讶的是，即使对于具有大样本和平滑估计的面板 (a)，CV 选择的模型仍然相对简约
Both CV functions are relatively similar across these values	两个 CV 函数在这些值上都相对相似
Figure 20.6: Cross-Validation Functions for Polynomial Estimates of Experience Profile	图 20.6：经验曲线多项式估计的交叉验证函数
In the case of conditional homoskedasticity the latter simplifies to	在条件同方差的情况下，后者简化为
In either case we find that the variance is approximately	在任何一种情况下，我们发现方差大约为
The estimator of (20.31) recommended by Andrews (1991a) is the HC3 estimator	Andrews (1991a) 推荐的 (20.31) 估计量是 HC3 估计量
Alternatives include the HC1 or HC2 estimators	替代方案包括 HC1 或 HC2 估计量
As for parametric regression with clustered observations the standard assumption is that the clusters are mutually independent but dependence within each cluster is unstructured	对于具有群组观测的参数回归，标准假设是群组是相互独立的，但每个群组内的依赖性是非结构化的
Regardless, both plots indicate that the average wage rises for experience levels up to about 20 years and then flattens for experience levels above 20 years	无论如何，这两个图都表明，经验水平达到 20 年左右时，平均工资会上升，而经验水平超过 20 年时，平均工资会趋于平缓
Figure 20.7: Polynomial Estimates with 95% Confidence Bands	图 20.7：95% 置信区间的多项式估计
There are two deficiencies with these confidence bands	这些置信带有两个缺陷
Consequently we should interpret their coverage as having pointwise validity and be cautious about interpreting global shapes from the confidence bands	因此，我们应该将它们的覆盖范围解释为具有逐点有效性，并谨慎地从置信带解释全局形状
Uniform Approximations	统一近似
might converge to a stochastic (Gaussian) process, but this is not the case	可能会收敛到随机（高斯）过程，但事实并非如此
To develop a uniform theory, Belloni, Chernozhukov, Chetverikov, and Kato (2015) have introduced what are known as strong approximations	为了发展统一理论，Belloni、Chernozhukov、Chetverikov 和 Kato (2015) 引入了所谓的强近似
It can also be used to develop confidence bands (different from those from the previous section) with asymptotic uniform coverage	它还可用于开发具有渐进均匀覆盖的置信带（与上一节中的不同）
Partially Linear Model	部分线性模型
Panel Fixed Effects	面板固定效果
The one-way error components nonparametric regression model is	单向误差成分非参数回归模型为
The fixed effects estimator is the same as in linear panel data regression	固定效应估计量与线性面板数据回归中的相同
The coefficient is estimated by least squares on the within transformed variables	通过内部变换变量的最小二乘估计系数
This includes all powers and cross-products	这包括所有权力和叉积
The inclusion of cross-products greatly increases the number of coefficients relative to the univariate case	相对于单变量情况，包含叉积大大增加了系数的数量
Consequently series applications with multiple regressors typically require large sample sizes	因此，具有多个自变量的系列应用通常需要大样本量
Additively Separable Models	可加分离模型
Essentially, this is the same as the expansions discussed in the previous section but omitting the interaction terms	本质上，这与上一节中讨论的扩展相同，但省略了交互项
The advantage of additive separability is the reduction in dimensionality	加法可分离性的优点是降维
This is a major reduction	这是一个重大的减少
The disadvantage of additive separability is that the interaction effects have been eliminated	加性可分离性的缺点是相互作用效应被消除了
The decision to impose additive separability can be based on an economic model which suggests the absence of interaction effects, or can be a model selection decision similar to the selection of the number of series terms	施加加性可分性的决定可以基于表明不存在相互作用效应的经济模型，或者可以是类似于级数项数量的选择的模型选择决策
Nonparametric Instrumental Variables Regression	非参数工具变量回归
The basic nonparametric instrumental variables (NPIV) model takes the form	基本非参数工具变量 (NPIV) 模型采用以下形式
In recent years there have been many papers in the econometrics literature examining the NPIV model, exploring identification, estimation, and inference	近年来，计量经济学文献中有许多论文研究了 NPIV 模型，探索识别、估计和推断
Here we describe some of the primary results	在这里，我们描述了一些主要结果
Notice that this is lower triangular and full rank	请注意，这是下三角且满秩的
For state-of-the-art inference methods see Chen and Pouzo (2015) and Chen and Christensen (2018)	对于最先进的推断方法，请参阅 Chen 和 Pouzo (2015) 以及 Chen 和 Christensen (2018)
NPIV Identification	NPIV鉴定
This is considerably more challenging	这更具挑战性
Specifying and understanding the needed restrictions is more subtle than in the linear case	指定和理解所需的约束比线性情况更微妙
Newey and Powell (2003) defined this fundamental condition as completeness	Newey 和 Powell (2003) 将这一基本条件定义为完整性
This is analogous to the linear IV model where identification is a property of the reduced form equations, not a property of the structural equation	这类似于线性 IV 模型，其中识别是简化形式方程的特征，而不是结构方程的特征
As we stated above, completeness may not be satisfied even if the reduced form relationship is strong	如上所述，即使简化形式关系很强，也可能无法满足完整性
This is despite the fact that the reduced form equation is strong	尽管事实上简化形式方程是强的
While identification fails for some conditional distributions, it does not fail for all	虽然某些条件分布的识别失败，但并非所有条件分布都失败
Andrews (2017) provides classes of distributions which satisfy the completeness condition and shows that these distribution classes are quite general	Andrews (2017) 提供了满足完整性条件的分布类，并表明这些分布类非常通用
What does this mean in practice? If completeness fails then the structural equation is not identified and cannot be consistently estimated	这在实践中意味着什么？如果完整性失败，则结构方程无法识别并且无法一致地估计
A partial answer is provided by Freyberger (2017)	Freyberger (2017) 提供了部分答案
Unlike Stock and Yogo (2005), however, Freyberger's result does not address inference	然而，与 Stock 和 Yogo (2005) 不同的是，Freyberger 的结果并不涉及推断
NPIV Convergence Rate	NPIV收敛率
This is not intuitive and requires a deeper mathematical treatment	这并不直观，需要更深入的数学处理
Nonparametric vs Parametric Identification	非参数与参数识别
One of the insights from the nonparametric identification literature is that it is important to understand which features of a model are nonparametrically identified, meaning which are identified without functional form assumptions, and which are only identified based on functional form assumptions	非参数识别文献的见解之一是，了解模型的哪些特征是非参数识别的非常重要，这意味着哪些特征是在没有功能形式假设的情况下识别的，哪些特征是仅根据功能形式假设识别的
Since functional form assumptions are dubious in most economic applications the strong implication is that researchers should strive to work only with models which are nonparametrically identified	由于函数形式假设在大多数经济应用中都是可疑的，因此强烈的暗示是研究人员应该努力只使用非参数识别的模型
Even if a model is determined to be nonparametrically identified a researcher may estimate a linear (or another simple parametric) model	即使模型被确定为非参数识别，研究人员也可以估计线性（或其他简单参数）模型
If, however, the model is identified only under a parametric assumption, then it cannot be viewed as an approximation and it is unclear how to interpret the model more broadly	然而，如果模型仅在参数假设下确定，则不能将其视为近似值，并且不清楚如何更广泛地解释该模型
This means that researchers who estimate linear regressions (or other lowdimensional regressions) can interpret their estimated model as an approximation to the underlying CEF	这意味着估计线性回归（或其他低维回归）的研究人员可以将他们的估计模型解释为基础 CEF 的近似值
But the analysis can also point out simple yet subtle mistakes	但分析也可以指出简单而微妙的错误
then we can see that this model is not identified	然后我们可以看到这个模型没有被识别
The apparent identification of (20.40) critically rests on the unknown truth of the linearity in (20.40)	(20.40) 的明显识别关键取决于 (20.40) 中线性的未知真相
As stated above, identification based on functional form restrictions alone is highly undesirable because functional form assumptions are dubious	如上所述，仅基于功能形式约束的识别是非常不可取的，因为功能形式假设是可疑的
Example: Angrist and Lavy (1999)	示例：安格里斯特和拉维 (1999)
To illustrate nonparametric instrumental variables in practice we follow Horowitz (2011) by extending the empirical work reported in Angrist and Lavy (1999)	为了说明实践中的非参数工具变量，我们遵循 Horowitz (2011)，扩展了 Angrist 和 Lavy (1999) 中报告的实证工作
The variables enrollment and disadvantaged are treated as exogenous but classize is treated as endogenous because wealthier schools may be able to offer smaller class sizes	入学率和弱势群体变量被视为外生变量，但分类被视为内生变量，因为较富裕的学校可能能够提供较小的班级规模
The authors suggest the following instrumental variable for classsize	作者建议使用以下用于班级规模的工具变量
Their estimates show a negative and statistically significant impact of classsize on reading test scores	他们的估计显示班级规模对阅读检验成绩产生负面且具有统计显著性的影响
We are interested in a nonparametric version of their equation	我们对他们的方程的非参数版本感兴趣
To keep the specification reasonably parsimonious yet flexible we use the following equation	为了保持设定合理简约但灵活，我们使用以下等式
This is a cubic equation in classize and disadvantaged, with a single interaction term, and linear in enrollment and grade4	这是分类和弱势群体的三次方程，具有单个交互项，并且与入学和年级呈线性关系4
Table 20.1: Nonparametric Instrumental Variable Regression for Reading Test Score	表 20.1：阅读检验成绩的非参数工具变量回归
To obtain a better interpretation of the results we display the estimated regression functions in Figure 20.8	为了更好地解释结果，我们在图 20.8 中显示了估计的回归函数
Figure 20.8: Nonparametric Instrumental Variables Estimates of the Effect of Classize and Disadvantaged on Reading Test Scores	图 20.8：分类和劣势对阅读检验成绩影响的非参数工具变量估计
In panel (a) we can see that increasing class size decreases the average test score	在面板（a）中，我们可以看到增加班级规模会降低平均考试成绩
The estimated effect is remarkably close to linear	估计的效果非常接近线性
In panel (b) we can see that increasing the percentage of disadvantaged students greatly decreases the average test score	在面板（b）中，我们可以看到，增加弱势学生的比例会大大降低平均考试成绩
The effect is precisely estimated with tight pointwise confidence bands	通过严格的逐点置信带精确估计效果
We can also use the estimated model for hypothesis testing	我们还可以使用估计模型进行假设检验
This suppports the hypothesis that class size has a negative effect on student performance	这支持了班级规模对学生成绩有负面影响的假设
We can also use the model to quantify the impact of class size on test scores	我们还可以使用该模型来量化班级规模对考试成绩的影响
This is a linear function of the coefficients	这是系数的线性函数
(The point estimate is identical to the difference between the endpoints of the estimated function shown in panel (a).) This is a small but substantive impact	）这是一个微小但实质性的影响
Proof of Theorem 20.4	定理20.4的证明
Markov's inequality implies (20.19)	马尔可夫不等式意味着 (20.19)
Proof of Theorem 20.5	定理 20.5 的证明
Proof of Theorem 20.6	定理20.6的证明
The first inequality is the Quadratic Inequality (B.18), the second is (20.21)	第一个不等式是二次不等式 (B.18)，第二个不等式是 (20.21)
Proof of Theorem 20.7	定理20.7的证明
where the inequality is Assumption 20.1.2	其中不等式为假设 20.1.2
Proof of Theorem 20.8	定理20.8的证明
We show that (20.47) is asymptotically normal and (20.48)-(20.49) are asymptotically negligible	我们证明 (20.47) 是渐近正态的，而 (20.48)-(20.49) 是渐近可忽略的
By Assumption 20.2.2	根据假设 20.2.2
Then the left-side of (20.51) is smaller than	那么 (20.51) 的左边小于
the final inequality by (20.52)	最终的不等式为(20.52)
under Assumption 20.2.3	根据假设 20.2.3
Together, we have shown that	我们共同证明了
By the Triangle Inequality, the definition (20.10), the Schwarz Inequality, and definition (20.15)	由三角不等式及其定义 (20.10)、施瓦茨不等式及其定义 (20.15)
The coefficients satisfy the relationship	系数满足关系
which is (20.55), as required	根据要求，即 (20.55)
Regression Discontinuity	回归不连续性
One of the core goals in applied econometrics is estimation of treatment effects	应用计量经济学的核心目标之一是估计治疗效果
When it applies there are simple techniques for estimation of the causal effect of treatment	当它应用时，有一些简单的技术可以估计治疗的因果效应
The first use of regression discontinuity is attributed to Thistlethwaite and Campbell (1960)	Thistlethwaite 和 Campbell (1960) 首次使用了断点回归
The core model is sharp regression discontinuity where treatment is a discontinuous deterministic rule of an observable	核心模型是尖锐回归不连续性，其中处理是可观察量的不连续确定性规则
We start by reviewing sharp regression discontinuity and then cover fuzzy regression discontinuity	我们首先回顾尖锐回归不连续性，然后介绍模糊回归不连续性
Sharp Regression Discontinuity	急剧回归不连续性
Take the potential outcomes framework	以潜在结果框架为例
It may be helpful to discuss a specific example	讨论一个具体的例子可能会有所帮助
Thus it seems reasonable to conclude that these counties received a substantial exogenous increase in funding	因此，可以合理地得出结论，这些县获得了外源性资金的大幅增加
Ludwig and Miller were interested to see if this increase in Head Start funding led to measurable changes in outcomes	路德维希和米勒有兴趣了解启蒙资金的增加是否会导致结果发生可衡量的变化
A subset of their data (assembled by Cattaneo, Titiunik, and VazquezBare (2017)) is posted on the textbook website as LM2007	他们的数据子集（由 Cattaneo、Titiunik 和 VazquezBare (2017) 汇总）以 LM2007 的形式发布在教科书网站上
In this application the unit of measurement is a U.S. county	在此应用程序中，测量单位是美国县
In this section we present the core identification theorem for the regression discontinuity model	在本节中，我们提出回归不连续模型的核心识别定理
The following is the core identification theorem for the regression discontinuity design	以下是断点回归设计的核心辨识定理
It is due to Hahn, Todd, and Van der Klaauw (2001)	这是 Hahn、Todd 和 Van der Klaauw (2001) 的贡献
There is no reason to expect a discontinuity in either function	没有理由预期这两个函数会出现不连续性
The intuition for the theorem can be seen in Figure 21.1(a)	该定理的直觉如图 21.1(a) 所示
The plot in Figure 21.1 (a) was designed to mimic what we might expect in the Head Start application	图 21.1 (a) 中的图旨在模拟我们在 Head Start 应用程序中的预期
Thus a limitation of the RDD approach is that it estimates a narrowly-defined treatment effect	因此，RDD 方法的局限性在于它估计的治疗效果范围狭窄
Thus a nonparametric treatment is essential to preclude falsely labeling nonlinearity as a discontinuity	因此，非参数处理对于防止将非线性错误地标记为不连续性至关重要
The previous two chapters have studied nonparametric kernel and series regression	前两章研究了非参数核和级数回归
Figure 21.1: Sharp Regression Discontinuity Design	图 21.1：急剧回归不连续性设计
To describe the estimator set	描述估计量集
The estimator of the CEF is the first element of the coefficient vectors	CEF 的估计量是系数向量的第一个元素
For efficient estimation at boundary points the Triangular kernel is recommended	为了有效估计边界点，建议使用三角核
There is an efficiency loss (3% in root AMSE) in return for this convenience	这种便利性的回报是效率损失（根 AMSE 为 3%）
These are calculated separately for the non-treatment and treatment subsamples but otherwise are identical to those described in Section 19.17	这些是针对未处理和处理子样本分别计算的，但在其他方面与第 19.17 节中描述的相同
To illustrate, Figure 21.1(b) displays our estimates of the Ludwig-Miller (2007) Head Start RDD model for childhood mortality due to HS-related causes	为了说明这一点，图 21.1(b) 显示了我们对 Ludwig-Miller (2007) Head Start RDD 模型对由于热射病相关原因导致的儿童死亡率的估计
The CEF in the treated sample appears nonlinear and the confidence bands are very wide	处理过的样品中的 CEF 呈现非线性且置信带非常宽
There is a custom in the applied economics literature to display Figure 21.1(b) somewhat differently	应用经济学文献中习惯于以不同的方式显示图 21.1(b)
The best practice is to plot the best possible nonparametric estimator and to plot confidence intervals to convey uncertainty	最优实践是绘制最优的非参数估计量并绘制置信区间以表达不确定性
The asymptotic variance can be estimated by the sum of the asymptotic variance estimators of the two boundary regression estimators as described in Section 19.16	渐近方差可以通过两个边界回归估计量的渐近方差估计量之和来估计，如第 19.16 节所述
Overall this leads to more honest inference statements	总的来说，这会导致更诚实的推断陈述
Table 21.1: RDD Estimates of the Effect of Head Start Assistance on Childhood Mortality	表 21.1：启蒙援助对儿童死亡率影响的 RDD 估计
Bandwidth Selection	带宽选择
In nonparametric estimation the most critical choice is the bandwidth	在非参数估计中，最关键的选择是带宽
I will describe two simple approaches based on the global fit of the RDD estimator	我将描述两种基于 RDD 估计量全局拟合的简单方法
Another useful method is cross-validation	另一种有用的方法是交叉验证
For specific proposals see Imbens and Kalyanaraman (2012), Arai and Ichimura (2018), and Cattaneo, Idrobo, Titiunik (2020)	具体提案请参见 Imbens 和 Kalyanaraman (2012)、Arai 和 Ichimura (2018) 以及 Cattaneo、Idrobo、Titiunik (2020)
Then reduce this bandwidth somewhat (perhaps 25%) to reduce estimation bias	然后稍微减少此带宽（也许 25%）以减少估计偏误
Some robustness checking (estimation with alternative bandwidths) is prudent, but narrowly so	一些稳健性检查（使用替代带宽进行估计）是谨慎的，但也仅限于此
This is the bandwidth used in the empirical results shown in this chapter	这是本章所示的实证结果中使用的带宽
Larger bandwidths result in flatter (more linear) estimated conditional mean functions and a smaller estimated Head Start effect	较大的带宽会导致更平坦（更线性）的估计条件平均函数和更小的估计先行效应
Smaller bandwidths result in more curvature in the estimated conditional mean functions, in particular for the section above the cut-off	较小的带宽会导致估计的条件平均函数的曲率更大，特别是对于截止以上的部分
RDD with Covariates	带有协变量的 RDD
It is therefore prudent to consider the addition of relevant covariates when available	因此，应谨慎考虑在可用时添加相关协变量
For simplicity we assume that the linear coefficients are the same in the two equations	为简单起见，我们假设两个方程中的线性系数相同
Different authors have suggested different methods for estimation of the RDD with covariates model	不同的作者提出了使用协变量模型估计 RDD 的不同方法
(It is preferred because Robinson demonstrated that it is semiparametrically efficient while the other suggestions have no efficiency justification.) The estimation method is as follows	）估计方法如下
As shown by Robinson (1988) and discussed in Section 19.24, the above estimator is semiparametrically efficient, the conventional asymptotic theory valid, and conventional inference is valid	正如 Robinson (1988) 所示以及第 19.24 节中所讨论的，上述估计量是半参数有效的，传统的渐近理论有效，并且传统的推断也是有效的
Thus the estimators can be used to assess the conditional ATE	因此，估计量可用于评估条件 ATE
Covariates will also affect the precision of the estimator and standard errors	协变量还会影响估计量的精度和标准误差
To illustrate, we augment the Ludwig-Miller Head Start estimates with two covariates: the countylevel Black population percentage, and the county-level urban population percentage	为了说明这一点，我们用两个协变量来增强 Ludwig-Miller Head Start 估计：县级黑人人口百分比和县级城市人口百分比
We also see that the coefficient on the Black percentage is positive and that on the urban percentage is negative, consistent with the view that these are serving as proxies for income	我们还看到黑人百分比的系数为正，城市百分比的系数为负，这与这些作为收入代理的观点一致
Figure 21.2: RDD Diagnostics	图 21.2：RDD 诊断
A Simple RDD Estimator	一个简单的 RDD 估计量
A simple RDD estimator can be implement by a standard regression using conventional software	简单的 RDD 估计量可以通过使用传统软件的标准回归来实现
To illustrate, take the Head Start sample	为了说明这一点，请看 Head Start 示例
The standard error for the effect is also larger, consistent with our expectation that the rectangular kernel estimator is less accurate	效果的标准误差也较大，这与我们的预期一致，即矩形核估计量不太准确
Density Discontinuity Test	密度不连续性检验
Some care needs to be exercised in implementation, however, as conventional density estimators smooth over discontinuities and conventional density estimators are biased at boundary points (similarly to the bias of the Nadaraya-Watson estimator at boundary points)	然而，在实现过程中需要注意一些，因为传统的密度估计量会平滑不连续性，并且传统的密度估计量在边界点处有偏误（类似于 Nadaraya-Watson 估计量在边界点处的偏误）
A simple visual check is the histogram of the running variable with narrow bins, carefully constructed so that no bin spans the cut-off	一个简单的目视检查是带有窄箱的运行变量的直方图，经过精心构建，以便没有箱跨越截止值
If the histogram bins display no evidence of bunching at one side of the cut-off this is consistent with the hypothesis that the density is continuous at the cut-off; on the other hand if there is a noticable spike on either side this is inconsistent with the hypothesis of correct specification	如果直方图箱在截止点的一侧没有显示聚束的证据，则这与密度在截止点处连续的假设是一致的；另一方面，如果任一侧都有明显的尖峰，则这与正确规格的假设不一致
In the Head Start example it is not credible that the running variable was manipulated by the individual counties because it was constructed from the 1960 census by a federal agency in 1965	在 Head Start 示例中，运行变量是由各个县操纵的，这是不可信的，因为它是由联邦机构在 1965 年根据 1960 年人口普查构建的
In particular there is no visual evidence of bunching around the cut-off	特别是没有视觉证据表明在截止点周围聚集
McCrary (2008) implements a formal test for continuity of the density at the cut-off	McCrary (2008) 对截止处的密度连续性进行了正式检验
If the statistic is large this is evidence against the assumption of no manipulation, suggesting that the RDD design is not appropriate	如果统计数据很大，这就是反对无操纵假设的证据，表明 RDD 设计不合适
Fuzzy Regression Discontinuity	模糊回归不连续性
The sharp regression discontinuity requires that the cut-off perfectly separates treatment from nontreatment	急剧的回归不连续性要求截止点将治疗与未治疗完全分开
This is called fuzzy regression discontinuity (FRD)	这称为模糊回归不连续性 (FRD)
This siutation is illustrated in Figure 21.3(a)	这种情况如图 21.3(a) 所示
Figure 21.3: Fuzzy Regression Discontinuity Design	图 21.3：模糊回归不连续性设计
This broadens the scope for potential application of the regression discontinuity framework beyond the sharp RDD	这拓宽了断点回归框架的潜在应用范围，超越了 Sharp RDD
A display of the outcomes is given in Figure 21.3(b)	图 21.3(b) 显示了结果
To prove the Theorem, first observe that the observed outcome is	为了证明该定理，首先看到能观察到的结果是
Taking the difference and re-arranging we establish the theorem	采取差异并重新排列我们建立定理
Estimation of FRD	FRD的估计
This estimator bears a striking resemblance to the Wald expression (12.27) for the structural coefficient and estimator (12.28) in an IV regression with a binary instrument	该估计量与二值工具 IV 回归中的结构系数和估计量 (12.28) 的 Wald 表达式 (12.27) 非常相似
The estimator (21.7) requires four LL regressions	估计量 (21.7) 需要四个 LL 回归
Identification rests on its precision	识别取决于其精度
A small discontinuity will lead to a weak instruments problem	一个小的不连续性将导致仪器故障问题
Standard errors can be calculated similar to IV regression	标准误差的计算方法与 IV 回归类似
The estimate of the conditional ATE is the ratio of these two estimated discontinuities	条件 ATE 的估计是这两个估计的不连续性的比率
M-Estimators	M-估计量
So far in this textbook we have primarily focused on estimators which have explicit algebraic expressions	到目前为止，在本教科书中，我们主要关注具有显式代数表达式的估计量
They have a common structure which allows for a unified treatment of estimation and inference	它们具有共同的结构，可以统一处理估计和推断
An m-estimator is defined as a minimizer of a sample average	m 估计量被定义为样本平均值的最小化
"m-estimators" are a broader class; the prefix "m" stands for "maximum likelihood-type"	“m-估计量”是一个更广泛的类别；前缀“m”代表“极大似然类型”
The issues we focus on in this chaper are: (1) identification; (2) estimation; (3) consistency; (4) asymptotic distribution; and (5) covariance matrix estimation	本章我们关注的问题是：（1）识别； (2) 估算； (3)一致性； (4)渐近分布； (5)协方差矩阵估计
There are many m-estimators in common econometric usage	计量经济学中有许多常见的 m 估计量
Some examples include the following	一些示例包括以下内容
Not all nonlinear estimators are m-estimators	并非所有非线性估计量都是 m 估计量
Examples include method of moments, GMM, and minimum distance	示例包括矩量法、GMM 和最小距离
Identification and Estimation	识别与估算
This is a property of the probability distribution, not of the estimator	这是概率分布的特征，而不是估计量的特征
However, when discussing a specific estimator it is common to describe identification in terms of the criterion function	然而，在讨论特定估计量时，通常用准则函数来描述识别
In nonlinear models it is difficult to provide general conditions under which a parameter is identified	在非线性模型中，很难提供识别参数的一般条件
Identification needs to be examined on a model-by-model basis	识别需要逐个模型地进行检查
Such numerical methods are reviewed in Chapter 12 of Probability and Statistics for Economists	《经济学家的概率与统计》第 12 章对此类数值方法进行了回顾
We illustrate using the probit model of the previous section	我们使用上一节的概率模型进行说明
Standard error calculation will be discussed in Section 22.8	标准误差计算将在第 22.8 节中讨论
In this application we see that the probability of marriage is increasing in years of education and is an increasing yet concave function of age	在此应用中，我们看到结婚的概率随着受教育年限的增加而增加，并且是年龄的递增凹函数
Consistency	一致性
It seems reasonable to expect that if a parameter is identified then we should be able to estimate the parameter consistently	似乎可以合理地预期，如果确定了一个参数，那么我们应该能够一致地估计该参数
However, the WLLN by itself is not sufficient to make this extension	然而，WLLN 本身不足以进行此扩展
To see the problem examine Figure 22.1(a)	要了解问题，请查看图 22.1(a)
Uniform Law of Large Numbers	统一大数定律
In this section we provide lower level sufficient conditions	在本节中，我们提供较低级别的充分条件
Theorem 22.2 Uniform Law of Large Numbers (ULLN) Assume	定理 22.2 一致大数定律 (ULLN) 假设
Lee (2019) for clustered samples	有关群组样本，请参阅 B. E. Hansen 和 S. Lee (2019)
We now establish an asymptotic distribution theory	我们现在建立渐近分布理论
Thus the summands in (22.2) are mean zero	因此（22.2）中的被加数均值为零
The technical hurdle to make this derivation rigorous is justifying the Taylor expansion (22.1)	使这一推导变得严格的技术障碍是证明泰勒展开式 (22.1) 的合理性
In some cases the asymptotic covariance matrix simplifies	在某些情况下，渐近协方差矩阵会简化
Assumption 5 is required in order to justify the application of the mean-value expansion	为了证明均值展开的应用是合理的，需要假设 5
Asymptotic Distribution Under Broader Conditions	更广泛条件下的渐近分布
These are more flexible, but less intuitive	这些更灵活，但不太直观
The following result is a simple generalization of Lipschitz-continuity	以下结果是 Lipschitz 连续性的简单概括
We next present a set of flexible results	接下来我们将展示一组灵活的结果
Second, one of the following holds	其次，下列条件之一成立
See Theorem 18.6 of Probability and Statistics for Economists or Theorems 2 and 3 of Andrews (1994)	参见《经济学家的概率与统计》定理 18.6 或 Andrews (1994) 的定理 2 和定理 3
As we will not be using this property in this textbook we will not discuss this further, but refer the interested reader to any textbook on empirical processes	由于我们不会在本教科书中使用这个特征，因此我们不会进一步讨论这一点，而是请感兴趣的读者参考任何有关实证过程的教科书
There is no formal guidance	没有正式的指导
This is unfortunately not uniformly done in practice	不幸的是，这在实践中并没有统一执行
Proof of Theorem 22.1 The proof proceeds in two steps	定理22.1 的证明 证明分两步进行
The final convergence is the assumed uniform convergence in probability	最终的收敛是假设的概率一致收敛
Figure 22.2: Consistency of M-Estimator	图 22.2：M 估计量的一致性
The preceeding argument is illustrated in Figure 22.2	前面的论证如图 22.2 所示
This completes the first step	这样就完成了第一步
To illustrate, again examine Figure 22.2	为了说明这一点，请再次检查图 22.2
The second inequality is (22.7) and the final inequality is (22.6)	第二个不等式是（22.7），最终的不等式是（22.6）
Nonlinear Least Squares	非线性最小二乘法
In nonlinear regression the ordinary least squares estimator does not apply	在非线性回归中，普通最小二乘估计量不适用
NLLS is an m-estimator which requires numerical optimization	NLLS 是一个需要数值优化的 m 估计量
We illustrate nonlinear regression with three examples	我们用三个例子来说明非线性回归
Our first example is the Box-Cox regression model	我们的第一个例子是 Box-Cox 回归模型
The Box-Cox regression model is	Box-Cox 回归模型为
Our second example is a Constant Elasticity of Substitution (CES) production function, which was introduced by Arrow, Chenery, Minhas, and Solow (1961) as a generalization of the popular Cobb-Douglass production function	我们的第二个例子是恒定替代弹性 (CES) 生产函数，它是由 Arrow、Chenery、Minhas 和 Solow (1961) 提出的，作为流行的柯布-道格拉斯生产函数的推广
We illustrate CES production function estimation with a modification of Papageorgiou, Saam, and Schulte (2017)	我们通过对 Papageorgiou、Saam 和 Schulte (2017) 的修改来说明 CES 生产函数估计
The data file PPS2017 is an extract of the authors' dataset	数据文件 PPS2017 是作者数据集的摘录
Our third example is the regression kink model	我们的第三个例子是回归扭结模型
We illustrate the regression kink model with an application from B	我们使用 B. E. Hansen (2017) 的应用来说明回归扭结模型，该模型是 Reinhart 和 Rogoff (2010) 的形式化
In correctly-specified nonlinear regression models the parameter is point identified if there is a unique true parameter	在正确指定的非线性回归模型中，如果存在唯一的真实参数，则参数被点识别
Figure 23.1: Nonlinear Regression Models	图 23.1：非线性回归模型
is the expected squared error	是期望的平方误差
Hence identification of the pseudo-true value under mis-specification is typically assumed rather than deduced	因此，误设下的伪真值的识别通常是假设的，而不是推断的
This is called the Nonlinear Least Squares (NLLS) estimator	这称为非线性最小二乘 (NLLS) 估计量
Figure 23.2: Average of Squared Errors Functions	图 23.2：平方误差函数的平均值
We illustrate with two of our examples	我们用两个例子来说明
You can see that the function appears to be close to quadratic near the minimum but becomes increasingly non-quadratic away from the minimum	你可以看到，该函数在最小值附近似乎接近二次函数，但在远离最小值时变得越来越非二次函数
The parameter estimates and standard errors for the three models are presented in Table 23.1	三个模型的参数估计值和标准误差如表 23.1 所示
The standard errors for the Box-Cox and Regression Kink models were calculated using the heteroskedasticity-robust formula, and those for the CES production function were calculated by the cluster-robust formula, clustering by country	Box-Cox 和 Regression Kink 模型的标准误差是使用异方差稳健公式计算的，CES 生产函数的标准误差是通过群组稳健公式计算的，按国家进行聚类
Take the Box-Cox regression	采用 Box-Cox 回归
Take the CES production function	采用 CES 生产函数
Take the regression kink function	采用回归扭结函数
Interpreting conventional t-ratios and p-values in nonlinear models should be done thoughtfully	应深思熟虑地解释非线性模型中的常规 t 比和 p 值
We first consider the consistency of the NLLS estimator	我们首先考虑 NLLS 估计量的一致性
Assumptions 1-4 are fairly standard	假设 1-4 是相当标准的
Theorem 23.1 Consistency of NLLS Estimator	定理23.1 NLLS估计量的一致性
We next discuss the asymptotic distribution for differentiable models	接下来我们讨论可微模型的渐近分布
Assumption 1 imposes that the model is correctly specified	假设 1 强制指定模型是正确的
This is important as otherwise the sampling distribution will be asymmetric	这很重要，否则抽样分布将不对称
Thus, asymptotically, the distribution of NLLS is identical to a linear regression	因此，NLLS 的分布渐近与线性回归相同
The asymptotic distribution simplifies under conditional homoskedasticity	渐近分布在条件同方差下得到简化
It is best if the derivative is calculated algebraically but a numerical derivative (a discrete derivative) can substitute	最好以代数方式计算导数，但也可以用数值导数（离散导数）代替
The covariance matrix components are estimated as	协方差矩阵成分估计为
If the error is homoskedastic the covariance matrix can be estimated using the formula	如果误差是同方差的，则可以使用以下公式估计协方差矩阵
To illustrate, standard errors for our three estimated models are displayed in Table 23.1	为了说明这一点，表 23.1 显示了我们三个估计模型的标准误差
The standard errors for the CES model were clustered by country	CES 模型的标准误差按国家/地区进行聚类
In small samples the standard errors for NLLS may not be reliable	在小样本中，NLLS 的标准误差可能不可靠
Consider the nonlinear regression model with an additive individual effect	考虑具有加性个体效应的非线性回归模型
To eliminate the individual effect we can apply the within or first-differencing transformations	为了消除个体效应，我们可以应用内变换或一阶差分变换
using the panel data notation	使用面板数据符号
An alternative is to apply the first-difference transformation	另一种方法是应用一阶差分变换
GMM can be applied to (23.8) similar to linear dynamic panel regression models	GMM 可以应用于类似于线性动态面板回归模型的（23.8）
Threshold Models	阈值模型
An extreme example of nonlinear regression is the class of threshold regression models	非线性回归的一个极端例子是阈值回归模型类
In this section we provide a review	在本节中，我们将进行评论
A threshold regression model takes the form	阈值回归模型采用以下形式
A threshold model is most suitable for a context where an economic model predicts a discontinuity in the CEF	阈值模型最适合经济模型预测 CEF 不连续性的情况
The Regression Kink model, for example, does not allow for kink interaction effects	例如，回归扭结模型不允许扭结交互效应
In principle this can be generalized by incorporating multiple thresholds in potentially different variables but this generalization is limited by sample size and information	原则上，这可以通过将多个阈值合并到可能不同的变量中来概括，但这种概括受到样本大小和信息的局限
Many empirical applications estimate threshold models using informal ad hoc methods	许多实证应用使用非正式的临时方法来估计阈值模型
To illustrate threshold regression we review an influential paper by Card, Mas and Rothstein (2008)	为了说明阈值回归，我们回顾了 Card、Mas 和 Rothstein (2008) 的一篇有影响力的论文
The data file CMR2008 is an abridged version of the authors' dataset	数据文件 CMR2008 是作者数据集的删节版本
Figure 23.3: Threshold Regression - Card-Mas-Rothstein (2008) Model	图 23.3：阈值回归 - Card-Mas-Rothstein (2008) 模型
The authors use a specification similar to the following	作者使用类似于以下的设定
Our estimates are reported in Table 23.2	我们的估计见表 23.2
This is nearly identical to the estimate obtained by Card, Mas and Rothstein (2008) using an ad hoc estimation method	这与 Card、Mas 和 Rothstein (2008) 使用临时估计方法获得的估计几乎相同
The white population was also decreasing in response to the unemployment rate, the renter share, and the use of public transportation, but increasing in response to the vacancy rate	白人人口也因失业率、租房者份额和公共交通的使用而减少，但因空置率而增加
The asymptotic theory of threshold regression is non-standard	阈值回归的渐近理论是非标准的
This is constructed numerically by grid search	这是通过网格搜索以数字方式构建的
Given the coefficient estimates the regression function can be plotted along with confidence intervals calculated conventionally	给定系数估计值，可以将回归函数与传统计算的置信区间一起绘制出来
The confidence bands are widest at the estimated tipping point	置信区间在估计的临界点处最宽
The empirical results presented in this section are distinct from, yet similar to, those reported in Card, Mas, and Rothstein (2008)	本节中提出的实证结果与 Card、Mas 和 Rothstein (2008) 中报告的结果不同但相似
This is an influential paper as it used the rigor of an economic model to give insight about segregation behavior, and used a rich detailed dataset to investigate the strong tipping point prediction	这是一篇有影响力的论文，因为它使用了严格的经济模型来深入了解隔离行为，并使用丰富的详细数据集来研究强临界点预测
Testing for Nonlinear Components	非线性元件检验
Identification can be tricky in nonlinear regression models	在非线性回归模型中识别可能很棘手
The latter arises in the Regression Kink and threshold regression models	后者出现在回归扭结和阈值回归模型中
For example, in the Card-Mas-Rothstein (2008) application this is the hypothesis of no tipping point which is the key issue explored in their paper	例如，在 Card-Mas-Rothstein（2008）的应用中，这是没有临界点的假设，这是他们论文中探讨的关键问题
As an example consider the threshold regression (23.9)	作为一个例子，考虑阈值回归（23.9）
To test the hypothesis a standard test is to reject for large values of the F statistic	为了检验假设，标准检验是拒绝较大的 F 统计值
The F statistic can be written as	F 统计量可以写为
Figure 23.4: Test for Threshold Regression in CMR Model	图 23.4：CMR 模型中的阈值回归检验
This is extremely high by conventional standards	以传统标准来看，这是非常高的
The asymptotic theory of the test has been worked out by Andrews and Ploberger (1994) and B	检验的渐近理论由 Andrews 和 Ploberger (1994) 以及 B. E. Hansen (1996) 制定
What is important is that the bootstrap data satisfy the null hypothesis	重要的是引导数据满足原假设
For clustered samples we need to make a minor modification	对于群组样本，我们需要进行较小的修改
The modified algorithm uses the following steps	修改后的算法使用以下步骤
To illustrate we apply this test to the threshold regression (23.9) estimated with the Card-Mas-Rothstein (2008) data	为了说明这一点，我们将此检验应用于使用 Card-Mas-Rothstein (2008) 数据估计的阈值回归 (23.9)
Thus despite the visually strong evidence of a tipping effect from the previous section the statistical evidence of this effect is strong but not overwhelming	因此，尽管上一节中的倾斜效应在视觉上有强有力的证据，但这种效应的统计证据是强有力的，但不是压倒性的
Stata has a built-in command nl for NLLS estimation	Stata 有一个内置命令 nl 用于 NLLS 估计
It is prudent to try several starting values because the algorithm is not guaranteed to converge to the global minimum	尝试多个起始值是谨慎的做法，因为该算法不能保证收敛到全局最小值
Estimation of NLLS in R or MATLAB requires a bit more programming but is straightforward	在 R 或 MATLAB 中估计 NLLS 需要更多编程，但很简单
For scalar parameters use optimize	对于标量参数，请使用优化
Proof of Theorem 23.1	定理23.1的证明
The right side has finite expectation under Assumptions 23.1, parts 3 and 4	根据假设 23.1 第 3 部分和第 4 部分，右侧的期望是有限的
Proof of Theorem 23.2	定理23.2的证明
To show condition 1, by the Cauchy-Schwarz inequality (B.32) and Assumption 23.2.2 and 23.2.4	为了显示条件 1，由 Cauchy-Schwarz 不等式 (B.32) 和假设 23.2.2 和 23.2.4
We next show condition 3	接下来我们展示条件 3
under Assumption 23.2.5	根据假设 23.2.5
Condition 5 is implied by Assumption 23.2.6	条件 5 由假设 23.2.6 隐含
Quantile Regression	分位数回归
This chapter introduces median regression (least absolute deviations) and quantile regression	本章介绍中位数回归（最小绝对误差）和分位数回归
An excellent monograph on the subject is Koenker (2005)	Koenker (2005) 是关于该主题的优秀专着
Median Regression	中值回归
When a distribution is symmetric then the median equals the mean but when the distribution is asymmetric they differ	当分布对称时，中位数等于平均值，但当分布不对称时，中位数不同
Throughout this textbook we have primarily focused on conditional relationships	在这本教科书中，我们主要关注条件关系
Similarly we define the conditional median as the median of a sub-population	类似地，我们将条件中位数定义为子总体的中位数
These are the wages of a "typical" man and woman	这些是“典型”男人和女人的工资
We now present analogous properties of the median	我们现在提出中位数的类似特征
Both are symmetric and so treat positive and negative errors identically	两者都是对称的，因此对正误差和负误差的处理方式相同
Figure 24.1: LAD Criterion	图 24.1：LAD 准则
Least Absolute Deviations	最小绝对误差
This is similar to the classical average of squared errors function but instead is the average of absolute errors	这类似于经典的平方误差函数平均值，但它是绝对误差的平均值
This is the sample version of (24.8)	这是 (24.8) 的示例版本
In large samples the facets diminish in size and the criterion approaches a smooth function	在大样本中，面的尺寸减小并且标准接近平滑函数
Since the criterion is faceted the minimum may be a set	由于标准是多面的，因此最小值可以是一组
Fortunately for applications good estimation algorithms are available and simple to use	幸运的是，对于应用程序来说，可以使用良好的估计算法并且易于使用
In Stata, LAD is implemented by qreg	在Stata中，LAD是由qreg实现的
In R, LAD is implemented by rq in the quantreg package	在R中，LAD是由quantreg包中的rq实现的
The mean and median are measures of the central tendency of a distribution	平均值和中位数是分布集中趋势的度量
As an example, take the distribution of wages from the CPS dataset	以 CPS 数据集中的工资分布为例
We are also interested in the quantiles of conditional distributions	我们还对条件分布的分位数感兴趣
We see that the differences between men's and women's wages are increasing by quantile	我们看到男性和女性工资之间的差异正在按分位数增加
Figure 24.2: Quantile Regressions	图 24.2：分位数回归
These quantile regression functions provide a summary of the conditional distribution of wages given education	这些分位数回归函数提供了受教育程度工资条件分布的摘要
We define the quantile regression model analogously to the median regression model:	我们定义与中值回归模型类似的分位数回归模型：
Recall that the mean minimizes the squared error loss and the median minimizes the absolute error loss	回想一下，平均值使平方误差损失最小化，中位数使绝对误差损失最小化
We now describe some properties of the quantile regression function	我们现在描述分位数回归函数的一些特征
Figure 24.3: Quantile Loss Function	图 24.3：分位数损失函数
This connects quantile regression with median and mean regression	这将分位数回归与中值和均值回归联系起来
This equals the true conditional quantile coefficient when true function is linear	当真函数是线性时，这等于真条件分位数系数
Example Quantile Shapes	分位数形状示例
Figure 24.4: Quantile Shapes	图 24.4：分位数形状
Linear Quantile Functions	线性分位数函数
Linear quantile regressions are convenient as they are simple to estimate and report	线性分位数回归很方便，因为它们易于估计和报告
The quantile regression functions for the level of wages appear to be concave; in contrast the quantile regression functions for log wages are close to linear for education above 12 years	工资水平的分位数回归函数似乎是凹的；相比之下，对于 12 年以上受教育程度的人来说，对数工资的分位数回归函数接近线性
Parallel Quantile Functions	并行分位数函数
An example is shown in Figure 24.4(b)	图 24.4(b) 显示了一个示例
Here we plot a set of quantile regression functions which are mutually parallel	在这里，我们绘制了一组相互平行的分位数回归函数
Thus parallel quantile functions is indicative of conditional homoskedasticity	因此，平行分位数函数表示条件同方差性
Once again examine the quantile regression functions for log wages displayed in Figure 24.2(b)	再次检查图 24.2(b) 中显示的对数工资的分位数回归函数
This is a strong motivation for applying the logarithmic transformation for a wage regression	这是应用对数变换进行工资回归的强烈动机
Coefficient Heterogeneity	系数异质性
These quantile functions are parabolic	这些分位数函数是抛物线的
The minimization techniques are identical to those used for median regression; hence typical software packages treat the two together	最小化技术与中值回归所使用的技术相同；因此，典型的软件包将两者放在一起处理
In Stata, quantile regression is implemented by qreg	在Stata中，分位数回归是通过qreg实现的
We first provide conditions for consistent estimation	我们首先提供一致估计的条件
Theorem 24.3 Consistency of Quantile Regression Estimator	定理24.3分位数回归估计量的一致性
These conditions are rather abstract but mild	这些条件相当抽象但温和
We now provide the asymptotic distribution	我们现在提供渐近分布
Theorem 24.4 Asymptotic Distribution of Quantile Regression Estimator	定理24.4分位数回归估计量的渐近分布
Combined with (24.19) we have three levels of asymptotic covariance matrices	结合（24.19），我们得到了三级渐近协方差矩阵
The most common method for estimation of quantile regression covariance matrices, standard errors, and confidence intervals is the bootstrap	估计分位数回归协方差矩阵、标准误差和置信区间的最常用方法是引导程序
This requires changing the default settings in common programs such as Stata	这需要更改Stata等常用程序中的默认设置
In Stata, quantile regression is implemented using qreg	在Stata中，分位数回归是使用qreg实现的
The bootstrap command followed by estat bootstrap produces BC percentile confidence intervals	bootstrap 命令后跟 estat bootstrap 会生成 BC 百分位置信区间
In R, quantile regression is implemented by the function rq in the quantreg package	在 R 中，分位数回归是通过 quantreg 包中的函数 rq 实现的
At present, the quantreg package does not include bootstrap percentile confidence intervals	目前，quantreg 包不包括 bootstrap 百分位数置信区间
Under clustered dependence the asymptotic covariance matrix changes	在群组依赖下，渐近协方差矩阵会发生变化
This can be estimated as	这可以估计为
In Stata, the clustered bootstrap can be accomplished by: bootstrap, reps(\#) cluster(id): qreg y x, followed by estat bootstrap	在Stata中，群组引导可以通过以下方式完成：bootstrap,reps(\#) cluster(id):qreg y x，然后是estat bootstrap
We illustrate the application of clustered quantile regression using the Duflo, Dupas, and Kremer (2011) school tracking application. (See Section 4.21.) Recall, the question was whether or not tracking (separating students into classrooms based on an initial test) influenced average end-of-year scores	我们使用 Duflo、Dupas 和 Kremer (2011) 学校跟踪应用程序来说明群组分位数回归的应用
Overall the evidence that tracking affects student performance is weak	总体而言，跟踪影响学生表现的证据很弱
Table 24.2: Quantile Regressions of Student Testscores on Tracking	表 24.2：学生跟踪检验成绩的分位数回归
Quantile Crossings	分位数交叉
This is only a problem in practical applications if estimated quantile functions actually cross	如果估计的分位数函数实际上交叉，这只是实际应用中的问题
However when estimated quantile regression functions cross one another it can be prudent to address the issue	然而，当估计的分位数回归函数相互交叉时，可以谨慎地解决这一问题
To illustrate examine Figure 24.5(a)	为了说明这一点，请查看图 24.5(a)
This is the quantile regression crossing phenomenon	这就是分位数回归交叉现象
When quantile regressions cross one another there are several possible remedies	当分位数回归相互交叉时，有几种可能的补救措施
First, you could re-specify the model	首先，你可以重新指定模型
Figure 24.5: Quantile Crossings	图 24.5：分位数交叉
While the logarithmic/exponential transformation works well for a wage regression, it is not a generic solution	虽然对数/指数变换对于工资回归效果很好，但它不是一个通用的解决方案
A second approach is to reassess the empirical task	第二种方法是重新评估实证任务
A solution is to truncate the data to eliminate observations with low education levels	解决方案是截断数据以消除教育水平较低的观测结果
A third approach is to constrain the estimated functions to satisfy monotonicity	第三种方法是约束估计函数以满足单调性
This approach may be feasible if the quantile crossing problem is mild	如果分位数交叉问题较轻，这种方法可能是可行的
A final approach is rearrangement	最后一种方法是重新排列
The R package quantreg includes the option rearrange to implement their procedure	R 包 quantreg 包含选项重新排列来实现其过程
Of these four approaches, my recommendation is to start with a careful and thoughtful re-specification of the model	在这四种方法中，我的建议是从仔细且深思熟虑地重新设定模型开始
Quantile Causal Effects	分位数因果效应
One question which frequently arises in the study of quantile regression is "Can we interpret the quantile regression causally?" We can partially answer this question in the treatment response framework by providing conditions under which the quantile regression derivatives equal quantile treatment effects	在分位数回归研究中经常出现的一个问题是“我们可以因果地解释分位数回归吗？”我们可以通过提供分位数回归导数等于分位数治疗效果的条件，在治疗反应框架中部分回答这个问题
In general this is heterogeneous	一般来说，这是异质的
From observational data we can estimate the quantile regression function	根据观测数据，我们可以估计分位数回归函数
Assumption 24.1 Conditions for Quantile Causal Effect	假设 24.1 分位数因果效应的条件
Assumption 24.1.1 excludes multi-dimensional unobserved heterogeneity	假设 24.1.1 排除了多维不可观察到的异质性
Assumption 24.1.4 is the traditional conditional independence assumption	假设24.1.4是传统的条件独立假设
The proof is in Section 24.16	证明在第 24.16 节中
Random Coefficient Representation	随机系数表示
For some theoretical purposes it is convenient to write the quantile regression model using a random coefficient representation	出于某些理论目的，使用随机系数表示形式编写分位数回归模型很方便
This also provides an alternative interpretation of the coefficients	这也提供了系数的另一种解释
Nonparametric Quantile Regression	非参数分位数回归
As emphasized in Section 24.10, quantile regression functions are undoubtedly nonlinear with unknown functional form and hence nonparametric	正如第 24.10 节所强调的，分位数回归函数无疑是非线性的，具有未知的函数形式，因此是非参数的
For brevity we briefly discuss series methods which have the advantage that they are easily implemented with conventional software	为了简洁起见，我们简要讨论系列方法，其优点是可以使用传统软件轻松实现
The nonparametric quantile regression model is	非参数分位数回归模型为
A spline approximation is defined similarly	样条近似的定义类似
Undoubtedly these questions are an important topic for future study	毫无疑问，这些问题是未来研究的重要课题
To illustrate we revisit the nonparametric polynomial estimates of the experience profile for collegeeducated women earlier displayed in Figure 20.1	为了说明这一点，我们重新审视之前图 20.1 中显示的受过大学教育的女性的经验概况的非参数多项式估计
This means that heterogeneity in wages increases more than proportionately as experience increases	这意味着工资的异质性随着经验的增加而增加
It seems natural to consider estimation by one of our standard methods: (1) Remove the individual effect by the within transformation; (2) Remove the invidual effect by first differencing; (3) Estimate a full quantile regression model using the dummy variable representation	考虑通过我们的标准方法之一进行估计似乎是很自然的：（1）通过内部变换消除个体效应； (2)通过一阶差分去除个体效应； (3) 使用虚拟变量表示估计完整分位数回归模型
Figure 24.6: Log Wage Quantile Regressions	图 24.6：对数工资分位数回归
dummy variable model has the number of parameters proportional to sample size and in this context nonlinear estimators (including quantile regression) are inconsistent	虚拟变量模型的参数数量与样本大小成正比，在这种情况下，非线性估计量（包括分位数回归）是不一致的
There have been several proposals to deal with this issue but none are particularly satisfactory	已经有几个解决这个问题的建议，但没有一个特别令人满意
Given this assumption we can write the quantile regression model as	考虑到这个假设，我们可以将分位数回归模型写为
Canay's estimator takes the following steps. 1	Canay 的估计量采取以下步骤
In general the topic of panel quantile regression is a potentially important topic for further econometric research	一般来说，面板分位数回归主题是进一步计量经济学研究的潜在重要主题
As we studied in Chapter 12, in many structural economic models some regressors are potentially endogenous, meaning jointly dependent with the regression error	正如我们在第 12 章中所研究的，在许多结构经济模型中，一些回归变量可能是内生的，这意味着与回归误差共同相关
Similar methods can be applied in quantile regression though the techniques are computationally more difficult, the theory less well developed, and applications limited	类似的方法可以应用于分位数回归，尽管这些技术在计算上更加困难，理论不够完善并且应用有限
The method of IV quantile regression was articulated by Chernozhukov and C	IV 分位数回归方法由 Chernozhukov 和 C. Hansen (2005) 阐述，欲了解更多详细信息，请参阅该方法
Proof of Theorem 24.3: The quantile regression estimator is an m-estimator, so we appeal to Theorem 22.3, which holds under five conditions	定理 24.3 的证明：分位数回归估计量是一个 m 估计量，因此我们求助于定理 22.3，它在五个条件下成立
The right side has finite expectation under the assumptions	右边在假设下有有限的期望
The inequality holds by assumption; we now establish the equality	假设不等式成立；我们现在建立平等
Thus the latter is the unique minimizer	因此后者是唯一的最小化
Condition 5 holds by assumption	条件 5 通过假设成立
Proof of Theorem 24.5: By the definition of the quantile treatment effect, monotonicity of causal effect (Assumption 24.1.2), definition of the causal effect, monotonicity of the treatment response (Assumption 24.1.3), and the definition of the quantile regression function, we find that	定理24.5的证明：通过分位数治疗效果的定义、因果效应的单调性（假设24.1.2）、因果效应的定义、治疗反应的单调性（假设24.1.3）以及分位数回归的定义函数，我们发现
Multiple Choice	多项选择
This chapter surveys multinomial models	本章研究多项模型
This includes multinomial response, multinomial logit, conditional logit, nested logit, mixed logit, multinomial probit, ordered response, count data, and the BLP demand model	这包括多项式响应、多项式 Logit、条件 Logit、嵌套 Logit、混合 Logit、多项式 Probit、有序响应、计数数据和 BLP 需求模型
For more detailed treatments see Maddala (1983), Cameron and Trivedi (1998), Cameron and Trivedi (2005), Train (2009), and Wooldridge (2010)	更详细的处理参见 Maddala (1983)、Cameron 和 Trivedi (1998)、Cameron 和 Trivedi (2005)、Train (2009) 和 Wooldridge (2010)
Multinomial Response	多项式响应
We illustrate by extending the marriage status example of the previous chapter	我们通过扩展上一章的婚姻状况示例来进行说明
For our illustration we take the population of college-educated women	为了说明这一点，我们以受过大学教育的女性人口为例
The estimates show that the probability of "never married" decreases monotonically with age, that for "married" increases until around 38 and then decreases slowly, the probability of "divorced" increases monotonically with age, and the probability of "separated" is low for all age groups	估计结果显示，“未婚”概率随年龄单调下降，“已婚”概率增加至38岁左右，然后缓慢下降，“离婚”概率随年龄单调上升，“分居”概率较低适合所有年龄段
A defect of the estimates of Figure 26.1(a) is that the sum of the four estimated probabilities (displayed as "Total") does not equal one	图 26.1(a) 估计的一个缺陷是四个估计概率的总和（显示为“总计”）不等于 1
For the remainder of this chapter the estimators discussed do not have this defect	在本章的其余部分中，讨论的估计量不存在此缺陷
Figure 26.1: Probability of Marital Status Given Age for College Educated Women	图 26.1：受过大学教育的女性在特定年龄下的婚姻状况概率
Multinomial response is typically motivated and derived from a model of latent utility	多项式响应通常是由潜在效用模型激发和导出的
The choice is also unchanged if each utility (26.1) is multiplied by positive constant	如果每个效用 (26.1) 乘以正常数，则选择也不会改变
Two classical multinomial response models are logit and probit	两个经典的多项响应模型是 Logit 和 Probit
Multinomial Logit	多项式Logit
The simple multinomial logit model is	简单的多项 Logit 模型是
We call (26.2) the simple multinomial logit to distinguish it from the conditional logit model of the next section	我们将（26.2）称为简单多项式 Logit，以将其与下一节的条件 Logit 模型区分开
The multinomial logit arises from the latent utility model (26.1) for the following error distributions	多项式 Logit 源自以下误差分布的潜在效用模型 (26.1)
Definition 26.1 The Type I Extreme Value distribution function is	定义26.1 I型极值分布函数为
Definition 26.2 The Generalized Extreme Value (GEV) joint distribution is	定义 26.2 广义极值 (GEV) 联合分布为
The proof is in Section 26.13	证明在第 26.13 节中
In contemporary choice modelling a commonly-used assumption is that utility is extreme value distributed	在当代选择模型中，一个常用的假设是效用是极值分布的
A reasonable deduction is that this assumption is made for algebraic convenience, not because anyone believes that utility is actually extreme valued distributed	一个合理的推论是，这个假设是为了代数方便而做出的，而不是因为有人相信效用实际上是极值分布的
The log-likelihood function is	对数似然函数是
The maximum likelihood estimator (MLE) is:	极大似然估计量 (MLE) 为：
The log-likelihood function is globally concave so maximization is numerically straightforward	对数似然函数是全局凹的，因此最大化在数值上很简单
To illustrate, we estimate the marriage status example of the previous section using multinomial logit and display the estimated response probabilities in Figure 26.1(b)	为了说明这一点，我们使用多项 Logit 估计上一节的婚姻状况示例，并在图 26.1(b) 中显示估计的响应概率
The estimates are similar to the binary choice estimates in panel (a) but by construction sum to one	这些估计与图 (a) 中的二值选择估计类似，但构造总和为 1
The coefficients of a multinomial choice model can be difficult to interpret	多项选择模型的系数可能难以解释
In Stata, multinomial logit can be implemented using the mlogit command	在Stata中，可以使用mlogit命令实现多项式logit
In R, multinomial logit can be implemented using the mlogit command	在 R 中，可以使用 mlogit 命令实现多项式 logit
Conditional Logit	条件逻辑
A choice model which allows for regressors which differ across alternatives was developed by McFadden in the 1970s, which he called the Conditional Logit model	McFadden 在 20 世纪 70 年代开发了一种选择模型，该模型允许不同替代方案之间存在不同的自变量，他将其称为条件 Logit 模型
An example will help illustrate the setting	一个例子将有助于说明该设置
As a concrete example consider the dataset Koppelman on the textbook webpage	作为一个具体示例，请考虑教科书网页上的数据集 Koppelman
Available regressors include the cost of each alternative, the in-vehicle travel time (intime) of each alternative, household income, and an indicator if one of the trip endpoints is an urban center	可用的回归变量包括每个替代方案的成本、每个替代方案的车内出行时间 (intime)、家庭收入以及行程终点之一是否为城市中心的指标
To understand the difference between the multinomial logit and the conditional logit models, (26.1) describes how the utility of a specific alternative (e.g. married or divorced) is affected by a variable such as age	为了理解多项 Logit 模型和条件 Logit 模型之间的差异，（26.1）描述了特定替代方案（例如结婚或离婚）的效用如何受到年龄等变量的影响
These variables have common meanings across alternatives so the restriction that the coefficients are common appears reasonable	这些变量在各个替代方案中具有共同的含义，因此系数共同的约束似乎是合理的
Using the Koppelman dataset we estimate a conditional logit model	使用 Koppelman 数据集，我们估计条件 Logit 模型
The income coefficient is positive for air travel and negative for bus travel, indicating that transportation choice is affected by a traveler's income in the expected way	航空旅行的收入系数为正，巴士旅行的收入系数为负，这表明交通选择以预期的方式受到旅行者收入的影响
As discussed previously, coefficient estimates can be difficult to interpret	如前所述，系数估计可能难以解释
To illustrate, we report a set of estimated AME of cost and time factors on the probability of train travel in Table 26.2	为了说明这一点，我们在表 26.2 中报告了一组关于火车旅行概率的成本和时间因素的估计 AME
Note: For ease of reading, the reported AME estimates have been multiplied by 100	注：为了便于阅读，报告的 AME 估计值已乘以 100
In Stata, model (26.7) can be estimated using cmclogit	在 Stata 中，可以使用 cmclogit 估计模型 (26.7)
Independence of Irrelevant Alternatives	不相关替代方案的独立性
The multinomial logit model has an undesirable restriction	多项 Logit 模型有一个不希望的局限
This property is strongly tied to the multinomial logit model as the latter was derived axiomatically by Luce (1959) from an IIA assumption	该特征与多项 Logit 模型密切相关，因为后者是 Luce (1959) 根据 IIA 假设公理地推导出来的
To understand why IIA may be problematic it is helpful to think through specific examples	为了理解为什么 IIA 可能存在问题，思考具体的例子会有所帮助
In this latter setting a low airplane ticket may make it highly unlikely that an individual will select train travel while unaffecting their likelihood of selecting car travel	在后一种情况下，低廉的机票可能使个体不太可能选择火车旅行，同时不影响他们选择汽车旅行的可能性
A famous example of this problem is the following setting	此问题的一个著名示例是以下设置
This example is known as the "red bus/blue bus puzzle"	这个例子被称为“红色巴士/蓝色巴士谜题”
The source of the problem is that the IIA structure and multinomial logit model exclude differentiated substitutability among the alternatives	问题的根源在于IIA结构和多项logit模型排除了替代方案之间有区别的可替代性
red bus and blue bus) are close substitutes	当替代品的子集（例如红色巴士和蓝色巴士）是相近替代品时，这是不合适的
Part of the problem is due to the restrictive correlation pattern imposed on the errors by the generalized extreme value distribution	部分问题是由于广义极值分布对误差施加的约束性相关模式造成的
To allow for cases such as red bus/blue bus we require a more flexible correlation structure which allows subsets of alternatives to have differential correlations	为了允许诸如红色总线/蓝色总线之类的情况，我们需要更灵活的相关结构，该结构允许替代方案的子集具有差异相关性
Nested Logit	嵌套逻辑
The nested logit model circumvents the IIA problem described in the previous section by separating the alternatives into groups	嵌套 Logit 模型通过将备选方案分组来规避上一节中描述的 IIA 问题
Alternatives within groups are allowed to be correlated but are assumed uncorrelated across groups	组内的替代方案允许相关，但假设组间不相关
McFadden's Nested Logit model assumes that the errors have the following GEV joint distribution	McFadden 的嵌套 Logit 模型假设误差具有以下 GEV 联合分布
This is a generalization of the GEV distribution (26.3)	这是 GEV 分布 (26.3) 的概括
If a group has a single alternative its dissimilarity parameter is not identified so should be set to one	如果一个组只有一个替代方案，则其相异性参数不会被识别，因此应设置为 1
The nested logit model (26.12)-(26.13) is structurally identical to the conditional logit model except that the error distribution is (26.13) instead of (26.3)	嵌套 Logit 模型 (26.12)-(26.13) 在结构上与条件 Logit 模型相同，只是误差分布是 (26.13) 而不是 (26.3)
These can be included in the model with common coefficients	这些可以包含在具有公共系数的模型中
The partition of alternatives into groups is a modeling decision	将备选方案划分为组是一个建模决策
Alternatives with a low degree of substitutability should be placed in different groups	具有低可替代性的替代品应分为不同的组
To illustrate, consider a consumer choice of an automobile purchase	为了说明这一点，请考虑消费者购买汽车的选择
This shows the division of the decision "Car" into "Compact" and "Sports Utility Vehicle" and the further division by model	这显示了决策“汽车”分为“紧凑型”和“运动型多用途车”以及按型号的进一步划分
Figure 26.2: Nested Choice	图 26.2：嵌套选择
The scale of the coefficients is not identified separately from the scaling of the errors implicit in the GEV distribution (26.13)	系数的规模没有与 GEV 分布中隐含的误差的规模分开确定（26.13）
Some authors interpret model (26.12) as a nested sequential choice	一些作者将模型（26.12）解释为嵌套的顺序选择
The correct interpretation is degree of substitutability not the timing of decisions	正确的解释是可替代性的程度，而不是决策的时间安排
We now describe the nested logit response probabilities	我们现在描述嵌套的 Logit 响应概率
Because the probability structure of a nested logit model is more complicated than the conditional logit model it may be difficult to interpret the coefficient estimates	由于嵌套 Logit 模型的概率结构比条件 Logit 模型更复杂，因此可能难以解释系数估计
Marginal effects can (in principle) be calculated but these are complicated functions of the coefficients	边际效应（原则上）可以计算，但这些是系数的复杂函数
To illustrate, we estimate a nested logit model of transportation choice using the Koppelman dataset	为了说明这一点，我们使用 Koppelman 数据集估计了交通选择的嵌套 Logit 模型
Nested logit modeling is limited by the necessity of selecting the groupings	嵌套 Logit 建模受到选择分组的必要性的限制
Typically there is not a unique obvious structure; consequently any proposed grouping is subject to misspecification	通常没有独特的明显结构；因此，任何拟议的分组都可能出现误设
In this section we described the nested logit model with one nested layer	在本节中，我们描述了具有一个嵌套层的嵌套 logit 模型
The levels used in her analysis were (1) Buy/Not Buy; (2) New/Used; (3) Car Class; (4) Foreign/Domestic; and (5) Car Model	她的分析中使用的水平是（1）买入/不买入； (2) 新的/二手的； (3)轿车类； (4) 国外/国内； (5) 车型
In Stata, nested logit models can be estimated by nlogit	在Stata中，嵌套logit模型可以通过nlogit来估计
Mixed Logit	混合逻辑
The model is also known as conditional mixed logit and random parameters logit	该模型也称为条件混合 Logit 和随机参数 Logit
The above model allows the effect of cost and time on utility to be heterogeneous across individuals	上述模型允许成本和时间对效用的影响在个体之间是异质的
The reason why these constraints may be desirable is parsimony and simpler computation	这些约束可能是理想的原因是简约和更简单的计算
A useful feature of the mixed logit model is that the random coefficients induce correlation among the alternatives	混合 Logit 模型的一个有用特征是随机系数引起备选方案之间的相关性
The unconditional response probabilities are found by integration	通过积分可以找到无条件响应概率
The integral in (26.14) is not available in closed form	(26.14) 中的积分不能以封闭形式获得
To illustrate, we estimate a mixed logit model for the transportation application treating the coefficient on travel time as a normal random variable	为了说明这一点，我们估计了交通应用的混合 Logit 模型，将旅行时间系数视为正态随机变量
An interpretation of this random coefficient is that travelers have heterogeneous costs associated with travel time	该随机系数的解释是旅行者具有与旅行时间相关的异质成本
In Stata, mixed logit can be estimated by cmmixlogit	在Stata中，混合logit可以通过cmmixlogit来估计
Simple Multinomial Probit	简单多项式概率
The simple multinomial probit and simple conditional multinomial probit models combine the latent utility model	简单多项式概率和简单条件多项式概率模型结合了潜在效用模型
Identification is identical to multinomial logit	辨识与多项 Logit 相同
However, it can be expressed as a one-dimensional integral, as we now show	然而，正如我们现在所展示的，它可以表示为一维积分
Theorem 26.3 In the simple multinomial probit and simple conditional multinomial probit models the response probabilities equal	定理26.3 在简单多项式概率和简单条件多项式概率模型中，响应概率相等
The proof is presented in Section 26.13	证明在第 26.13 节中给出
This integral (26.18) is straightforward to numerically evaluate by quadrature methods	该积分 (26.18) 可以直接通过求积方法进行数值计算
To illustrate, we estimate a simple conditional multinomial probit model for transportation choice using the same specification as before	为了说明这一点，我们使用与之前相同的设定来估计一个用于交通选择的简单条件多项概率模型
We see that the estimated AME are very close to those of the conditional logit model	我们看到估计的 AME 与条件 Logit 模型的 AME 非常接近
In Stata, simple multivariate probit can be estimated by mprobit	在 Stata 中，简单的多元概率可以通过 mprobit 来估计
The latter uses the method of simulated maximum likelihood (discussed in the next section) even though numerical calculation could be implemented efficiently using the one-dimensional integral (26.18)	后者使用模拟极大似然法（在下一节中讨论），尽管数值计算可以使用一维积分（26.18）有效地实现
General Multinomial Probit	一般多项式概率
Identification of the coefficients is the same as multinomial logit	系数的识别与多项式 Logit 相同
This flexibility allows general multinomial probit to escape the IIA restrictions	这种灵活性允许一般多项式概率逃脱 IIA 约束
Consequently it may be prudent to use simpler methods such as conditional and nested logit for exploratory analysis and multinomial probit for final-stage estimation	因此，谨慎使用更简单的方法（例如用于探索性分析的条件和嵌套 Logit 以及用于最终阶段估计的多项概率）可能是明智的
To illustrate, we estimate the general multinomial probit model for the transportation application	为了说明这一点，我们估计了交通应用的一般多项式概率模型
This is substantial but one-half of the increase estimated by conditional logit	这是相当大的，但只是条件 logit 估计的增长的一半
A multinomial probit model with four alternatives has five covariance parameters	具有四个备选方案的多项概率模型具有五个协方差参数
In both frameworks the estimates indicate a high correlation between air and car travel, implying that specifications with independent errors are misspecified	在这两个框架中，估计结果表明航空旅行和汽车旅行之间存在高度相关性，这意味着具有独立误差是被错误设定的
In Stata, multivariate probit can be estimated by cmmprobit	在 Stata 中，多元概率可以通过 cmmprobit 来估计
It uses GHK simulated maximum likelihood as described above	它使用如上所述的 GHK 模拟极大似然
Ordered Response	有序响应
multinomial logit or probit) but this ignores the ordinal structure and is therefore inefficient	我们可以使用标准多项式方法（例如多项式 logit 或 probit），但这忽略了序数结构，因此效率低下
The standard approach to ordered response is based on the latent variable framework	有序响应的标准方法基于潜变量框架
The threshold crossing model postulates that responses are increasing in the latent variable and are determined by the thresholds	阈值交叉模型假设潜在变量的响应正在增加，并且由阈值确定
It may be easier to interpret the cumulative response probabilities	解释累积响应概率可能更容易
and marginal cumulative effects are	边际累积效应是
The probability of each outcome is marked on the y-axis as the difference between each probability crossing	每个结果的概率在 y 轴上标记为每个概率交叉之间的差异
Figure 26.3: Ordered Choice	图 26.3：有序选择
In Stata, ordered probit and logit can be estimated by oprobit and ologit	在 Stata 中，有序 probit 和 logit 可以通过 oprobit 和 ologit 进行估计
Count Data	计数数据
Count data models are typically employed in contexts where the counts are small integers	计数数据模型通常用于计数为小整数的情况
This is why the model is called Poisson regression	这就是该模型被称为泊松回归的原因
Since the second derivative is globally negative definite the log-likelihood function is globally concave	由于二阶导数是全局负定的，因此对数似然函数是全局凹的
Hence numerical optimization to find the MLE is computationally straightforward	因此，寻找 MLE 的数值优化在计算上是很简单的
In general there is no reason to expect the Poisson model to be correctly specified	一般来说，没有理由期望泊松模型能够被正确指定
To explore this concept further, suppose the true CEF is nonparametric	为了进一步探讨这个概念，假设真实的 CEF 是非参数的
This is a broad justification for Poisson regression in count data applications if suitable attention is paid to the functional form for the included regressors	如果对所包含的自变量的函数形式给予适当的关注，那么这就是计数数据应用中泊松回归的广泛理由
Since the model is an approximation, however, the conventional covariance matrix estimator will be inconsistent	然而，由于该模型是近似值，因此传统的协方差矩阵估计量将不一致
Consequently it is advised to use the robust formula for covariance matrix and standard error estimation	因此，建议使用协方差矩阵和标准误差估计的稳健公式
For more detail see the excellent monograph on count data models by Cameron and Trivedi (1998)	有关更多详细信息，请参阅 Cameron 和 Trivedi (1998) 撰写的关于计数数据模型的优秀专着
In Stata, Poisson and Negative Binomial regression can be estimated by poisson and nbreg	在Stata中，泊松和负二项回归可以通过泊松和nbreg来估计
Generalizations to allow truncation, fixed effects, and random effects are also available	还可以进行允许截断、固定效应和随机效应的概括
BLP Demand Model	BLP需求模型
A major development in the 1990s was the extension of conditional logit to models of aggregate market demand	20 世纪 90 年代的一项重大发展是将条件 Logit 扩展到市场总需求模型
To discuss implementation we use as examples the applications in Berry, Levinsohn, and Pakes (1995) and Nevo (2001)	为了讨论实现，我们使用 Berry、Levinsohn 和 Pakes (1995) 以及 Nevo (2001) 中的应用程序作为示例
The context is market-level observations	背景是市场层面的观测
Observations typically include the price and sale quantities of each good, a set of characteristics of each good, and possibly information on demographic characteristics of the market population	观测通常包括每种商品的价格和销售数量、每种商品的一组特征，以及可能的有关市场人口的人口特征的信息
The model is derived from a conditional logit specification of individual behavior	该模型源自个体行为的条件 Logit 设定
The trade-off is the need to take a stand on the number of individuals in the market	权衡是需要对市场上的个体数量采取立场
There is considerable attention in the literature given to the choice and construction of instruments	文献中对仪器的选择和构造给予了相当多的关注
We mentioned earlier that observations may include demographic information	我们之前提到，观测结果可能包括人口统计信息
These random variables are then treated jointly with the random coefficients with no effective change in the estimation method	然后将这些随机变量与随机系数一起处理，而估计方法没有发生有效改变
To estimate a BLP model in Stata there is an add-on command blp	为了在 Stata 中估计 BLP 模型，有一个附加命令 blp
In Python there is a package PyBLP	Python 中有一个包 PyBLP
Proof of Theorem 26.2: The proof method is similar to that of Theorem 26.1	定理26.2的证明：证明方法与定理26.1类似
Censoring and Selection	审查和选择
Censored regression occurs when the dependent variable is constrained, resulting in a pile-up of observations on a boundary	当因变量受到约束时，就会发生删失回归，导致边界上的观测值堆积
Methods have been developed to circumvent this bias, including the Tobit, CLAD, and sample selection estimators	已经开发出一些方法来规避这种偏误，包括 Tobit、CLAD 和样本选择估计量
For more detail see Maddala (1983), Amemiya (1985), Gourieroux (2000), Cameron and Trivedi (2005), and Wooldridge (2010)	欲了解更多详细信息，请参阅 Maddala (1983)、Amemiya (1985)、Gourieroux (2000)、Cameron 和 Trivedi (2005) 以及 Wooldridge (2010)
Censoring	审查
It is common in economic applications for a dependent variable to have a mixed discrete/continuous distribution, where the discrete component is on the boundary of support	在经济应用中，因变量具有混合离散/连续分布是很常见的，其中离散成分位于支持边界上
The associated density is displayed by the line graph	相关的密度通过折线图显示
Given such observations it is unclear how to proceed with a regression analysis	鉴于这些观测结果，尚不清楚如何进行回归分析
To answer these questions it is useful to have a statistical model	为了回答这些问题，有一个统计模型很有用
Without loss of generality we focus on the case of censoring from below at zero	不失一般性，我们重点关注从下到零进行审查的情况
The censored regression model was proposed by Tobin (1958) to explain household consumption of durable goods	审查回归模型由 Tobin (1958) 提出，用于解释家庭耐用品消费
He proposed treating the observations as censored realizations from a continuou	他建议将观测结果视为来自连续的审查的实现
Figure 27.1: Censored Densities	图 27.1：截尾密度
This model is known as Tobit regression or censored regression	该模型称为 Tobit 回归或删失回归
This censoring model replicates the observed phenomenon of a pile-up of observations at 0	该审查模型复现了在 0 处观测到的堆积现象
This may be a strained interpretation for consumption purchases, but may be reasonable when negative values make economic sense	对于消费购买来说，这可能是一种紧张的解释，但当负值具有经济意义时，这可能是合理的
The censoring process is depicted in Figure 27.1(b)	审查过程如图 27.1(b) 所示
A common "remedy" to the censoring problem is deletion of the censored observations	审查问题的常见“补救措施”是删除审查的观测结果
In Figure 27.1(a) and Figure 27.1(b) the truncated distribution is the continuous portion above 0 with the mass point at 0 omitted	在图27.1(a)和图27.1(b)中，截断分布是0以上的连续部分，省略了0处的质点
The truncated distribution is obtained by deleting the censored observations so consists of just the open squares	截断分布是通过删除删失观测值获得的，因此仅包含空心方块
Figure 27.2: Properties of Censored Distributions	图 27.2：截尾分布的特征
The censored regression model (27.1) makes several strong assumptions: (1) linearity of the conditional mean; (2) independence of the error; (3) normal distribution	删失回归模型（27.1）做出了几个强有力的假设：（1）条件均值的线性； (2) 误差的独立性； (3)正态分布
The normality assumption is also quite important, yet difficult to justify from first principles	正态性假设也相当重要，但很难从第一原理中证明其合理性
Censored Regression Functions	删失回归函数
We can calculate some properties of the conditional distribution of the censored random variable	我们可以计算删失随机变量的条件分布的一些特征
The conditional mean of the uncensored, censored, and truncated distributions are	未经审查、审查和截断分布的条件平均值为
To obtain (27.2) and (27.3) see Theorems 5.8.4 and 5.8.6 of Probability and Statistics for Economists and Exercise 27.1	要获得 (27.2) 和 (27.3)，请参阅《经济学家概率论与数理统计》的定理 5.8.4 和 5.8.6 以及练习 27.1
with strict inequality if the censoring probability is positive	如果审查概率为正，则具有严格的不等式
This shows that the conditional means of the truncated and censored distributions are biased for the uncensored conditional mean	这表明截断和审查分布的条件均值相对于未经审查的条件均值存在偏误
We illustrate in Figure 27.2(a)	我们在图 27.2(a) 中进行了说明
The functions are strictly ranked with the truncated mean exhibiting the highest bias	这些函数严格按照显示最高偏误的截断均值进行排序
The Bias of Least Squares Estimation	最小二乘估计的偏误
We derive (27.4) at the end of this section	我们在本节末尾推导出(27.4)
Greene's formula (27.4) shows that the least squares slope coefficients are shrunk towards zero proportionately with the censoring percentage	格林公式（27.4）表明最小二乘斜率系数随着审查百分比成比例地向零收缩
10%) then estimation methods which correct for censoring bias may be desired	然而，如果审查比例 $\pi$ 足够高（例如 10%），则可能需要纠正审查偏误的估计方法
We close this section by deriving (27.4)	我们通过推导（27.4）来结束本节
which is (27.4) as claimed	正如所声称的那样，这是（27.4）
Tobit Estimator	托比特估计量
Tobin (1958) proposed estimation of the censored regression model (27.1) by maximum likelihood	Tobin (1958) 提出通过极大似然估计删失回归模型 (27.1)
The first component is the probability of censoring and the second component is the normal regression density	第一个成分是审查概率，第二个成分是正态回归密度
The log-likelihood is the sum of the log density functions evaluated at the observations:	对数似然是根据观测值评估的对数密度函数的总和：
Amemiya (1973) established its asymptotic normality	Amemiya (1973) 建立了其渐近正态性
Hence the first term in (27.5) is concave	因此（27.5）中的第一项是凹的
In Stata, Tobit regression can be estimated with the tobit command	在 Stata 中，可以使用 tobit 命令估计 Tobit 回归
In R there are several options including the tobit command in the AER package	在 R 中，有多个选项，包括 AER 包中的 tobit 命令
James Tobin (1918-2002) of the United States was one of the leading macroe-\\	美国的詹姆斯·托宾（James Tobin，1918-2002）是宏观经济学的领军人物之一
conomists of the mid-twentieth century and winner of the 1981 Nobel Memorial\\	二十世纪中叶的经济学家和 1981 年诺贝尔奖得主\
its MLE, typically called the Tobit estimator	它的 MLE，通常称为 Tobit 估计量
destroyer during World War II	第二次世界大战期间的驱逐舰
a crew member named "Tobit" who had "a mind like a sponge" because of his\\	一位名叫“托比特”的船员，拥有“像海绵一样的头脑”，因为他的……
on the same Navy destroyer during WWII	二战期间在同一艘海军驱逐舰上
Identification in Tobit Regression	Tobit 回归中的识别
The Tobit model (27.1) makes several strong assumptions	Tobit 模型 (27.1) 做出了几个强有力的假设
These two assumptions, however, are essential as we now discuss	然而，正如我们现在所讨论的，这两个假设是必不可少的
The key insight is that quantiles, not means, are nonparametrically identified from a censored distribution	关键的见解是分位数，而不是均值，是从审查分布中非参数确定的
Figure 27.3: Censored Regression Quantiles	图 27.3：截尾回归分位数
CLAD and CQR Estimators	CLAD 和 CQR 估计量
The model in Powell (1984) is censored median regression:	Powell (1984) 中的模型是删失中值回归：
The appropriate estimator for median regression is least absolute deviations (LAD)	中值回归的适当估计量是最小绝对误差 (LAD)
As for CLAD, the criterion is not globally concave so numerical minimization is not guarenteed to converge to the global minimum	对于 CLAD，标准不是全局凹的，因此不能保证数值最小化收敛到全局最小值
Essentially, there must be sufficient variation in the regressors over the region of the sample space where there is no censoring	本质上，在没有审查的样本空间区域内，自变量必须有足够的变化
CLAD can be estimated in Stata with the add-on package clad	CLAD 可以在 Stata 中使用附加包 clad 进行估算
In R, CLAD and CQR can be estimated with the crq command in the package quantreg	在 R 中，可以使用 quantreg 包中的 crq 命令来估计 CLAD 和 CQR
Illustrating Censored Regression	说明审查回归
To illustrate the methods we revisit of the applications reported in Section 20.6, where we used a linear spline to estimate the impact of income on non-governmental transfers for a sample of 8684 Phillipino households	为了说明方法，我们重新审视第 20.6 节中报告的应用程序，其中我们使用线性样条来估计 8684 个菲律宾家庭样本的收入对非政府转移的影响
This proportion is sufficiently high that we should expect significant censoring bias if censoring is ignored	这个比例足够高，如果忽略审查，我们应该预期会出现显着的审查偏误
We display the estimated regression as a function of income (with remaining regressors set at sample means) in Figure 27.3(b)	我们将估计的回归显示为收入的函数（其余自变量设置为样本均值），如图 27.3(b) 所示
Overall, the CLAD estimates are the preferred choice because they are robust to both censoring and non-normality	总体而言，CLAD 估计是首选，因为它们对于审查和非正态性都很稳健
Sample Selection Bias	样本选择偏误
While econometric models typically assume random sampling, actual observations are typically gathered non-randomly	虽然计量经济学模型通常假设随机抽样，但实际观测结果通常是非随机收集的
The following are examples of potential sample selection	以下是潜在样本选择的示例
The decision to work may be endogenously related to the person's observed and unobserved characteristics	工作决定可能与人的观察到和未观察到的特征有内在的联系
Individuals who volunteer for a training program may have abilities which are correlated with outcomes	自愿参加培训计划的个体可能具有与结果相关的能力
Endogenous selection arises when the decision to complete and return the survey is correlated with the survey responses	当完成和返回调查的决定与调查答复相关时，就会出现内生选择
Endogenous selection arises when the decision to rate the product is correlated with the response	当对产品进行评级的决定与响应相关时，就会出现内生选择
To understand the effect of sample selection it is useful to view sampling as a two-stage process	为了理解样本选择的效果，将抽样视为一个两阶段过程很有用
Selection bias occurs when the second term is non-zero	当第二项非零时，就会出现选择偏误
Thus sample selection bias arises if (and only if) selection is correlated with the equation error	因此，当（且仅当）选择与方程误差相关时，才会出现样本选择偏误
In Figure 27.2(a) we saw that censoring attenuates (flattens) the regression function	在图 27.2(a) 中，我们看到审查削弱（压平）了回归函数
In general it is difficult to predict the effect of selection on regression functions	一般来说，很难预测选择对回归函数的影响
As we have shown, endogenous selection changes the conditional expectation	正如我们所表明的，内生选择改变了条件期望
In the next section we discuss one approach which corrects for sample selection bias when we have information on the selection process	在下一节中，我们讨论一种当我们掌握有关选择过程的信息时纠正样本选择偏误的方法
Heckman's Model	赫克曼模型
Heckman (1979) showed that sample selection bias can be corrected if we have a sample which includes the non-selected observations	Heckman (1979) 表明，如果我们有一个包含未选择的观测值的样本，则可以纠正样本选择偏误
Heckman's approach is to build a joint model of the full sample (not just the selected sample) and use this to estimate the model parameters	Heckman 的方法是建立完整样本（而不仅仅是所选样本）的联合模型，并用它来估计模型参数
Heckman proposed a two-step estimator of the coefficients	赫克曼提出了系数的两步估计量
The method is sometimes called "Heckit" as it is an analog of probit, logit, and Tobit regression	该方法有时称为“Heckit”，因为它是概率、logit 和 Tobit 回归的模拟
An alternative to two-step estimation is joint maximum likelihood	两步估计的替代方法是联合极大似然
Evaluated at the observations we obtain the log-likelihood function	根据观测值进行评估，我们获得对数似然函数
The MLE is the preferred estimation method for final reporting	MLE 是最终报告的首选估计方法
It can be computationally demanding in some applications, however, so the two-step estimator can be useful for preliminary analysis	然而，在某些应用中，它的计算要求可能很高，因此两步估计量对于初步分析非常有用
In Stata the two-step estimator and joint MLE can be obtained with the heckman command	在 Stata 中，可以使用 heckman 命令获得两步估计量和联合 MLE
Nonparametric Selection	非参数选择
A nonparametric selection model is	非参数选择模型是
We will use this latter notation to link the models to estimation methods	我们将使用后一种表示法将模型与估计方法联系起来
The conditional probability of selection is	选择的条件概率为
The three equations (27.8)-(27.10) suggest three two-step approaches to nonparametric estimation which we now describe	三个方程 (27.8)-(27.10) 提出了我们现在描述的三种非参数估计的两步方法
The advantage of expansions based on (27.10) is that it will be first-order accurate in the leading case of the normal distribution	基于 (27.10) 的展开式的优点是，它在正态分布的主要情况下将是一阶精确的
The advantage of expansions based on (27.9) is interpretability: The regression is expressed as a function of the propensity score	基于（27.9）的扩展的优点是可解释性：回归被表示为倾向得分的函数
Das, Newey, and Vella (2003) provide a detailed asymptotic theory for this class of estimators focusing on those based on (27.9)	Das、Newey 和 Vella (2003) 为此类估计量提供了详细的渐近理论，重点关注基于 (27.9) 的估计量
They provide conditions under which the models are identified, the estimators consistent, and asymptotically normally distributed	它们提供了模型被识别、估计量一致且渐近正态分布的条件
These nonparametric selection estimators are two-step estimators with generated regressors (see Section 12.26)	这些非参数选择估计量是带有生成自变量的两步估计量（参见第 12.26 节）
The latter should be implemented as an explicit two-step estimator so that the first-step estimation is treated by the bootstrap distribution	后者应作为显式两步估计量实现，以便通过引导分布处理第一步估计
A panel censored regression (panel Tobit) equation is	面板删失回归（面板 Tobit）方程为
A random effects estimator can be derived under the assumption of joint normality of the errors	可以在误差联合正态性的假设下导出随机效应估计量
The disadvantages are those typically associated with random effects estimators	缺点通常与随机效应估计量相关
A fixed effects estimator was developed by Honoré (1992)	Honoré (1992) 开发了固定效应估计量
A method to estimated this model is presented in Kyriazidou (1997)	Kyriazidou (1997) 提出了一种估计该模型的方法
Kyriazidou (1997) provides a complete distribution theory	Kyriazidou (1997) 提供了完整的分布理论
Model Selection, Stein Shrinkage, and Model Averaging	模型选择、斯坦因收缩和模型平均
The chapter reviews model selection, James-Stein shrinkage, and model averaging	本章回顾了模型选择、James-Stein 收缩和模型平均
Model selection is a tool for selecting one model (or estimator) out of a set of models	模型选择是从一组模型中选择一个模型（或估计量）的工具
Different model selection methods are distinguished by the criteria used to rank and compare models	不同的模型选择方法通过用于对模型进行排序和比较的标准来区分
Model averaging is a generalization of model selection	模型平均是模型选择的概括
Models and estimators are averaged using data-dependent weights	模型和估计量使用数据相关权重进行平均
James-Stein shrinkage modifies classical estimators by shrinking towards a reasonable target	James-Stein 收缩通过收缩到合理的目标来修改经典估计量
Shrinking reduces mean squared error	收缩可减少均方误差
Two excellent monographs on model selection and averaging are Burnham and Anderson (1998) and Claeskens and Hjort (2008)	Burnham 和 Anderson (1998) 以及 Claeskens 和 Hjort (2008) 是关于模型选择和平均的两本优秀专着
See also Wasserman (2006) and Efron (2010)	另请参见 Wasserman (2006) 和 Efron (2010)
In the course of an applied project an economist will routinely estimate multiple models	在应用项目的过程中，经济学家通常会估计多个模型
The question arises: Which model is best? Which should be used in practice? How can we select the best choice? This is the question of model selection	问题出现了：哪种模型最好？实际中应该使用哪个？我们怎样才能做出最好的选择呢？这就是模型选择的问题
Take, for example, a wage regression	以工资回归为例
How should we proceed? Should we estimate a simple linear model plus a quadratic in experience? Should education enter linearly, a simple spline as in Figure 2.6(a), or with separate dummies for each education level? Should marital status enter as a simple dummy (married or not) or allowing for all recorded categories? Should interactions be included? Which? How many? Taken together we need to select the specific regressors to include in the regression model	我们应该如何着手？我们应该估计一个简单的线性模型加上经验的二次模型吗？教育应该线性输入，如图 2.6(a) 所示的简单样条曲线，还是为每个教育级别使用单独的虚拟变量？婚姻状况应该作为一个简单的虚拟变量（已婚或未婚）输入还是允许所有记录的类别？是否应该包括互动？哪个？多少？综上所述，我们需要选择要包含在回归模型中的特定自变量
Model "selection" may be mis-named	模型“选择”的命名可能被误解了
For our two estimators we calculate that	对于两个估计量，我们计算出
The comparison between (28.1) and (28.2) is a basic bias-variance trade-off	（28.1）和（28.2）之间的比较是基本的偏误-方差权衡
The WMSE combines these two components	WMSE 结合了这两个部分
This is an overly-simplistic setting but highlights the fundamental ingredients of criterion-based model selection	这是一个过于简单化的情形，但突出了基于准则的模型选择的基本要素
The bias, however, can be estimated, giving rise to empirical estimates of the MSE and empirical model selection rules	然而，偏误是可以估计的，从而产生 MSE 的经验估计和经验模型选择规则
A large number of model selection criteria have been proposed	大量的模型选择准则被提出
We list here those most frequently used in applied econometrics	我们在这里列出了应用计量经济学中最常用的那些
Bayesian Information Criterion	贝叶斯信息准则
Akaike Information Criterion	赤池信息准则
Cross-Validation	交叉验证
We next list two commonly-used selection criteria for likelihood-based estimation	接下来我们列出了基于似然估计的两个常用选择准则
In the following sections we derive and discuss these and other model selection criteria	在以下部分中，我们推导并讨论这些和其他模型选择准则
The Bayesian Information Criterion (BIC), also known as the Schwarz Criterion, was introduced by Schwarz (1978)	贝叶斯信息准则 (BIC)，也称为 Schwarz 准则，由 Schwarz (1978) 提出
It is appropriate for parametric models estimated by maximum likelihood and is used to select the model with the highest approximate probability of being the true model	它适用于通过极大似然估计的参数模型，用于选择作为真实模型的渐近概率最高的模型
Schwarz (1978) established the following approximation	Schwarz (1978) 建立了以下渐近值
A heuristic proof for normal linear regression is given in Section 28.32	第 28.32 节给出了正态线性回归的启发式证明
A "diffuse" prior is one which distributes weight uniformly over the parameter space	“扩散”先验是将权重均匀分布在参数空间上的先验
Schwarz's theorem shows that the marginal likelihood approximately equals the maximized likelihood multiplied by an adjustment depending on the number of estimated parameters and the sample size	施瓦茨定理表明，边际似然大约等于极大似然乘以根据估计参数数量和样本大小进行的矫正
However, this is an unwise choice because it alters the scaling, making it difficult to compare the degree of difference between models	然而，这是一个不明智的选择，因为它改变了尺度比例，使得比较模型之间的差异程度变得困难
Bayes selection picks the model with highest probability	贝叶斯选择挑出概率最高的模型
Thus BIC selection is approximate Bayes selection	因此，BIC 选择是渐近贝叶斯选择
The above discussion concerned two models but applies to any number of models	上述讨论涉及两个模型，但适用于任意数量的模型
The BIC may be obtained in Stata by using the command estimates stats after an estimated	BIC 可以在 Stata 中通过对一个估计量使用命令 estimates stats 获得
Akaike Information Criterion for Regression	回归的 Akaike 信息准则
The Akaike Information Criterion (AIC) was introduced by Akaike (1973)	Akaike 信息准则 (AIC) 由 Akaike (1973) 提出
It is designed for parametric models estimated by maximum likelihood	它专为通过极大似然估计的参数模型而设计
The first term in (28.8) does not depend on the model	(28.8) 中的第一项不依赖于模型
This would be the value obtained if there were no estimation error	如果没有估计误差，这将是获得的值
Expression (28.13) shows the converse story	表达式（28.13）显示了相反的情况
This is the combined cost of over-fitting and parameter estimation	这是过度拟合和参数估计的综合成本
Interestingly the AIC takes a similar form to the BIC	有趣的是，AIC 的形式与 BIC 类似
One of the interesting features of these results are that they are exact - there is no approximation and they do not require that the true error is normally distributed	这些结果的有趣特征之一是它们是精确的 - 没有近似值，并且不要求真实误差呈正态分布
If homoskedasticity fails then the AIC loses its validity	如果同方差性失败，则 AIC 就会失去有效性
The AIC may be obtained in Stata by using the command estimates stats after an estimated model	AIC 可以在 Stata 中通过使用估计模型后的估计统计命令来获得
Akaike Information Criterion for Likelihood	似然性的 Akaike 信息准则
For the general likelihood context Akaike proposed the criterion (28.7)	对于一般似然上下文，Akaike 提出了标准（28.7）
This specializes to (28.4) for the case of a normal linear regression model	这专门针对正态线性回归模型的情况（28.4）
As for regression, AIC selection is performed by estimating a set of models, calculating AIC for each, and selecting the model with the smallest AIC	对于回归，AIC 选择是通过估计一组模型、计算每个模型的 AIC，并选择 AIC 最小的模型来执行的
The advantages of the AIC are that it is simple to calculate, easy to implement, and straightforward to interpret	AIC的优点是计算简单、易于实现、解释简单
It is intuitive as it is a simple penalized likelihood	它很直观，因为它是一个简单的惩罚可能性
The disadvantage is that its simplicity may be deceptive	缺点是它的简单性可能具有欺骗性
The following is an analog of Theorem 28.3	以下是定理 28.3 的模拟
This result shows that the AIC is, in general, a reasonable estimator of the KLIC fit of an estimated parametric model	该结果表明，一般来说，AIC 是估计参数模型的 KLIC 拟合的合理估计量
The theorem holds broadly for maximum likelihood estimation and thus the AIC can be used in a wide variety of contexts	该定理广泛适用于极大似然估计，因此 AIC 可以用于多种情况
Mallows Criterion	锦葵准则
It is appropriate for linear estimators of homoskedastic regression models	它适用于同方差回归模型的线性估计
Take the homoskedastic regression framework	采取同方差回归框架
Mallows (1973) proposed the criterion	Mallows (1973) 提出了该准则
The Mallows crierion can be used similarly to the AIC	Mallows 标准的使用方式与 AIC 类似
This is the expected squared difference between the estimated and true regressions evaluated at the observations	这是根据观测值评估的估计回归与真实回归之间的预期平方差
The best possible (infeasible) value of this quantity is	该数量的最优可能（不可行）值为
The difference is the prediction accuracy of the estimator:	差异在于估计量的预测精度：
which equals Mallows' measure of fit	这等于马洛斯的拟合度
The proof is given in Section 28.32	第 28.32 节给出了证明
Hold-Out Criterion	坚持标准
Dividing the sample into two parts, one for estimation and the second for evaluation, creates a simple device for model evaluation and selection	将样本分为两部分，一部分用于估计，第二部分用于评估，创建了一个用于模型评估和选择的简单装置
In the recent machine learning literature the data division is typically described as a training sample and a test sample	在最近的机器学习文献中，数据划分通常被描述为训练样本和检验样本
Such divisions are most suited for a context of an extremely large sample	这种划分最适合样本量极大的情况
The method is intuitive, general, and flexible, and does not rely on technical assumptions	该方法直观、通用、灵活，不依赖于技术假设
The hold-out method has two disadvantages	保留方法有两个缺点
Results can depend on the initial sample sorting and are therefore partially arbitrary	结果可能取决于初始样本排序，因此部分是任意的
Cross-Validation Criterion	交叉验证标准
In applied statistics and machine learning the default method for model selection and tuning parameter selection is cross-validation	在应用统计学和机器学习中，模型选择和调整参数选择的默认方法是交叉验证
Cross-validation is closely related to the hold-out criterion introduced in the previous section	交叉验证与上一节中介绍的保留标准密切相关
The estimator CV is called the cross-validation (CV) criterion	估计量 CV 称为交叉验证 (CV) 准则
As there is no random component the criterion takes the same value in any implementation	由于没有随机成分，该标准在任何实现中都取相同的值
In least squares estimation the CV criterion has a simple computational implementation	在最小二乘估计中，CV 准则具有简单的计算实现
where the second equality is from Theorem 3.7	其中第二个等式来自定理 3.7
Recall as well that in our study of nonparametric regression (Section 19.12) we defined the crossvalidation criterion for kernel regression as the weighted average of the squared prediction errors	还记得在我们的非参数回归研究（第 19.12 节）中，我们将核回归的交叉验证标准定义为预测误差平方的加权平均值
These results show that CV is an unbiased estimator for both the MSFE and IMSE, showing a close connection between these measures of accuracy	这些结果表明 CV 是 MSFE 和 IMSE 的无偏估计量，显示出这些准确性度量之间的密切联系
This is not an artifact of the proof method; cross-validation is inherently more robust than AIC or BIC	交叉验证本质上比 AIC 或 BIC 更稳健
Implementation of CV model selection is the same as for the other criteria	CV 模型选择的实施与其他标准相同
The model with the smallest value of CV is the CVselected model	CV 值最小的模型是 CVselected 模型
The CV method is also much broader in concept and potential application	CV 方法在概念和潜在应用方面也更广泛
Computationally and conceptually it is straightforward to select models by minimizing such criterion	从计算和概念上讲，通过最小化此类标准来选择模型是很简单的
However, the properties of applying CV to general criterion is not known	然而，将 CV 应用于一般标准的特征尚不清楚
Stata does not have a standard command to calculate the CV criterion for regression models	Stata 没有标准命令来计算回归模型的 CV 标准
K-Fold Cross-Validation	K 折交叉验证
There are two deficiencies with the CV criterion which can be alleviated by the closely related K-fold cross-validation criterion	CV 标准有两个缺陷，可以通过密切相关的 K 折交叉验证标准来缓解
The method works by the following steps	该方法按以下步骤进行
This is similar to a clustered variance formula, where the folds are treated as clusters	这类似于群组方差公式，其中折叠被视为群组
One disadvantage of K-fold cross-validation is that CV can be sensitive to the initial random sorting of the observations, leading to partially arbitrary results	K 折交叉验证的一个缺点是 CV 可能对观测值的初始随机排序敏感，导致部分任意的结果
An associated standard error can be obtained by taking the square root of the average squared standard errors	可以通过平均平方标准误差的平方根来获得相关的标准误差
CV model selection is typically implemented by selecting the model with the smallest value of CV	CV模型选择通常是通过选择CV值最小的模型来实现的
In contrast, for inference many econometricians recommend undersmoothing bandwidths, which means selecting a less parsimonious model than the CV minimizing choice	相比之下，为了进行推断，许多计量经济学家建议使用欠平滑带宽，这意味着选择比 CV 最小化选择更简洁的模型
Many Selection Criteria are Similar	许多选择标准都是相似的
For the linear regression model many selection criteria have been introduced	对于线性回归模型，引入了许多选择标准
Shibata (1980) proposed the criteria	Shibata (1980) 提出了该标准
as an estimator of the MSFE	作为 MSFE 的估计量
Thus the two are quite similar in practice	因此，两者在实践中非常相似
Thus minimization of Shibata's criterion and AIC are similar	因此 Shibata 准则的最小化和 AIC 是相似的
Akaike (1969) proposed the Final Prediction Error Criteria	Akaike (1969) 提出了最终预测误差准则
Craven and Wahba (1979) proposed Generalized Cross Validation	Craven 和 Wahba (1979) 提出了广义交叉验证
The third-to-last line holds asymptotically by the WLLN	倒数第三条线由 WLLN 渐近成立
It differs under heteroskedasticity, however, which is one of its primary advantages	然而，它在异方差性下有所不同，这是其主要优点之一
Relation with Likelihood Ratio Testing	与似然比检验的关系
Since the AIC and BIC are penalized log-likelihoods, AIC and BIC selection are related to likelihood ratio testing	由于 AIC 和 BIC 是惩罚对数似然，因此 AIC 和 BIC 选择与似然比检验相关
But rather that there is a similar structure in the decision	而是该决定中有类似的结构
There are two useful practical implications	有两个有用的实际意义
Similar comments apply to BIC selection though the effective critical values are different	尽管有效临界值不同，但类似的评论也适用于 BIC 选择
Hence BIC selection becomes stricter as sample sizes increase	因此，随着样本量的增加，BIC 选择变得更加严格
Consistent Selection	一致的选择
An important property of a model selection procedure is whether it selects a true model in large samples	模型选择过程的一个重要特征是它是否在大样本中选择真实模型
We call such a procedure consistent	我们称这样的过程为一致的
To discuss this further we need to thoughtfully define what is a "true" model	为了进一步讨论这个问题，我们需要仔细地定义什么是“真实”模型
The answer depends on the type of model	答案取决于模型的类型
This includes least squares regression interpreted as a projection and just-identified instrumental variables regression	这包括解释为投影的最小二乘回归和刚刚确定的工具变量回归
A complication arises that there may be multiple true models	可能存在多个真实模型，因此出现了一个复杂情况
The most common type of intersecting models are nested	最常见的相交模型类型是嵌套的
We say a method is consistent if it asymptotically selects a true model	如果一个方法渐进地选择了一个真实的模型，我们就说它是一致的
This states that the model selection rule selects a true model with probability tending to 1 as the sample size diverges	这表明模型选择规则选择一个真实模型，随着样本量的变化，概率趋于 1
A broad class of model selection methods satisfy this definition of consistency	一类广泛的模型选择方法满足一致性的定义
This result covers AIC, BIC and testing-based selection	此结果涵盖 AIC、BIC 和基于检验的选择
Thus all are model selection consistent	因此，所有模型选择都是一致的
A major limitation with this result is that the definition of model selection consistency is weak	该结果的一个主要不足是模型选择一致性的定义很弱
If a selection rule asymptotically selects an over-parameterized model we say that it "over-selects"	如果选择规则渐进地选择过度参数化模型，我们就说它“过度选择”
The definition states that over-selection occurs when two models are nested and the smaller model is true (so both models are true models but the smaller model is more parsimonious) if the larger model is asymptotically selected with positive probability	该定义指出，当两个模型嵌套并且较小的模型为真（因此两个模型都是真实模型，但较小的模型更简约）时，如果以正概率渐近选择较大的模型，就会发生过度选择
This result includes both AIC and testing-based selection	此结果包括 AIC 和基于检验的选择
Following this line of reasoning, it is useful to draw a distinction between true and parsimonious models	遵循这一推理思路，区分真实模型和简约模型是很有用的
Of the methods we have reviewed, only BIC selection is consistent for parsimonious models, as we now show	正如我们现在所展示的，在我们回顾的方法中，只有 BIC 选择对于简约模型是一致的
Thus consistent model selection is only one of several desirable statistical properties	因此，一致的模型选择只是几个理想的统计特性之一
Asymptotic Selection Optimality	渐近选择最优性
Regressor selection by the AIC/Shibata/Mallows/CV class turns out to be asymptotically optimal with respect to out-of-sample prediction under quite broad conditions	AIC/Shibata/Mallows/CV 类的自变量选择在相当广泛的条件下对于样本外预测来说是渐近最优的
This may appear to conflict with the results of the previous section but it does not as there is a critical difference between the goals of consistent model selection and accurate prediction	这可能看起来与上一节的结果相冲突，但事实并非如此，因为一致的模型选择和准确预测的目标之间存在重大差异
Now consider model selection using the Mallow's criterion for regression models	现在考虑使用回归模型的马洛准则进行模型选择
Li (1987) established the asymptotic optimality (28.18)	Li（1987）建立了渐近最优性（28.18）
His result depends on the following conditions	他的结果取决于以下条件
Assumptions 28.1.2 and 28.1.3 state that the true model is a conditionally homoskedastic regression	假设 28.1.2 和 28.1.3 表明真实模型是条件同方差回归
This assumption can be generalized to allow non-nested models, but in this case an alternative restriction on the number of estimated models is needed	这种假设可以推广到允许非嵌套模型，但在这种情况下，需要对估计模型的数量进行替代约束
Thus Mallows selection is asymptotically equivalent to using the infeasible optimal model	因此，Mallows 选择渐近等价于使用不可行的最优模型
The primary message is that the selection methods discussed in the previous section asymptotically select a sequence of models which are best-fitting in the sense of minimizing the prediction error	主要信息是上一节中讨论的选择方法渐进地选择一系列模型，这些模型在最小化预测误差的意义上是最优拟合的
Using a similar argument, Andrews (1991c) showed that selection by cross-validation satisfies the same asymptotic optimality condition without requiring conditional homoskedasticity	Andrews (1991c) 使用类似的论点表明，通过交叉验证进行的选择满足相同的渐近最优性条件，而不需要条件同方差
This indicates an important advantage for crossvalidation selection over the other methods	这表明交叉验证选择相对于其他方法具有重要优势
Focused Information Criterion	重点信息标准
Claeskens and Hjort (2003) introduced the Focused Information Criterion (FIC) as an estimator of the MSE of a scalar parameter	Claeskens 和 Hjort (2003) 引入了聚焦信息准则 (FIC) 作为标量参数 MSE 的估计量
Estimation accuracy is measured by the MSE of the estimator of the target parameter, which is the squared bias plus the variance:	估计精度通过目标参数估计量的 MSE 来衡量，即偏误平方加上方差：
It turns out to be convenient to normalize the MSE by that of the unrestricted estimator	事实证明，通过无约束估计量来标准化 MSE 是很方便的
The Claeskens-Hjort FIC is an estimator of F	Claeskens-Hjort FIC 是 F 的估计量
The FIC is used similarly to AIC	FIC 的使用方式与 AIC 类似
The FIC is calculated for each sub-model of interest and the model with the lowest value of FIC is selected	计算每个感兴趣的子模型的 FIC，并选择 FIC 值最低的模型
The advantage of the FIC is that it is specifically targeted to minimize the MSE of the target parameter	FIC的优点是它专门针对最小化目标参数的MSE
Computationally it may be convenient to implement the FIC using an alternative formulation	在计算上，使用替代公式来实现 FIC 可能会很方便
This adds the same quantity to all models and therefore does not alter the minimizing model	这会向所有模型添加相同的数量，因此不会改变最小化模型
The formula (28.19) also provides an intuitive understanding of the FIC	公式（28.19）也提供了对FIC的直观理解
Second take the restricted MLE	其次采用受限 MLE
Best Subset and Stepwise Regression	最优子集和逐步回归
It simply does not make sense to estimate all subset regressions in such cases	在这种情况下估计所有子集回归根本没有意义
If the goal is to find the set of regressors which produces the smallest selection criterion it seems likely that we should be able to find an approximating set of regressors at much reduced computation cost	如果目标是找到产生最小选择标准的自变量集合，那么我们似乎应该能够以大大降低的计算成本找到自变量的近似集合
We use the terms here as described in Hastie, Tibshirani, and Friedman (2008)	我们在这里使用 Hastie、Tibshirani 和 Friedman (2008) 中描述的术语
Backward Stepwise Regression	向后逐步回归
Forward Stepwise Regression	前向逐步回归
There are combined algorithms which check both forward and backward movements at each step	有组合算法可以检查每一步的向前和向后运动
There are also old-fashioned versions which use significance testing rather than selection criterion (this is generally not advised)	还有一些老式版本使用显著性检验而不是选择标准（通常不建议这样做）
Stepwise regression based on old-fashioned significance testing can be implemented in Stata using the stepwise command	基于老式显著性检验的逐步回归可以在 Stata 中使用 stepwise 命令实现
Stepwise regression can be implemented in R using the lars command	可以使用 lars 命令在 R 中实现逐步回归
The MSE of Model Selection Estimators	模型选择估计量的 MSE
Model selection can lead to estimators with poor sampling performance	模型选择可能会导致估计量的采样性能较差
In this section we show that the mean squared error of estimation is not necessarily improved, and can be considerably worsened, by model selection	在本节中，我们将表明，通过模型选择，估计的均方误差不一定会得到改善，而且可能会大大恶化
To keep things simple consider an estimator with an exact normal distribution and known covariance matrix	为了简单起见，请考虑具有精确正态分布和已知协方差矩阵的估计量
and the class of model selection estimators	以及模型选择估计量的类别
We can see the following limiting cases	我们可以看到以下约束情况
A sensible reading of the plots leads to the practical recommendation to not use the BIC for model selection, and use the AIC with care	对图的合理解读会导致实际建议不要使用 BIC 进行模型选择，并谨慎使用 AIC
Figure 28.1: MSE of Post-Model-Selection Estimators	图 28.1：模型选择后估计量的 MSE
Unfortunately it is impossible to known a priori the appropriate models	不幸的是，不可能先验地知道适当的模型
The fact that the MSE of the AIC estimator somewhat exceeds that of the BIC in this region is due to the over-selection property of the AIC	事实上，AIC 估计量的 MSE 在此区域略高于 BIC 的 MSE，这是由于 AIC 的超选特性造成的
Inference After Model Selection	模型选择后的推断
Economists are typically interested in inferential questions such as hypothesis tests and confidence intervals	经济学家通常对推断问题感兴趣，例如假设检验和置信区间
The distribution of the t-ratio, conditional on exceeding a critical value, is not conventionally distributed and there seems little point to push this issue further	以超过临界值为条件的 t 比分布不是传统分布的，似乎没有必要进一步推动这个问题
We illustrate the issue numerically	我们用数字来说明这个问题
Figure 28.2: Coverage Probability of Post-Model Selection	图 28.2：模型选择后的覆盖概率
The degree of under-coverage is enormous and greatly troubling	覆盖率不足的程度是巨大的并且非常令人不安
The message from this display is that inference after model selection is problematic	此显示的消息是模型选择后的推断存在问题
Conventional inference procedures do not have conventional distributions and the distortions are potentially unbounded	传统的推断过程不具有传统的分布，并且扭曲可能是无限的
We illustrate the model selection methods with an application	我们通过一个应用来说明模型选择方法
The estimated models range in complexity concerning the impact of education and experience	估计模型的复杂性涉及教育和经验的影响
Table 28.1: Estimates of Return to Experience among Asian Women	表 28.1：亚洲女性的经验回归估计
Terms for education: - Models 1, 4, and 7 include a single dummy variable college indicating that years of education is 16 or higher	教育术语： - 模型 1、4 和 7 包括一个虚拟变量 College，表明受教育年限为 16 或更高
Another item to notice is that the standard errors are most affected by the number of experience terms	另一个需要注意的事项是标准误差受经验项数量的影响最大
The BIC picks a parsimonious model with the linear spline in education and a quadratic in experience	BIC 选择了一个简约模型，其中教育为线性样条，经验为二次
When selecting a model using information criteria it is useful to examine several criteria	当使用信息标准选择模型时，检查几个标准很有用
However, the uncertainty reflected by the flatness of the CV criterion suggests that uncertainty remains in the choice of specification	然而，CV 标准的平坦度所反映的不确定性表明，规格的选择仍然存在不确定性
Shrinkage Methods	收缩方法
This and the next few sections review material presented in Chapter 15 of Probability and Statistics for Economists	本节和接下来的几节回顾了《经济学家的概率与统计》第 15 章中介绍的材料
This is often called a Stein-Rule estimator	这通常称为斯坦因规则估计量
This estimator has many appealing properties	该估计量具有许多吸引人的特性
However when this Wald statistic is small (when the evidence is consistent with the hypothesis of a zero coefficient) then the shrinkage estimator moves the original estimator towards zero	然而，当 Wald 统计量很小时（当证据与零系数的假设一致时），收缩估计量会将原始估计量移向零
James-Stein Shrinkage Estimator	James-Stein 收缩估计量
James and Stein (1961) made the following discovery	James 和 Stein (1961) 做出了以下发现
This result stunned the world of statistics	这一结果震惊了统计界
This is a stunning result because it had previously been assumed that it would be impossible to find an estimator which dominates the MLE	这是一个令人震惊的结果，因为之前人们认为不可能找到一个主导 MLE 的估计量
This means that shrinkage achieves uniform improvements only in dimensions three or larger	这意味着收缩率仅在三维或更大维度上实现均匀改善
which is fully feasible as it does not depend on unknowns or tuning parameters	这是完全可行的，因为它不依赖于未知数或调整参数
Interpretation of the Stein Effect	斯坦因效应的解释
The James-Stein Theorem appears to conflict with classical statistical theory	詹姆斯-斯坦定理似乎与经典统计理论相冲突
Part of the answer is that classical theory has caveats	部分答案是经典理论有一些警告
On the other hand, the James-Stein Theorem shows that if unbiasedness is not a critical property but instead MSE is important, then there are better estimators than the MLE	另一方面，詹姆斯-斯坦定理表明，如果无偏性不是关键特征，而是 MSE 很重要，那么就有比 MLE 更好的估计量
The James-Stein estimator is able to achieve reduced variance because it is a soft threshold function	James-Stein 估计量能够减少方差，因为它是一个软阈值函数
This means that the user needs to choose the centering point wisely	这意味着用户需要明智地选择中心点
Positive Part Estimator	正部分估计量
The simple James-Stein estimator has the odd property that it can "over-shrink"	简单的 James-Stein 估计量有一个奇怪的特性，它可以“过度收缩”
The positive part estimator simultaneously performs "selection" as well as "shrinkage"	正部分估计量同时执行“选择”和“收缩”
Consistent with our intuition the positive part estimator has uniformly lower WMSE than the unadjusted James-Stein estimator	与我们的直觉一致，正部分估计量的 WMSE 均低于未调整的 James-Stein 估计量
In summary, the positive-part transformation is an important improvement over the unadjusted James-Stein estimator	总之，正部分变换是对未经调整的 James-Stein 估计量的重要改进
The broader message is that imposing boundary conditions on shrinkage weights can improve estimation efficiency	更广泛的信息是，对收缩权重施加边界条件可以提高估计效率
Shrinkage Towards Restrictions	向约束收缩
The classical James-Stein estimator does not have direct use in applications because it is rare that we wish to shrink an entire parameter vector towards a specific point	经典的 James-Stein 估计量在应用中没有直接使用，因为我们很少希望将整个参数向量收缩到特定点
Figure 28.3: WMSE of James-Stein Estimator	图 28.3：James-Stein 估计量的 WMSE
The way to think generally about these applications it that the researcher wants to allow for generality with the large model but believes that the smaller model may be a useful approximation	一般思考这些应用的方式是，研究人员希望允许大型模型的通用性，但相信较小的模型可能是一个有用的近似值
A shrinkage estimator allows the data to smoothly select between these two options depending on the strength of information for the two specifications	收缩估计量允许数据根据两个规格的信息强度在这两个选项之间平滑地进行选择
The James-Stein estimator with positive-part trimming is	具有正部分修剪的 James-Stein 估计量为
The shrinkage estimator achieves uniformly smaller MSE if the number of restrictions is three or greater	如果约束数量为 3 或更多，则收缩估计量将获得一致较小的 MSE
It is therefore important to select the restrictions carefully	因此，仔细选择约束非常重要
These substitutions do not produce the same exact finite sample distribution but are asymptotically equivalent	这些替换不会产生完全相同的有限样本分布，但渐近等效
In linear regression we have some very convenient simplifications available	在线性回归中，我们有一些非常方便的简化方法
Group James-Stein	詹姆斯·斯坦集团
The James-Stein estimator can be applied to groups (blocks) of parameters	James-Stein 估计量可以应用于参数组（块）
The group James-Stein estimator separately shrinks each block of coefficients	James-Stein 群估计量分别缩小每个系数块
The trade-off between these factors will depend on how heterogeneous the optimal shrinkage weight varies across the parameters	这些因素之间的权衡将取决于最优收缩权重在参数之间变化的异质性
The groups should be selected based on two criteria	应根据两个标准选择组
In this case it is appropriate to separate the education and experience coefficients into different groups	在这种情况下，将教育和经验系数分成不同的组是适当的
The proof is a simple extension of the classical James-Stein theory	该证明是经典詹姆斯-斯坦理论的简单扩展
Thus the total WMSE is reduced by shrinkage	因此，总 WMSE 因收缩而降低
Empirical Illustrations	实证例证
We illustrate James-Stein shrinkage with three empirical applications	我们通过三个实证应用来说明詹姆斯-斯坦收缩
The estimated experience profiles are displayed in Figure 28.4(a)	估计的经验概况如图 28.4(a) 所示
Figure 28.4: Shrinkage Illustrations	图 28.4：收缩图解
The two least squares estimates are visually distinct	两个最小二乘估计在视觉上是不同的
It retains most features of the quartic specification, except that it smooths out the unappealing 25-year dip	它保留了四次设定的大部分功能，只是它消除了 25 年以来毫无吸引力的下降
The second application is to the Invest1993 data set used in Chapter 17	第二个应用是第 17 章中使用的 Invest1993 数据集
Accurate estimation of firm effects is challenging when the number of time series observations per firm is small	当每个公司的时间序列观测数量很少时，准确估计公司效应是具有挑战性的
To keep the analysis focused we restrict attention to firms which are traded on either the NYSE or AMEX and to the last ten years of the sample (1982-1991)	为了保持分析的重点，我们将注意力限定在纽约证券交易所或美国证券交易所交易的公司以及样本的最后十年（1982-1991）
The latter will do well if most of the fixed effects are explained by industry rather than firm-specific variation	如果大多数固定效应是由行业而不是公司特定的变化来解释的，那么后者会表现得很好
Due to the large number of estimated coefficients in the unrestricted model we use the homoskedastic weight matrix as a simplification	由于无约束模型中存在大量估计系数，我们使用同方差权重矩阵作为简化
The heteroskedastic covariance matrix is not appropriate and the cluster-robust covariance matrix will not be reliable due to the sparse dummy specification	异方差协方差矩阵不合适，并且由于稀疏虚拟设定，群组稳健协方差矩阵将不可靠
To report our results we focus on the distribution of the firm-specific effects	为了报告我们的结果，我们重点关注公司特定效应的分布
You can see that the fixed-effects estimate of the firm-specific density is more dispersed while the Stein estimator is sharper and more peaked indicating that the fixed effects estimator attributes more variation in firm-specific factors than the Stein estimator	你可以看到，公司特定密度的固定效应估计更加分散，而 Stein 估计量则更加尖锐且更加尖峰，这表明固定效应估计量比 Stein 估计量归因于公司特定因素的更多变化
Our expectation is that the Stein estimates, if used for an application such as firm-specific forecasting, will be more accurate because they will have reduced variance relative to the fixed effects estimates	我们的预期是，斯坦因估计如果用于特定公司预测等应用，将会更加准确，因为相对于固定效应估计，它们的方差会减少
A flexible specification interacts the six education dummy variables with the four regional dummies (omitting the intercept), which adds 18 coefficients and allows the return to education to vary without restriction in each region	灵活的设定将六个教育虚拟变量与四个区域相互作用dummies（省略截距），增加了 18 个系数，并允许教育回报在每个地区不受限制地变化
The least squares estimate of the return to education by region is displayed in Figure 28.5(a)	按地区划分的教育回报的最小二乘估计如图 28.5(a) 所示
That is, they are roughly linear in years of education with the same slope but different intercepts	也就是说，它们在教育年限中大致呈线性，具有相同的斜率但截距不同
To improve the precision of the estimates we shrink the four profiles towards Model 6	为了提高估计的精度，我们将四个配置文件缩小为模型 6
The Stein Rule estimates are displayed in Figure 28.5(b)	斯坦因规则估计如图 28.5(b) 所示
This ranking is constant for nearly all levels of education	这个排名对于几乎所有级别的教育都是不变的
While the Stein Rule estimates shrink the nonparametric estimates towards the common-educationfactor specification it does not impose the latter specification	虽然斯坦因规则估计将非参数估计缩小到共同教育因素设定，但它并不强加后者的设定
Figure 28.5: Stein Rule Estimation of Education Profiles Across Regions	图 28.5：各地区教育概况的斯坦因规则估计
put near zero weight on the common-factor model	对公因子模型赋予接近于零的权重
The message from these three applications is that the James-Stein shrinkage approach can be constructively used to reduce estimation variance in economic applications	这三个应用程序传达的信息是，詹姆斯-斯坦收缩方法可以建设性地用于减少经济应用中的估计方差
This shows that the benefits of Stein shrinkage are not confined to "small" samples but rather can be constructive used in moderately large samples with complicated structures	这表明斯坦因收缩的好处并不局限于“小”样品，而是可以建设性地用于结构复杂的中等大样品
Model Averaging	模型平均
Recall that the problem of model selection is how to select a single model from a general set of models	回想一下，模型选择的问题是如何从一组通用模型中选择单个模型
The key issue for estimation is how to select the averaging weights	估计的关键问题是如何选择平均权重
All models are subsets of a general superset (overlapping) model which contains all submodels as special cases	所有模型都是通用超集（重叠）模型的子集，该模型包含所有子模型作为特殊情况
Since the weights on the probability simplex sum to one, an alternative representation is to eliminate one weight by substitution	由于概率单纯形上的权重之和为 1，因此另一种表示方法是通过替换来消除一个权重
Given a weight vector we define the averaging estimator	给定一个权重向量，我们定义平均估计量
The positive-part version, however, imposes non-negativity and achieves reduced MSE as a result	然而，正部分版本强加了非负性并因此实现了 MSE 的降低
The MSE of the optimal averaging estimator is less than the MSE of the estimator of the full model in any given sample	最优平均估计量的 MSE 小于任何给定样本中完整模型的估计量的 MSE
The optimal averaging weights, however, are unknown	然而，最优平均权重是未知的
A number of methods have been proposed for selection of the averaging weights	已经提出了多种方法来选择平均权重
One simple method is equal weighting	一种简单的方法是等权重
The advantages of equal weighting are that it is simple, easy to motivate, and no randomness is introduced by estimation of the weights	等权的优点是简单、易于激励、权重估计不会引入随机性
From the standpoint of econometric methodology equal weighting is not a proper statistical method as it is an incomplete methodology	从计量经济学方法论的角度来看，等权重不是一种正确的统计方法，因为它是一种不完整的方法论
Despite these concerns equal weighting can be constructively employed when summarizing information for a non-technical audience	尽管存在这些担忧，但在为非技术受众总结信息时，可以建设性地采用同等权重
The distinct estimates are presented to illustrate the range of possible results and the average taken to represent the "consensus" or "recommended" estimate	提出不同的估计是为了说明可能结果的范围以及代表“共识”或“推荐”估计的平均值
As mentioned above, a number of methods have been proposed for selection of the averaging weights	如上所述，已经提出了多种方法来选择平均权重
In the following sections we outline four popular methods: Smoothed BIC, Smoothed AIC, Mallows averaging, and Jackknife averaging	在以下部分中，我们概述了四种流行的方法：平滑 BIC、平滑 AIC、Mallows 平均和 Jackknife 平均
Smoothed BIC and AIC	平滑的 BIC 和 AIC
This has been been interpreted to mean that the model with the highest value of the right-hand-side approximately has the highest marginal likelihood and is thus the model with the highest probability of being the true model	这被解释为意味着右侧值最高的模型大约具有最高的边际似然，因此是成为真实模型的概率最高的模型
There is another interpretation of Schwarz's result	对施瓦茨的结果还有另一种解释
which is a simple exponential transformation of the BIC	这是 BIC 的简单指数变换
These are known as BIC weights and produce the smoothed BIC estimator	这些称为 BIC 权重，并生成平滑的 BIC 估计量
Some properties of the BIC weights are as follows	BIC 权重的一些特征如下
The Smoothed BIC (SBIC) estimator is	平滑 BIC (SBIC) 估计量为
The SBIC estimator is a smoother function of the data than BIC selection as there are no discontinuous jumps across models	SBIC 估计量是比 BIC 选择更平滑的数据函数，因为模型之间不存在不连续跳跃
An advantage of the smoothed BIC weights and estimator is that it can be used to combine models from different probability families	平滑 BIC 权重和估计量的优点是它可用于组合来自不同概率族的模型
It is also important that the full formula is used for the BIC (no omission of constants) when combining models from different probability families	在组合来自不同概率族的模型时，将完整公式用于 BIC（不遗漏常数）也很重要
Computationally it is better to implement smoothed BIC with what are called "BIC differences" rather than the actual values of the BIC, as the formula as written can produce numerical overflow problems	在计算上，最好使用所谓的“BIC 差异”而不是 BIC 的实际值来实现平滑的 BIC，因为所编写的公式可能会产生数值溢出问题
denote the lowest BIC among the models and define the BIC differences	表示模型中最低的 BIC 并定义 BIC 差异
They do not provide a strong theoretical justification for this specific choice of transformation but it seems natural given the smoothed BIC formula and works well in simulations	他们没有为这种特定的变换选择提供强有力的理论依据，但考虑到平滑的 BIC 公式，这似乎很自然，并且在模拟中效果很好
The algebraic properties of the AIC weights are similar to those of the BIC weights	AIC 权重的代数性质与 BIC 权重的代数性质相似
The model with the smallest AIC receives the greatest AIC weight, and models with similar AIC values receive similar AIC weights	AIC 最小的模型获得最大的 AIC 权重，AIC 值相似的模型获得相似的 AIC 权重
Computationally the AIC weights should be computed using AIC differences	在计算上，AIC 权重应使用 AIC 差值来计算
The AIC weights algebraically equal	AIC 权重在代数上相等
The AIC weights tend to be more spread out across models than the corresponding BIC weights	AIC 权重往往比相应的 BIC 权重更分散在模型中
The Smoothed AIC (SAIC) estimator is	平滑 AIC (SAIC) 估计量为
The SAIC estimator is a smoother function of the data than AIC selection	SAIC 估计量是比 AIC 选择更平滑的数据函数
Recall that both AIC selection and BIC selection are model selection consistent in the sense that as the sample size gets large the probability that the selected model is a true model is arbtrarily close to one	回想一下，AIC 选择和 BIC 选择都是模型选择一致的，因为随着样本量变大，所选模型是真实模型的概率任意接近 1
Furthermore, BIC is consistent for parsimonious models and AIC asymptotically over-selects	此外，BIC 对于简约模型是一致的，而 AIC 渐近过度选择
These properties extend to SBIC and SAIC	这些特征延伸至SBIC 和SAIC
However, SAIC will asymptotically spread weight across both parsimonious true models and overparameterized true models, while SBIC asymptotically concentrates weight only on parsimonious true models	然而，SAIC 将渐近地将权重分散到简约真实模型和过度参数化真实模型上，而 SBIC 渐近地将权重仅集中在简约真实模型上
An interesting property of the smoothed estimators is the possibility of asymptotically spreading weight across equal-fitting parsimonious models	平滑估计量的一个有趣的特性是可以在等拟合简约模型中渐近分布权重
In large samples both SBIC and SAIC will be weighted averages of the two estimators rather than simply selecting one of the two	在大样本中，SBIC 和 SAIC 都将是两个估计量的加权平均值，而不是简单地选择两者之一
Mallows Model Averaging	Mallows 模型平均
In linear regression the Mallows criterion (28.14) applies directly to the model averaging estimator (28.29)	在线性回归中，Mallows 准则 (28.14) 直接应用于模型平均估计量 (28.29)
The model averaging estimator for fixed weights is	固定权重的模型平均估计量为
The model averaging residual is	模型平均残差为
In the case of model selection the Mallows penalty is proportional to the number of estimated coefficients	在模型选择的情况下，马洛斯惩罚与估计系数的数量成正比
In the model averaging case the Mallows penalty is the average number of estimated coefficients	在模型平均情况下，Mallows 罚分是估计系数的平均数
The Mallows-selected weight vector is that which minimizes the Mallows criterion	Mallows 选择的权重向量是最小化 Mallows 准则的权重向量
Figure 28.7: Mallows Weight Selection	图 28.7：锦葵权重选择
In the special case of two nested models the Mallows criterion can be written as	在两个嵌套模型的特殊情况下，Mallows 准则可以写为
This is the same as the Stein Rule weight (28.27) with a slightly different shrinkage constant	这与斯坦因规则权重 (28.27) 相同，但收缩常数略有不同
Based on the latter observation	基于后一种观测
The latter condition is analogous to the conditions for improvements in the Stein Rule theory	后一个条件类似于斯坦因规则理论中的改进条件
This shows that using model selection tools to select the averaging weights is asymptotically optimal for regression fitting and point forecasting	这表明使用模型选择工具来选择平均权重对于回归拟合和点预测是渐近最优的
Jackknife (CV) Model Averaging	Jackknife (CV) 模型平均
A disadvantage of Mallows selection is that the criterion is valid only when the errors are conditionally homoskedastic	Mallows 选择的缺点是该标准仅在误差条件同方差时才有效
In the Machine Learning literature this method is called stacking	在机器学习文献中，这种方法称为堆叠
A fitted averaging regression (with fixed weights) can be written as	拟合平均回归（具有固定权重）可以写为
This means that the jackknife estimate of variance (or equivalently the cross-validation criterion) equals	这意味着方差的折刀估计（或等效的交叉验证标准）等于
which is a quadratic function of the weight vector	这是权重向量的二次函数
Hansen and Racine (2012) call this the Jackknife Model Averaging (JMA) estimator	B. E. Hansen 和 Racine (2012) 将其称为 Jackknife 模型平均 (JMA) 估计量
The algebraic properties of the solution are similar to Mallows	该解的代数性质与 Mallows 类似
This result is similar to Andrews (1991c) generalization of Li (1987)'s result for model selection	这个结果类似于 Andrews (1991c) 对 Li (1987) 的模型选择结果的推广
The implication of this theory is that JMA weight selection is computationally simple and has excellent sampling performance	该理论的含义是JMA权重选择计算简单并且具有优异的采样性能
Granger-Ramanathan Averaging	格兰杰-拉马纳森平均
A method similar to JMA based on hold-out samples was proposed for forecast combination by Granger and Ramanathan (1984), and has emerged as a popular method in the modern machine learning literature	Granger 和 Ramanathan (1984) 提出了一种类似于 JMA 的基于保留样本的预测组合方法，该方法已成为现代机器学习文献中的流行方法
Randomly split the sample into two parts: an estimation an an evaluation sample	将样本随机分为两部分：估计样本和评估样本
To impose the non-negativity constraints it is best to use quadratic programming	为了施加非负约束，最好使用二次规划
This Granger-Ramanathan approach is best suited for applications with a very large sample size where the efficiency loss from the hold-out sample split is not a concern	这种 Granger-Ramanathan 方法最适合样本量非常大的应用，在这种情况下，保留样本分割带来的效率损失不构成问题
We illustrate the model averaging methods with the empirical application from Section 28.18, which reported wage regression estimates for the CPS sub-sample of Asian women focusing on the return to experience between 0 and 30 years	我们通过第 28.18 节的实证应用来说明模型平均方法，该节报告了亚洲女性 CPS 子样本的工资回归估计，重点关注 0 到 30 年间的经验回报
Also reported in the final column is the weighted average estimate of the return to experience as a percentage	最后一栏中还报告了经验回报的加权平均估计百分比
The results show that the methods put weight on somewhat different models	结果表明，这些方法偏重于有些不同的模型
The averaging estimators from the non-BIC methods are similar to one another but SBIC produces a much smaller estimate than the other methods	非 BIC 方法的平均估计量彼此相似，但 SBIC 产生的估计值比其他方法小得多
Table 28.2: Model Averaging Weights and Estimates of Return to Experience among Asian Women	表 28.2：亚洲女性的模型平均权重和经验回报估计
Using (8.21) we can write	利用(8.21)我们可以写出
where the final equality is the multivariate normal integral	其中最终的等式是多元正态积分
Proof of Theorem 28.2 From (28.11)	定理 28.2 的证明来自 (28.11)
The final equality holds under the assumption of conditional homoskedasticity	最终的等式在条件同方差的假设下成立
The final equality holds under conditional homoskedasticity	最终的等式在条件同方差下成立
Proof of Theorem 28.4 The proof uses Taylor expansions similar to those used for the asymptotic distribution theory of the MLE in nonlinear models	定理 28.4 的证明 该证明使用泰勒展开式，类似于非线性模型中 MLE 渐近分布理论所使用的泰勒展开式
We avoid technical details so this is not a full proof	我们避免了技术细节，因此这不是完整的证明
and the Wald statistic on the left-side of (28.35) is uniformly integrable	(28.35) 左侧的 Wald 统计量是一致可积的
The asymptotic convergence (28.35) holds for the MLE under standard regularity conditions (including correct specification)	在标准正则条件（包括正确的设定）下，MLE 的渐近收敛性 (28.35) 成立
Notice that this calculation relies on the assumption of conditional homoskedasticity	请注意，此计算依赖于条件同方差的假设
Now consider the Mallows criterion	现在考虑 Mallows 准则
This is the result as stated	这就是所说的结果
This means that the selection criterion is model selection consistent as claimed	这意味着选择标准与所声称的模型选择一致
This shows that the selection criterion asymptotically over-selects with positive probability	这表明选择标准以正概率渐近过度选择
The next step is to show that	下一步是证明
Together these imply (28.36)	这些一起意味着（28.36）
Finally we show that (28.36) implies (28.18)	最后我们证明 (28.36) 蕴涵 (28.18)
The second inequality is (28.36)	第二个不等式是(28.36)
The second technical result is from Bock (1975, Theorems A\&B)	第二个技术结果来自 Bock（1975，定理 A\&B）
By expansion and Legendre's duplication formula	通过展开式和勒让德复制公式
Proof of Theorem 28.10 By the quadratic structure we can calculate that	定理28.10的证明 通过二次结构我们可以计算出
Machine Learning	机器学习
This chapter reviews machine learning methods for econometrics	本章回顾计量经济学的机器学习方法
This chapter briefly covers ridge regression, Lasso, elastic net, regression trees, bagging, random forests, ensembling, Lasso IV, double-selection/post-regularization, and double/debiased machine learning	本章简要介绍了岭回归、Lasso、弹性网络、回归树、装袋、随机森林、集成、Lasso IV、双重选择/后正则化和双重/去偏机器学习
A classic reference is Hastie, Tibshirani, and Friedman (2008)	经典参考文献是 Hastie、Tibshirani 和 Friedman (2008)
For reviews of machine learning in econometrics see Belloni, Chernozhukov and Hansen (2014a), Mullainathan and Spiess (2017), Athey and Imbens (2019), and Belloni, Chernozhukov, Chetverikov, Hansen, and Kato (2021)	有关计量经济学中机器学习的评论，请参阅 Belloni、Chernozhukov、Chetverikov、Hansen 和 Kato (2021)
Big Data, High Dimensionality, and Machine Learning	大数据、高维和机器学习
Three inter-related concepts are "big data", "high dimensionality", and "machine learning"	三个相互关联的概念是“大数据”、“高维”和“机器学习”
Big data is typically used to describe datasets which are unusually large and/or complex relative to traditional applications	大数据通常用于描述相对于传统应用程序异常大和/或复杂的数据集
Some challenges associated with big data are storage, transmission, and computation	与大数据相关的一些挑战是存储、传输和计算
High Dimensional is typically used to describe datasets with an unusually large number of variables	高维通常用于描述具有异常大量变量的数据集
Machine Learning is typically used to describe a set of algorithmic approaches to statistical learning	机器学习通常用于描述一组统计学习的算法方法
Only recently has the literature expanded to include inference	直到最近，文献才扩展到包括推断
In this chapter we focus on supervised learning as it is a natural extension of linear regression	在本章中，我们重点关注监督学习，因为它是线性回归的自然延伸
Machine learning arose from the computer science literature and thereby adopted a distinct set of labels to describe familar concepts	机器学习源于计算机科学文献，因此采用了一组不同的标签来描述熟悉的概念
In this chapter, however, we will use standard econometric language and terminology	然而，在本章中，我们将使用标准的计量经济学语言和术语
For econometrics, machine learning can be thought of as "highly nonparametric"	对于计量经济学来说，机器学习可以被认为是“高度非参数的”
Connections between nonparametric estimation, model selection, and machine learning methods arise in tuning parameter selection by cross-validation and evaluation by out-of-sample prediction accuracy	非参数估计、模型选择和机器学习方法之间的联系出现在通过交叉验证调整参数选择和通过样本外预测精度评估的过程中
These issues are taken seriously in machine learning applications; frequently with multiple levels of hold-out samples	这些问题在机器学习应用中受到认真对待；经常使用多个级别的保留样本
High Dimensional Regression	高维回归
It may seem shocking to contemplate an application with more regressors than observations	考虑一个自变量多于观测值的应用程序似乎令人震惊
Many of the variables may be low-information but it is difficult to know a priori which are relevant and which irrelevant	许多变量可能是低信息的，但很难先验地知道哪些是相关的，哪些是不相关的
In this chapter we discuss several alternative estimation methods, including ridge regression, Lasso, elastic net, regression trees, and random forests	在本章中，我们讨论几种替代估计方法，包括岭回归、套索、弹性网络、回归树和随机森林
p-norms	p-范数
For discussion of ridge and Lasso regression we will be making extensive use of the 1-norm and 2norm, so it is useful to review the definition of the general p-norm	为了讨论岭回归和 Lasso 回归，我们将广泛使用 1-范数和 2-范数，因此回顾一下一般 p-范数的定义是有用的
Important special cases include the 1-norm	重要的特殊情况包括 1-范数
We also define the "0-norm"	我们还定义了“0-范数”
the number of non-zero elements	非零元素的数量
This is only heuristically labeled as a "norm"	这只是启发性地标记为“规范”
The p-norm satisfies the following additivity property	p-范数满足以下可加性性质
The following inequalities are useful	以下不等式很有用
Applying Hölder's (29.1) we also have the inequality	应用 Hölder 的 (29.1) 我们也有不等式
Ridge Regression	岭回归
Ridge regression is a shrinkage-type estimator with similar but distinct properties from the JamesStein estimator (see Section 28.20)	岭回归是一种收缩型估计量，与 JamesStein 估计量具有相似但不同的特征（参见第 28.20 节）
We discuss both in turn	我们依次讨论两者
The second motivation is based on penalization	第二个动机是基于惩罚
Minimization subject to a penalty has a dual representation as constrained minimization	受到惩罚的最小化具有作为约束最小化的双重表示
This shows that they have the same solution	这表明他们有相同的解决方案
Figure 29.1: Ridge Regression Dual Minimization Solution	图 29.1：岭回归双极小化解决方案
and minimize the SSE subject to the penalty	并将上交所受到的处罚降到最低
This allows some coefficients to be penalized more (or less) than other coefficients	这允许某些系数比其他系数受到更多（或更少）的惩罚
As for least squares there is a simple formula to calculate the CV criterion for ridge regression which greatly speeds computation	对于最小二乘法，有一个简单的公式来计算岭回归的 CV 标准，这大大加快了计算速度
Theorem 29.1 The leave-one-out ridge regression prediction errors are	定理 29.1 留一岭回归预测误差为
For a proof see Exercise 29.1	证明参见练习 29.1
I am unaware of a similar optimality result for cross-validated-selected ridge estimation	我不知道交叉验证选择的岭估计有类似的最优结果
An important caveat is that the ridge regression estimator is not invariant to rescaling the regressors nor other linear transformations	一个重要的警告是，岭回归估计量对于重新调整自变量或其他线性变换并不是不变的
Therefore it is common to apply ridge regression after applying standardizing transformations to the regressors	因此，通常在对自变量应用标准化变换后应用岭回归
In Stata, ridge regression is available in the downloadable package lassopack	在 Stata 中，岭回归可在可下载包 lassopack 中找到
Statistical Properties of Ridge Regression	岭回归的统计特性
Under the assumptions of the linear regression model it is straightforward to calculate the exact bias and variance of the ridge regression estimator	在线性回归模型的假设下，可以直接计算岭回归估计量的精确偏误和方差
Under random sampling its covariance matrix is	随机采样下其协方差矩阵为
Under cluster or serial dependence the central component modifies in the standard way	在群组或串行依赖下，中心成分以标准方式进行修改
We can measure estimation efficiency by the mean squared error (MSE) matrix	我们可以通过均方误差（MSE）矩阵来衡量估计效率
Given that the ridge estimator is explicitly biased there are natural concerns about how to interpret standard errors calculated from these covariance matrix estimators	鉴于岭估计量明显有偏误，自然会担心如何解释从这些协方差矩阵估计量计算出的标准误差
Illustrating Ridge Regression	岭回归说明
Figure 29.2: Least Squares and Ridge Regression Estimates of the Return to Experience To illustrate ridge regression we use the CPS dataset with the sample of Asian men with a college education (16 years of education or more) to estimate the experience profile	图 29.2：经验回报的最小二乘法和岭回归估计 为了说明岭回归，我们使用 CPS 数据集和受过大学教育（16 年或以上教育）的亚洲男性样本来估计经验概况
We estimate the polynomial regression by least squares and by ridge regression, the latter shrinking the five coefficients on experience but not the intercept	我们通过最小二乘法和岭回归来估计多项式回归，后者根据经验缩小五个系数，但不缩小截距
We calculate the ridge parameter by cross-validation	我们通过交叉验证计算岭参数
Figure 29.2(b) displays the estimated experience profiles	图 29.2(b) 显示了估计的经验概况
Lasso	套索
In the previous section we learned that ridge regression minimizes the sum of squared errors plus a 2-norm penalty on the coefficient vector	在上一节中，我们了解到岭回归最小化了误差平方和加上系数向量的 2-范数惩罚
The Lasso estimator is its minimizer	Lasso 估计量是其最小化
Except for special cases the solution must be found numerically	除特殊情况外，必须通过数值方式找到解决方案
The Lasso minimization problem has the dual constrained minimization problem	Lasso最小化问题具有对偶约束最小化问题
To see that the two problems are the same observe that the constrained minimization problem has the Lagrangian	要看到这两个问题是相同的，请观察约束最小化问题具有拉格朗日
which has first order conditions	具有一阶条件
This is the same as those for minimization of the penalized criterion	这与惩罚标准最小化的情况相同
Thus the solutions are identical	因此解决方案是相同的
Figure 29.3: Lasso Dual Minimization Solution	图 29.3：套索对偶最小化解决方案
This eliminates a subset of the coefficients	这消除了系数的子集
The Lasso path is drawn with the dashed line	套索路径用虚线绘制
Thus while Lasso is a shrinkage estimator it does not shrink individual coefficients monotonically	因此，虽然 Lasso 是收缩估计量，但它不会单调收缩各个系数
However both estimators follow similar solution paths, following the ridge of the SSE criterion rather than taking a direct path towards the origin	然而，两个估计量都遵循相似的解决方案路径，遵循 SSE 准则的山脊，而不是采取直接通往原点的路径
which has the explicit solution	有显式解
This shows that theLasso estimate is a continuous transformation of the least squares estimate	这表明Lasso估计是最小二乘估计的连续变换
Figure 29.4: Transformations of Least Squares Estimates by Selection, Ridge, and Lasso	图 29.4：通过选择、岭和套索进行最小二乘估计的变换
It is constructive to contrast this behavior with ridge regression and selection estimation	将这种行为与岭回归和选择估计进行对比是有建设性的
Panel (a) displays the selection and ridge transformations, and panel (b) displays the Lasso transformation	面板 (a) 显示选择和山脊变换，面板 (b) 显示套索变换
The Lasso and ridge estimators are continuous functions while the selection estimator is a discontinuous function	Lasso 和岭估计量是连续函数，而选择估计量是不连续函数
Consequently, we expect the Lasso to have reduced variance relative to selection estimators, permitting overall lower MSE	因此，我们预计 Lasso 相对于选择估计量的方差会减少，从而总体上降低 MSE
As for ridge regression, Lasso is not invariant to the scaling of the regressors	对于岭回归，Lasso 对于自变量的缩放并不是不变的
It is conventional to scale all the variables to have mean zero and unit variance	通常将所有变量缩放至均值为零和单位方差
Lasso is also not invariant to rotations of the regressors	套索对于自变量的旋转也不是不变的
This is troubling as typically there is no default specification	这很令人不安，因为通常没有默认设定
Applications of Lasso estimation in economics are growing	Lasso 估计在经济学中的应用正在不断增长
Oster (2018) uses household scanner data to measure the effect of a diabetes diagnosis on food purchases	Oster（2018）使用家用扫描仪数据来衡量糖尿病诊断对食品购买的影响
Lasso Penalty Selection	套索惩罚选择
It does not, however, provide a statistical rule for selection	然而，它没有提供选择的统计规则
The most common selection method is minimization of K-fold cross validation (see Section 28.9)	最常见的选择方法是最小化 K 倍交叉验证（参见第 28.9 节）
K-fold cross validation is an estimator of out-of-sample mean squared forecast error	K 折交叉验证是样本外均方预测误差的估计量
Therefore penalty selection by minimization of the K-fold criterion is aimed to select models with good forecast accuracy, but not necessarily for other purposes such as accurate inference	因此，通过最小化K倍准则进行惩罚选择的目的是选择具有良好预测精度的模型，但不一定用于其他目的，例如准确推断
The idea is to select a model similar but more parsimonious than the CV-minimizing choice	这个想法是选择一个与 CV 最小化选择类似但更简约的模型
Asymptotic consistency of CV selection for Lasso estimation has been demonstrated by Chetverikov, Liao, and Chernozhukov (2021)	Chetverikov、Liao 和 Chernozhukov (2021) 证明了 Lasso 估计的 CV 选择的渐近一致性
Lasso Computation	套索计算
The constraint representation of Lasso is minimization of a quadratic subject to linear inequality constraints	Lasso 的约束表示是受线性不等式约束的二次方程的最小化
The LARS algorithm produces a path of coefficients starting at the origin and ending at least squares	LARS 算法生成一条从原点开始到至少平方结束的系数路径
This algorithm produces the Lasso path	该算法生成 Lasso 路径
The demonstration is tedious so is not shown here	演示比较繁琐，这里就不展示了
The most popular computational implementation for Lasso is the R glmnet command in the glmnet package	Lasso 最流行的计算实现是 glmnet 包中的 R glmnet 命令
In Stata, Lasso is available with the command lasso	在 Stata 中，可以通过 lasso 命令使用 Lasso
An alternative downloadable package with many options is lassopack	lassopack 是一个具有多种选项的替代下载包
Asymptotic Theory for the Lasso	套索的渐近理论
The current distribution theory of Lasso estimation is challenging and mostly focused on convergence rates	目前 Lasso 估计的分布理论具有挑战性，并且主要集中在收敛率上
The model is the high-dimensional projection framework:	该模型是高维投影框架：
Assumption 29.1 Restricted Eigenvalue Condition (REC)	假设29.1 受约束特征值条件（REC）
We provide a rate for the Lasso estimator under the assumption of normal errors	我们在正常误差假设下提供了 Lasso 估计量的速率
Instead, the assumption of sparsity enables the Lasso estimator to achieve a much improved rate of convergence	相反，稀疏性的假设使 Lasso 估计量能够实现大大提高的收敛速度
Other papers in the statistics literature (see the monograph of Bühlmann and van de Geer (2011)) use instead the assumption of sub-Gaussian tails, which is weaker than normality	统计文献中的其他论文（参见 Bühlmann 和 van de Geer (2011) 的专着）使用亚高斯尾部假设，该假设比正态性弱
A theory which allows for non-normal heteroskedastic errors has been developed by Belloni, Chen, Chernozhukov, and Hansen (2012)	Belloni、Chen、Chernozhukov 和 Hansen (2012) 提出了一种允许非正态异方差误差的理论
Fortunately there are alternatives to the sparsity assumption as we discuss in the following section	幸运的是，正如我们在下一节中讨论的那样，稀疏性假设还有其他选择
Approximate Sparsity	近似稀疏性
The theory of the previous section used the strong assumption that the true regression is sparse: only a subset of the coefficients are non-zero, and the convergence rate depends on the cardinality of the nonzero coefficients	上一节的理论使用了真实回归是稀疏的强假设：只有系数的子集非零，并且收敛速度取决于非零系数的基数
Assumption 29.2 Approximate Sparsity	假设 29.2 近似稀疏性
Belloni, Chen, Chernozhukov, and Hansen (2012) show that convergence results similar to Theorem 29.3 hold under the approximate sparsity condition of Assumption 29.2	Belloni、Chen、Chernozhukov 和 Hansen (2012) 表明，在假设 29.2 的近似稀疏条件下，类似于定理 29.3 的收敛结果成立
Their results show that exact sparsity is not required for Lasso estimation, rather what is needed is approximation properties similar to those used in series regression theory	他们的结果表明，Lasso 估计不需要精确的稀疏性，而需要的是类似于级数回归理论中使用的近似特征
The approximate sparsity condition fails when the regressors cannot be easily ordered	当自变量无法轻松排序时，近似稀疏条件就会失败
Elastic Net	弹性网
The difference between Lasso and ridge regression is that the Lasso uses the 1-norm penalty while ridge uses the 2-norm penalty	Lasso 和 Ridge 回归之间的区别在于 Lasso 使用 1-范数惩罚，而 Ridge 使用 2-范数惩罚
Since the elastic net penalty is linear-quadratic the solution is computationally similar to Lasso	由于弹性净惩罚是线性二次的，因此该解决方案在计算上类似于 Lasso
Elastic net can be implemented in R with the glmnet command	弹性网络可以在 R 中使用 glmnet 命令来实现
In Stata use elasticnet or the downloadable package lassopack	在 Stata 中使用 elasticnet 或可下载的包 lassopack
Post-Lasso	后套索
This is known as the Post-Lasso estimator	这称为后套索估计量
The procedure takes two steps	该过程需要两个步骤
Belloni and Chernozhukov (2013) provide conditions under which the post-Lasso estimator has the same convergence rates as the Lasso estimator	Belloni 和 Chernozhukov (2013) 提供了后 Lasso 估计量与 Lasso 估计量具有相同收敛速度的条件
The post-Lasso is a hard thresholding or post-model-selection estimator	后套索是一种硬阈值或后模型选择估计量
Regression Trees	回归树
Regression trees were introduced by Breiman, Friedman, Olshen, and Stone (1984), and are also known by the acronym CART for Classification and Regression Trees	回归树由 Breiman、Friedman、Olshen 和 Stone (1984) 提出，也被称为分类和回归树的缩写 CART
Regression trees may be especially useful when there are a combination of continuous and discrete regressors so that traditional kernel and series methods are challenging to implement	当存在连续和离散自变量的组合时，回归树可能特别有用，因此传统的核方法和级数方法难以实现
They are also similar to threshold regression with intercepts only (no slope coefficients) and a very large number of thresholds	它们也类似于仅具有截距（无斜率系数）和大量阈值的阈值回归
If a regressor is categorical is should be first transformed to a set of binary variables	如果自变量是分类的，则应首先将其转换为一组二值变量
The literature on regression trees has developed some colorful language to describe the tools based on the metaphor of a living tree. 1	关于回归树的文献已经发展了一些丰富多彩的语言来描述基于活树的隐喻的工具
A subsample is a branch	1. 子样本是一个分支
The basic algorithm starts with a single branch	基本算法从单个分支开始
Pruning back is an application of backward stepwise regression with the goal of reducing over-parameterization and estimation variance	向后剪枝是向后逐步回归的一种应用，其目标是减少过度参数化和估计方差
The regression tree algorithm makes extensive use of the regression sample split algorithm	回归树算法大量使用了回归样本分割算法
The regression tree algorithm applies sequential sample splitting to make a large number of splits, each on a sub-sample of observations	回归树算法应用顺序样本分割来进行大量分割，每个分割针对观测的子样本
The basic growth algorithm is as follows	基本增长算法如下
This is the minimal number of observations on each leaf	这是每片叶子上的最小观测数量
After the growth algorithm has been run, the estimated regression is a multi-dimensional step function with a large number of branches and leaves	运行增长算法后，估计的回归是一个具有大量分支和叶子的多维阶跃函数
The basic pruning algorithm is as follows	基本剪枝算法如下
The Mallows-type criterion is used because of its simplicity, but to my knowledge does not have a theoretical foundation for regression tree penalty selection	使用Mallows型准则是因为它简单，但据我所知，它没有回归树惩罚选择的理论基础
The advantage of regression trees is that they provide a highly flexible nonparametric approximation	回归树的优点是它们提供了高度灵活的非参数近似
To obtain a good approximation a regression tree may require a high number of leaves which can result in a non-parsimonious model with high estimation variance	为了获得良好的近似值，回归树可能需要大量的叶子，这可能会导致具有高估计方差的非简约模型
The sampling distribution of regression trees is difficult to derive, in part because of the strong correlation between the placement of the sample splits and the estimated means	回归树的抽样分布很难推导，部分原因是样本分割的位置和估计均值之间存在很强的相关性
While reducing estimation efficiency (the sample is effectively halved) the estimated conditional mean will not be distorted by the correlation between the estimated splits and means	在降低估计效率（样本实际上减半）的同时，估计的条件均值不会因估计的分割和均值之间的相关性而失真
Regression trees algorithms are implemented in the R package rpart	回归树算法在 R 包 rpart 中实现
Bagging	套袋
Bagging (bootstrap aggregating) was introduced by Breiman (1996) as a method to reduce the variance of a predictor	Breiman (1996) 引入 Bagging（引导聚合）作为减少预测变量方差的方法
The average of the bootstrap estimates is the bagging estimator of the CEF	Bootstrap 估计的平均值是 CEF 的 bagging 估计量
Bagging is believed to be useful when the CEF estimator has low bias but high variance	当 CEF 估计量具有低偏误但高方差时，Bagging 被认为是有用的
Bagging is believed to be less useful for estimators with high bias, as bagging may exaggerate the bias	据信，Bagging 对于具有高偏误的估计量来说不太有用，因为 bagging 可能会夸大偏误
We first describe the estimation algorithm	我们首先描述估计算法
To understand the bagging process we use an example from Bühlmann and Yu (2002)	为了理解装袋过程，我们使用 Bühlmann 和 Yu (2002) 的例子
Figure 29.5: Bagging and Selection	图 29.5：装袋和选择
Bühlmann and Yu (2002) also calculate that most of this MSE reduction is due to a reduction in the variance of the bagged estimator	Bühlmann 和 Yu (2002) 还计算出 MSE 减少的大部分是由于袋装估计量方差的减少
The most common application of bagging is to regression trees	bagging 最常见的应用是回归树
This variance estimator is based on Efron (2014)	该方差估计量基于 Efron (2014)
While Breiman's proposal and most applications of bagging are implemented using the nonparametric bootstrap, an alternative is to use subsampling	虽然 Breiman 的提议和大多数装袋应用都是使用非参数引导程序实现的，但另一种方法是使用子采样
It turns out that it is somewhat easier to develop a distribution theory for bagging under subsampling, so a subsampling assumption is frequently employed in theoretical treatments	事实证明，在子采样下开发 bagging 的分布理论要容易一些，因此在理论处理中经常采用子采样假设
Random Forests	随机森林
Random forests, introduced by Breiman (2001), are a modification of bagged regression trees	Breiman (2001) 引入的随机森林是袋装回归树的改进
Random forests are popular in machine learning applications and have effectively displaced simple regression trees	随机森林在机器学习应用中很流行，并且有效地取代了简单的回归树
Consider the procedure of applying bagging to regression trees	考虑将装袋应用于回归树的过程
This decorrelation reduces the variance of the bootstrap average, thereby reducing its MSE	这种去相关减少了自举平均值的方差，从而降低了其 MSE
The basic random forest algorithm is as follows	基本的随机森林算法如下
The recommended defaults are taken from the description in Hastie, Tibshirani, and Friedman (2008)	推荐的默认值取自 Hastie、Tibshirani 和 Friedman (2008) 中的描述
This reduces the variance of the bootstrap average	这减少了引导平均值的方差
The infinitesimal jackknife (29.18) can be used for variance and standard error estimation, as discussed in Wager, Hastie, and Efron (2014)	无穷小折刀 (29.18) 可用于方差和标准误差估计，如 Wager、Hastie 和 Efron (2014) 中所述
While random forests are popular in applications, a distributional theory has been slow to develop	虽然随机森林在应用中很流行，但分布式理论的发展却很缓慢
Some of the more recent results have made progress by focusing on random forests generated by subsampling rather than bootstrap (see the discussion at the end of the previous section)	最近的一些结果通过关注子采样而不是引导生成的随机森林而取得了进展（请参阅上一节末尾的讨论）
A variant proposed by Wager and Athey (2018) is to use honest trees (see the discussion at the end of Section 29.15) to remove the dependence between the sample splits and the sample means	Wager 和 Athey（2018）提出的一个变体是使用诚实树（参见第 29.15 节末尾的讨论）来消除样本分割和样本均值之间的依赖性
Consistency and asymptotic normality has been established by Wager and Athey (2018)	Wager 和 Athey (2018) 建立了一致性和渐近正态性
When combined with the honest tree construction, this ensures asymptotic normality of the estimator	当与诚实树结构相结合时，这确保了估计量的渐近正态性
The standard computational implementation of random forests is the R randomForest command	随机森林的标准计算实现是 R randomForest 命令
Ensembling	合奏
Ensembling is the term used in machine learning for model averaging across machine learning algorithms	集成是机器学习中用于跨机器学习算法进行模型平均的术语
Ensembling is popular in applied machine learning	集成在应用机器学习中很流行
We discussed model averaging models in Sections 28.26-28.31	我们在第 28.26-28.31 节中讨论了模型平均模型
This selects the model averaging weights by minimizing a cross-validation criterion, subject to the constraint that the weights are non-negative and sum to one	这通过最小化交叉验证标准来选择模型平均权重，但受到权重非负且总和为 1 的约束
Unfortunately, the theoretical literature concerning ensembling is thin	不幸的是，有关集成的理论文献很少
Much of the advice concerning specific methods is based on empirical performance	关于具体方法的许多建议都是基于实证表现
Lasso IV	套索四号
Belloni, Chen, Chernozhukov, and Hansen (2012) propose Lasso for estimation of the reduced form of an instrumental variables regression	Belloni、Chen、Chernozhukov 和 Hansen（2012）提出 Lasso 来估计工具变量回归的简化形式
The model is linear IV	该模型是线性 IV
The paper discusses alternative formulations	本文讨论了替代方案
We can reverse the procedure	我们可以逆转这个过程
Theorem 29.4 Under the Assumptions listed in Theorem 3 of Belloni, Chen, Chernozhukov, and Hansen (2012), including	定理 29.4 根据 Belloni、Chen、Chernozhukov 和 Hansen (2012) 的定理 3 列出的假设，包括
Condition (29.19) is one of the key assumptions needed for the distribution result (29.20)	条件（29.19）是分布结果（29.20）所需的关键假设之一
For Lasso SSIV, equation (29.21) replaces (29.19)	对于 Lasso SSIV，方程 (29.21) 替代 (29.19)
Both interpretations suggest that Lasso SSIV is the preferred estimator	两种解释都表明 Lasso SSIV 是首选估计量
IV Lasso can be implemented in Stata using the downloadable package ivlasso	IV Lasso 可以使用可下载的 ivlasso 包在 Stata 中实现
Double Selection Lasso	双选套索
Post-estimation inference is difficult with most machine learning estimators	对于大多数机器学习估计量来说，估计后推断很困难
Belloni, Chernozhukov, and Hansen (2014b) proposed an alternative estimation and inference method which achives better coverage rates	Belloni、Chernozhukov 和 Hansen（2014b）提出了一种替代的估计和推断方法，可以实现更好的覆盖率
The double-selection estimator as recommended by Belloni, Chernozhukov, and Hansen (2014b) is:	Belloni、Chernozhukov 和 Hansen (2014b) 推荐的双重选择估计量为：
It should be emphasized that this distributional claim is asymptotic; finite sample inferences remain distorted from nominal levels	应该强调的是，这种分布主张是渐近的；有限样本的推断仍然偏离名义水平
Furthermore, the result rests on the adequacy of the approximate sparsity assumption for both the structural equation (29.22) and the auxillary regression (29.23)	此外，结果取决于结构方程（29.22）和辅助回归（29.23）的近似稀疏性假设的充分性
The primary advantage of the double-selection estimator is its simplicity and clear intuitive structure	双选估计量的主要优点是其简单性和清晰直观的结构
In Stata, the double-selection Lasso estimator can be computed by the dsregress command or with the pdslasso add-on package	在 Stata 中，双重选择 Lasso 估计量可以通过 dsregress 命令或使用 pdslasso 附加包来计算
Post-Regularization Lasso	后正则化套索
A potential improvement on double-selection Lasso is the post-regularization Lasso estimator of Chernozhukov, Hansen, and Spindler (2015), which is labeled as partialing-out Lasso in the Stata manual	双选 Lasso 的一个潜在改进是 Chernozhukov、Hansen 和 Spindler (2015) 的正则化后 Lasso 估计量，在 Stata 手册中被标记为部分化 Lasso
The estimator is essentially the same as Robinson (1988) for the partially linear model (see Section 19.24) but estimated by Lasso rather than kernel regression	该估计量本质上与 Robinson (1988) 的部分线性模型相同（参见第 19.24 节），但通过 Lasso 而不是核回归进行估计
We first transform the structural equation (29.22) to eliminate the high-dimensional component	我们首先对结构方程（29.22）进行变换以消除高维成分
The estimator recommended by Chernozhukov, Hansen, and Spindler (2015) is:	Chernozhukov、Hansen 和 Spindler（2015）推荐的估计量是：
These insights are formalized in the following distribution theory	这些见解在以下分布理论中得到了形式化
Chernozhukov, Hansen, and Spindler (2015) state the same distributional result under weaker regularity conditions	Chernozhukov、Hansen 和 Spindler (2015) 在较弱的正则性条件下陈述了相同的分布结果
Regarding the theory, the derivation of the asymptotic theory for the post-regularization estimator is considerably easier than that for the double-selection estimator, as it only involves the manipulation of rates of convergence, while the double-selection estimator requires a careful attention to the handling of the union of the regressor sets	关于理论，后正则化估计量的渐近理论的推导比双选择估计量的渐进理论要容易得多，因为它只涉及收敛率的操纵，而双选择估计量需要仔细注意自变量集并集的处理
The partialing-out Lasso estimator is available with the poregress command in Stata (implemented with post-Lasso estimation only), or with the pdslasso add-on package	部分化 Lasso 估计量可通过 Stata 中的 poregress 命令使用（仅通过后 Lasso 估计实现），或使用 pdslasso 附加包
Double/Debiased Machine Learning	双重/去偏误机器学习
The most recent contribution to inference methods for model (29.22) is the Double/Debiased machine learning (DML) estimator of Chernozhukov, Chetverikov, Demirer, Duflo, Hansen, Newey, and Robins (2018)	对模型推断方法 (29.22) 的最新贡献是 Chernozhukov、Chetverikov、Demirer、Duflo、Hansen、Newey 和 Robins (2018) 的 Double/Debiased 机器学习 (DML) 估计量
This estimation method has received considerable attention among econometricians in recent years and is considered the state-of-the-art estimation method	这种估计方法近年来受到计量经济学家的广泛关注，被认为是最先进的估计方法
The DML estimator extends the post-regularization estimator of the previous section by adding samplesplitting similarly to the split-sample IV estimator (see Section 29.19)	DML 估计量通过添加类似于分割样本 IV 估计量的样本分割来扩展上一节的后正则化估计量（参见第 29.19 节）
The authors argue that this reduces the dependence between the estimation stages and can improve performance	作者认为，这减少了估计阶段之间的依赖性，并且可以提高性能
The estimation algorithm is as follows	估计算法如下
They are asymptotically equivalent but DML2 is preferred	它们渐近等价，但首选 DML2
Theorem 29.6 Under the assumptions of Theorem 29.5,	定理29.6 在定理29.5的假设下，
The authors argue that the DML estimator has improved sampling performance due to an improved rate of convergence of certain error terms	作者认为，由于某些误差项的收敛速度有所提高，DML 估计量提高了采样性能
Under sample splitting, however, we have an improved rate of convergence	然而，在样本分割下，我们的收敛速度有所提高
Consequently, it is unclear if the distributional impact of sample splitting is large or small	因此，尚不清楚样本分割的分布影响是大还是小
The advantage of the DML estimator over the post-regularization estimator is that the sample splitting eliminates the dependence between the two estimation steps, thereby reducing post-model-selection bias	DML 估计量相对于后正则化估计量的优点在于样本分割消除了两个估计步骤之间的依赖性，从而减少了后模型选择偏误
At the beginning of this section the DML estimator was described as the "state-of-the-art"	在本节的开头，DML 估计量被描述为“最先进的”
This field is rapidly developing so this specific estimator may be soon eclipsed by a further iteration	这个领域正在迅速发展，因此这个特定的估计量可能很快就会因进一步的迭代而黯然失色
In Stata, the DML estimator is available with the xporegress command	在 Stata 中，DML 估计量可通过 xporegress 命令使用
Proof of Theorem 29.2 Combining (29.8) and (29.9) we find that	定理 29.2 的证明 结合 (29.8) 和 (29.9) 我们发现
The MSE of the least squares estimator is	最小二乘估计量的 MSE 为
This shows that (29.28) is positive definite	这表明 (29.28) 是正定的
holds with arbitrarily large probability	以任意大的概率成立
The remainder of the proof is algebraic, based on manipulations of the estimation criterion function, conditional on the event (29.31)	证明的其余部分是代数的，基于估计标准函数的操作，以事件（29.31）为条件
The second inequality is Hölder's (29.2) and the third holds by (29.31)	第二个不等式由 Hölder 的 (29.2) 成立，第三个不等式由 (29.31) 成立
Together with (29.32), (29.33) implies	与 (29.32) 一起，(29.33) 意味着
The second inequality is (29.4)	第二个不等式是（29.4）
Equation (29.34) also implies	方程（29.34）也意味着
Using (29.4) and (29.17)	使用（29.4）和（29.17）
Proof of Theorem 29.4 We provide a sketch of the proof	定理 29.4 的证明 我们提供了证明的草图
Similar to (29.30), under sufficient regularity conditions	与(29.30)类似，在充分正则条件下
By the Schwarz inequality and (29.37)	由施瓦茨不等式和 (29.37)
the final inequality under (29.19)	(29.19) 下的最终不等式
By the Hölder inequality (29.2), (29.38), and (29.39),	根据霍尔德不等式 (29.2)、(29.38) 和 (29.39)，
the final bounds by (29.37) and (29.21)	最终界限为（29.37）和（29.21）
which has the stated asymptotic distribution	其具有规定的渐近分布
The terms on the right side beyond the first are asymptotically negligible because	第一项之外的右侧项渐近可以忽略不计，因为
by the Schwarz inequality and the above results, and	由 Schwarz 不等式和上述结果，以及
by Hölder's (29.2), Theorem 29.3, (29.39), and Assumption (29.26)	由霍尔德 (29.2)、定理 29.3、(29.39) 和假设 (29.26) 得出
